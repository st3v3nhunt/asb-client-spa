(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"05b9":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}Object.create;function i(e){return this instanceof i?(this.v=e,this):new i(e)}function o(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{u(o[e](t))}catch(n){h(s[0][3],n)}}function u(e){e.value instanceof i?Promise.resolve(e.value.v).then(l,d):h(s[0][2],e)}function l(e){c("next",e)}function d(e){c("throw",e)}function h(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}}Object.create},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},"0707":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"07aa":function(e,t,n){"use strict";var r,i,o,s;(function(e){e["message"]="message",e["receiverOpen"]="receiver_open",e["receiverDrained"]="receiver_drained",e["receiverFlow"]="receiver_flow",e["receiverError"]="receiver_error",e["receiverClose"]="receiver_close",e["settled"]="settled"})(r||(r={})),function(e){e["sendable"]="sendable",e["senderOpen"]="sender_open",e["senderDraining"]="sender_draining",e["senderFlow"]="sender_flow",e["senderError"]="sender_error",e["senderClose"]="sender_close",e["accepted"]="accepted",e["released"]="released",e["rejected"]="rejected",e["modified"]="modified",e["settled"]="settled"}(i||(i={})),function(e){e["sessionOpen"]="session_open",e["sessionError"]="session_error",e["sessionClose"]="session_close",e["settled"]="settled"}(o||(o={})),function(e){e["connectionOpen"]="connection_open",e["connectionClose"]="connection_close",e["connectionError"]="connection_error",e["protocolError"]="protocol_error",e["error"]="error",e["disconnected"]="disconnected",e["settled"]="settled"}(s||(s={})),e.exports={ReceiverEvents:r,SenderEvents:i,SessionEvents:o,ConnectionEvents:s}},"0901":function(e,t,n){"use strict";(function(t){function n(e){return e}function r(e){return e instanceof ArrayBuffer?t.from(new Uint8Array(e)):t.from(e)}function i(e){return new Uint8Array(e)}function o(e){var t=n,o=n;return e.binaryType&&(e.binaryType="arraybuffer",t=r,o=i),{end:function(){e.close()},write:function(t){try{e.send(o(t),{binary:!0})}catch(n){e.onerror(n)}},on:function(n,r){"data"===n?e.onmessage=function(e){r(t(e.data))}:"end"===n?e.onclose=r:"error"===n?e.onerror=r:console.error("ERROR: Attempt to set unrecognised handler on websocket wrapper: "+n)},get_id_string:function(){return e.url}}}e.exports={connect:function(e){return function(t,n,r){return function(){return{connect:function(i,s,a,c){var u=new e(t,n,r);return u.onopen=c,o(u)}}}}},wrap:o}}).call(this,n("b639").Buffer)},"0b1c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"0c17":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("371b"),i=n("2f9e"),o=n("305b"),s=n("371b"),a=n("5921");class c extends o.BaseSender{constructor(e,t,n={}){super(e,t,n),this.deliveryDispositionMap=new Map,this.sendTimeoutInSeconds=n.sendTimeoutInSeconds||20;const o=e=>{const t=e.id;if(this.deliveryDispositionMap.has(e.id)){const n=this.deliveryDispositionMap.get(t);clearTimeout(n.timer);const r=this.deliveryDispositionMap.delete(t);return i.sender("[%s] Event: 'Accepted', Successfully deleted the delivery with id %d from the map of sender '%s' on amqp session '%s' and cleared the timer: %s.",this.connection.id,t,this.name,this.session.id,r),n.resolve(e)}},c=(e,t,n)=>{if(this.deliveryDispositionMap.has(t)){const r=this.deliveryDispositionMap.get(t);clearTimeout(r.timer);const o=this.deliveryDispositionMap.delete(t);i.sender("[%s] Event: '%s', Successfully deleted the delivery with id %d from the  map of sender '%s' on amqp session '%s' and cleared the timer: %s.",this.connection.id,e,t,this.name,this.session.id,o);const s=`Sender '${this.name}' on amqp session '${this.session.id}', received a '${e}' disposition. Hence we are rejecting the promise.`,c=new a.SendOperationFailedError(s,e,n);return i.error("[%s] %s",this.connection.id,s),r.reject(c)}},u=(e,t)=>{for(const n of this.deliveryDispositionMap.keys())c(e,n,t)};this.on(s.SenderEvents.accepted,e=>{o(e.delivery)}),this.on(s.SenderEvents.rejected,e=>{const t=e.delivery;c(s.SenderEvents.rejected,t.id,t.remote_state&&t.remote_state.error)}),this.on(s.SenderEvents.released,e=>{const t=e.delivery;c(s.SenderEvents.released,t.id,t.remote_state&&t.remote_state.error)}),this.on(s.SenderEvents.modified,e=>{const t=e.delivery;c(s.SenderEvents.modified,t.id,t.remote_state&&t.remote_state.error)}),n.onError||this.on(s.SenderEvents.senderError,e=>{u(s.SenderEvents.senderError,e.sender.error)}),n.onSessionError||this.session.on(r.SessionEvents.sessionError,e=>{u(r.SessionEvents.sessionError,e.session.error)})}send(e,t,n){return new Promise((r,o)=>{if(i.sender("[%s] Sender '%s' on amqp session '%s', credit: %d available: %d",this.connection.id,this.name,this.session.id,this.credit,this.session.outgoing.available()),this.sendable()){const s=setTimeout(()=>{this.deliveryDispositionMap.delete(c.id);const e=`Sender '${this.name}' on amqp session '${this.session.id}', with address '${this.address}' was not able to send the message with delivery id ${c.id} right now, due to operation timeout.`;return i.error("[%s] %s",this.connection.id,e),o(new a.OperationTimeoutError(e))},1e3*this.sendTimeoutInSeconds),c=this._link.send(e,t,n);this.deliveryDispositionMap.set(c.id,{resolve:r,reject:o,timer:s})}else{const e=`Sender "${this.name}" on amqp session "${this.session.id}", with address `+this.address+" cannot send the message right now as it does not have enough credit. Please try later.";i.error("[%s] %s",this.connection.id,e),o(new a.InsufficientCreditError(e))}})}}t.AwaitableSender=c},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"10fc":function(e,t,n){"use strict";var r=n("9fca");r.formatters&&(r.formatters.h=function(e){return e.toString("hex")}),e.exports={config:r("rhea:config"),frames:r("rhea:frames"),raw:r("rhea:raw"),reconnect:r("rhea:reconnect"),events:r("rhea:events"),message:r("rhea:message"),flow:r("rhea:flow"),io:r("rhea:io")}},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),d=n("9263"),h=n("d039"),f=[].push,p=Math.min,v=4294967295,m=!h((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var a,c,u,l=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,h+"g");while(a=d.call(m,r)){if(c=m.lastIndex,c>p&&(l.push(r.slice(p,a.index)),a.length>1&&a.index<r.length&&f.apply(l,a.slice(1)),u=a[0].length,p=c,l.length>=o))break;m.lastIndex===a.index&&m.lastIndex++}return p===r.length?!u&&m.test("")||l.push(""):l.push(r.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var d=o(e),h=String(this),f=a(d,RegExp),g=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),_=new f(m?d:"^(?:"+d.source+")",y),b=void 0===i?v:i>>>0;if(0===b)return[];if(0===h.length)return null===l(_,h)?[h]:[];var w=0,E=0,O=[];while(E<h.length){_.lastIndex=m?E:0;var S,C=l(_,m?h:h.slice(E));if(null===C||(S=p(u(_.lastIndex+(m?0:E)),h.length))===w)E=c(h,E,g);else{if(O.push(h.slice(w,E)),O.length===b)return O;for(var x=1;x<=C.length-1;x++)if(O.push(C[x]),O.length===b)return O;E=w=S}}return O.push(h.slice(w)),O}]}),!m)},"12d3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_HTTP_TEXT_PROPAGATOR=t.NoopHttpTextPropagator=void 0;var r=function(){function e(){}return e.prototype.inject=function(e,t,n){},e.prototype.extract=function(e,t,n){return e},e}();t.NoopHttpTextPropagator=r,t.NOOP_HTTP_TEXT_PROPAGATOR=new r},1468:function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function c(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),u=(t[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function u(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=o?d(e,t,o,"day"):t>=i?d(e,t,i,"hour"):t>=r?d(e,t,r,"minute"):t>=n?d(e,t,n,"second"):e+" ms"}function d(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?l(e):u(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var c=r[a],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(l){u.forEach=o}}},"165e":function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var i=r.formatters[n];if("function"===typeof i){var s=t[u];e=i.call(o,s),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function a(){r.enable("")}function c(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=s,r.enabled=c,r.humanize=n("1468"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),s=i("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"182b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryTtl=void 0,function(e){e[e["NO_PROPAGATION"]=0]="NO_PROPAGATION",e[e["UNLIMITED_PROPAGATION"]=-1]="UNLIMITED_PROPAGATION"}(t.EntryTtl||(t.EntryTtl={}))},1980:function(e,t,n){"use strict";(function(t,r){var i=n("a991"),o=n("3e48"),s=n("10fc"),a=n("6203"),c=n("cadb"),u=n("4921"),l=n("3e29"),d=n("6e71"),h=n(3),f=n("3c43"),p=n("df7c"),v=n(0),m=n(1),g=n("faa1").EventEmitter,y=0;function _(){var e;e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).MESSAGING_CONNECT_FILE?[Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).MESSAGING_CONNECT_FILE]:[t.cwd(),p.join(f.homedir(),".config/messaging"),"/etc/messaging"].map((function(e){return p.join(e,"/connect.json")}));for(var n=0;n<e.length;n++)if(h.existsSync(e[n])){var r=JSON.parse(h.readFileSync(e[n],"utf8"));return s.config("using config from %s: %j",e[n],r),r}return{}}function b(){var e=_(),t={};return"amqps"===e.scheme&&(t.transport="tls"),e.host&&(t.host=e.host),"amqp"===e.port?t.port=5672:"amqps"===e.port?t.port=5671:t.port=e.port,e.sasl&&!1===e.sasl.enabled||(e.user?t.username=e.user:t.username="anonymous",e.password&&(t.password=e.password),e.sasl_mechanisms&&(t.sasl_mechanisms=e.sasl_mechanisms)),e.tls&&(e.tls.key&&(t.key=h.readFileSync(e.tls.key)),e.tls.cert&&(t.cert=h.readFileSync(e.tls.cert)),e.tls.ca&&(t.ca=[h.readFileSync(e.tls.ca)]),!1!==e.verify&&!1!==e.tls.verify||(t.rejectUnauthorized=!1)),"tls"===t.transport&&(t.servername=t.host),t}function w(e){return e.get_id_string?e.get_id_string():e.localAddress+":"+e.localPort+" -> "+e.remoteAddress+":"+e.remotePort}function E(e){var t=null;return{get_session:function(){return t||(t=e.create_session(),t.observers.on("session_close",(function(){t=null})),t.begin()),t}}}function O(e,t){if(e){var n,r=e;return function(i){return n!==i&&(r=e,n=i),r--?t(i):-1}}return t}function S(e,t){var n,r=e;return function(i){n!==i&&(r=e,n=i);var o=r,s=2*r;return r=t>s?s:t,o}}function C(e){if(void 0===e.transport||"tcp"===e.transport)return v.connect;if("tls"===e.transport||"ssl"===e.transport)return m.connect;throw Error("Unrecognised transport: "+e.transport)}function x(e){var t={};return t.connect=e.connect?e.connect:C(e),t.host=e.host?e.host:"localhost",t.port=e.port?e.port:5672,t.options=e,t}var A=["container_id","hostname","max_frame_size","channel_max","idle_time_out","outgoing_locales","incoming_locales","offered_capabilities","desired_capabilities","properties"];function k(e){return function(){return this.remote.open?this.remote.open[e]:void 0}}function T(e){var t={};return A.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}function I(e,t){if("boolean"===typeof e)if(e){var n=t.get_option("initial_reconnect_delay",100),r=t.get_option("max_reconnect_delay",6e4);t.options.reconnect=O(t.get_option("reconnect_limit"),S(n,r))}else t.options.reconnect=!1;else if("number"===typeof e){var i=t.options.reconnect;t.options.reconnect=O(t.get_option("reconnect_limit"),(function(){return i}))}}var R=1,P=function(e,t){if(this.options={},e){for(var n in e)this.options[n]=e[n];"tls"!==e.transport&&"ssl"!==e.transport||void 0!==e.servername||void 0===e.host||(this.options.servername=e.host)}else this.options=b();if(this.container=t,this.options.id||(this.options.id="connection-"+R++),this.options.container_id||(this.options.container_id=t?t.id:c.generate_uuid()),!this.options.connection_details){var r=this;this.options.connection_details=function(){return x(r.options)}}var i=this.get_option("reconnect",!0);I(i,this),this.registered=!1,this.state=new u,this.local_channel_map={},this.remote_channel_map={},this.local={},this.remote={},this.local.open=o.open(T(this.options)),this.local.close=o.close({}),this.session_policy=E(this),this.amqp_transport=new d(this.options.id,y,o.TYPE_AMQP,this),this.sasl_transport=void 0,this.transport=this.amqp_transport,this.conn_established_counter=0,this.heartbeat_out=void 0,this.heartbeat_in=void 0,this.abort_idle=!1,this.socket_ready=!1,this.scheduled_reconnect=void 0,this.default_sender=void 0,this.closed_with_non_fatal_error=!1;r=this;A.forEach((function(e){Object.defineProperty(r,e,{get:k(e)})})),Object.defineProperty(this,"error",{get:function(){return this.remote.close?this.remote.close.error:void 0}})};function M(e){return e<16?"0x0"+Number(e).toString(16):"0x"+Number(e).toString(16)}function L(e){for(var t=[],n=0;n<e.length;n++)t.push(M(e[n]));return t.join(",")}function N(e){P.prototype["on_"+e]=function(t){var n=this.remote_channel_map[t.channel];if(!n)throw new i.ProtocolError(e+" received on invalid channel "+t.channel);n["on_"+e](t)}}P.prototype=Object.create(g.prototype),P.prototype.constructor=P,P.prototype.dispatch=function(e){return s.events("[%s] Connection got event: %s",this.options.id,e),this.listeners(e).length?(g.prototype.emit.apply(this,arguments),!0):!!this.container&&this.container.dispatch.apply(this.container,arguments)},P.prototype._disconnect=function(){for(var e in this.state.disconnected(),this.local_channel_map)this.local_channel_map[e]._disconnect();this.socket_ready=!1},P.prototype._reconnect=function(){this.abort_idle&&(this.abort_idle=!1,this.local.close.error=void 0,this.state=new u,this.state.open()),this.state.reconnect(),this._reset_remote_state()},P.prototype._reset_remote_state=function(){for(var e in this.amqp_transport=new d(this.options.id,y,o.TYPE_AMQP,this),this.sasl_transport=void 0,this.transport=this.amqp_transport,this.remote={},this.remote_channel_map={},this.local_channel_map)this.local_channel_map[e]._reconnect()},P.prototype.connect=function(){return this.is_server=!1,this.abort_idle=!1,this._reset_remote_state(),this._connect(this.options.connection_details(this.conn_established_counter)),this.open(),this},P.prototype.reconnect=function(){return this.scheduled_reconnect=void 0,s.reconnect("[%s] reconnecting...",this.options.id),this._reconnect(),this._connect(this.options.connection_details(this.conn_established_counter)),t.nextTick(this._process.bind(this)),this},P.prototype.set_reconnect=function(e){I(e,this)},P.prototype._connect=function(e){return e.connect?this.init(e.connect(e.port,e.host,e.options,this.connected.bind(this))):this.init(C(e)(e.port,e.host,e.options,this.connected.bind(this))),this},P.prototype.accept=function(e){return this.is_server=!0,s.io("[%s] client accepted: %s",this.id,w(e)),this.socket_ready=!0,this.init(e)},P.prototype.abort_socket=function(e){e===this.socket&&(s.io("[%s] aborting socket",this.options.id),this.socket.end(),this.socket.removeAllListeners&&(this.socket.removeAllListeners("data"),this.socket.removeAllListeners("error"),this.socket.removeAllListeners("end")),"function"===typeof this.socket.destroy&&this.socket.destroy(),this._disconnected())},P.prototype.init=function(e){if(this.socket=e,this.get_option("tcp_no_delay",!1)&&this.socket.setNoDelay&&this.socket.setNoDelay(!0),this.socket.on("data",this.input.bind(this)),this.socket.on("error",this.on_error.bind(this)),this.socket.on("end",this.eof.bind(this)),this.is_server){var t;if(this.container&&Object.getOwnPropertyNames(this.container.sasl_server_mechanisms).length&&(t=this.container.sasl_server_mechanisms),this.socket.encrypted&&this.socket.authorized&&this.get_option("enable_sasl_external",!1)&&(t=a.server_add_external(t?c.clone(t):{})),t)void 0===t.ANONYMOUS||this.get_option("require_sasl",!1)?this.sasl_transport=new a.Server(this,t):this.sasl_transport=new a.Selective(this,t);else if(!this.get_option("disable_sasl",!1)){var n=a.server_mechanisms();n.enable_anonymous(),this.sasl_transport=new a.Selective(this,n)}}else{var r=this.get_option("sasl_mechanisms");if(!r){var i=this.get_option("username"),o=this.get_option("password"),s=this.get_option("token");i&&(r=a.client_mechanisms(),o?r.enable_plain(i,o):s?r.enable_xoauth2(i,s):r.enable_anonymous(i))}this.socket.encrypted&&this.options.cert&&this.get_option("enable_sasl_external",!1)&&(r||(r=a.client_mechanisms()),r.enable_external()),r&&(this.sasl_transport=new a.Client(this,r,this.options.sasl_init_hostname||this.options.servername||this.options.host))}return this.transport=this.sasl_transport?this.sasl_transport:this.amqp_transport,this},P.prototype.attach_sender=function(e){return this.session_policy.get_session().attach_sender(e)},P.prototype.open_sender=P.prototype.attach_sender,P.prototype.attach_receiver=function(e){return this.get_option("tcp_no_delay",!0)&&this.socket.setNoDelay&&this.socket.setNoDelay(!0),this.session_policy.get_session().attach_receiver(e)},P.prototype.open_receiver=P.prototype.attach_receiver,P.prototype.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:this.container?this.container.get_option(e,t):t},P.prototype.send=function(e){return void 0===this.default_sender&&(this.default_sender=this.open_sender({target:{}})),this.default_sender.send(e)},P.prototype.connected=function(){this.socket_ready=!0,this.conn_established_counter++,s.io("[%s] connected %s",this.options.id,w(this.socket)),this.output()},P.prototype.sasl_failed=function(e,t){this.transport_error=new i.ConnectionError(e,t||"amqp:unauthorized-access",this),this._handle_error(),this.socket.end()},P.prototype._is_fatal=function(e){var t=this.get_option("non_fatal_errors",["amqp:connection:forced"]);return t.indexOf(e)<0},P.prototype._handle_error=function(){var e=this.get_error();if(e){var t=this.dispatch("connection_error",this._context({error:e}));return t=this.dispatch("connection_close",this._context({error:e}))||t,this._is_fatal(e.condition)?t||this.dispatch("error",new i.ConnectionError(e.description,e.condition,this)):this.closed_with_non_fatal_error=!0,!0}return!1},P.prototype.get_error=function(){return this.transport_error?this.transport_error:this.remote.close&&this.remote.close.error?new i.ConnectionError(this.remote.close.error.description,this.remote.close.error.condition,this):void 0},P.prototype._get_peer_details=function(){var e="";return this.remote.open&&this.remote.open.container&&(e+=this.remote.open.container+" "),this.remote.open&&this.remote.open.properties&&(e+=JSON.stringify(this.remote.open.properties)),e},P.prototype.output=function(){try{this.socket&&this.socket_ready&&(this.heartbeat_out&&clearTimeout(this.heartbeat_out),this.transport.write(this.socket),(this.is_closed()&&this.state.has_settled()||this.abort_idle||this.transport_error)&&!this.transport.has_writes_pending()?this.socket.end():this.is_open()&&this.remote.open.idle_time_out&&(this.heartbeat_out=setTimeout(this._write_frame.bind(this),this.remote.open.idle_time_out/2)),this.local.open.idle_time_out&&void 0===this.heartbeat_in&&(this.heartbeat_in=setTimeout(this.idle.bind(this),this.local.open.idle_time_out)))}catch(e){this.saved_error=e,"ProtocolError"===e.name?(console.error("["+this.options.id+"] error on write: "+e+" "+this._get_peer_details()+" "+e.name),this.dispatch("protocol_error",e)||console.error("["+this.options.id+"] error on write: "+e+" "+this._get_peer_details())):this.dispatch("error",e),this.socket.end()}},P.prototype.input=function(e){var t;try{this.heartbeat_in&&clearTimeout(this.heartbeat_in),s.io("[%s] read %d bytes",this.options.id,e.length),this.previous_input?(t=r.concat([this.previous_input,e],this.previous_input.length+e.length),this.previous_input=null):t=e;var n=this.transport.read(t,this);n<t.length&&(this.previous_input=t.slice(n)),this.local.open.idle_time_out&&(this.heartbeat_in=setTimeout(this.idle.bind(this),this.local.open.idle_time_out)),this.transport.has_writes_pending()?this.output():this.is_closed()&&this.state.has_settled()?this.socket.end():this.is_open()&&this.remote.open.idle_time_out&&!this.heartbeat_out&&(this.heartbeat_out=setTimeout(this._write_frame.bind(this),this.remote.open.idle_time_out/2))}catch(i){this.saved_error=i,"ProtocolError"===i.name?this.dispatch("protocol_error",i)||console.error("["+this.options.id+"] error on read: "+i+" "+this._get_peer_details()+" (buffer:"+L(t)+")"):this.dispatch("error",i),this.socket.end()}},P.prototype.idle=function(){this.is_closed()||(this.abort_idle=!0,this.closed_with_non_fatal_error=!0,this.local.close.error={condition:"amqp:resource-limit-exceeded",description:"max idle time exceeded"},this.close(),setTimeout(this.abort_socket.bind(this,this.socket),1e3))},P.prototype.on_error=function(e){this._disconnected(e)},P.prototype.eof=function(e){var t=e||this.saved_error;this.saved_error=void 0,this._disconnected(t)},P.prototype._disconnected=function(e){this.heartbeat_out&&(clearTimeout(this.heartbeat_out),this.heartbeat_out=void 0),this.heartbeat_in&&(clearTimeout(this.heartbeat_in),this.heartbeat_in=void 0);var t=this.closed_with_non_fatal_error;if(this.closed_with_non_fatal_error&&(this.closed_with_non_fatal_error=!1,this.options.reconnect&&this.open()),(!this.is_closed()||t)&&void 0===this.scheduled_reconnect){this._disconnect();var n={};if(e&&(n.error=e),!this.is_server&&!this.transport_error&&this.options.reconnect){var r=this.options.reconnect(this.conn_established_counter);r>=0?(s.reconnect("[%s] Scheduled reconnect in "+r+"ms",this.options.id),this.scheduled_reconnect=setTimeout(this.reconnect.bind(this),r),n.reconnecting=!0):n.reconnecting=!1}this.dispatch("disconnected",this._context(n))||console.warn("["+this.options.id+"] disconnected %s",n.error||"")}},P.prototype.open=function(){this.state.open()&&this._register()},P.prototype.close=function(e){e&&(this.local.close.error=e),this.state.close()&&this._register()},P.prototype.is_open=function(){return this.state.is_open()},P.prototype.is_remote_open=function(){return this.state.remote_open},P.prototype.is_closed=function(){return this.state.is_closed()},P.prototype.create_session=function(){var e=0;while(this.local_channel_map[e])e++;var t=new l(this,e);return this.local_channel_map[e]=t,t},P.prototype.find_sender=function(e){return this.find_link(c.sender_filter(e))},P.prototype.find_receiver=function(e){return this.find_link(c.receiver_filter(e))},P.prototype.find_link=function(e){for(var t in this.local_channel_map){var n=this.local_channel_map[t],r=n.find_link(e);if(r)return r}},P.prototype.each_receiver=function(e,t){this.each_link(e,c.receiver_filter(t))},P.prototype.each_sender=function(e,t){this.each_link(e,c.sender_filter(t))},P.prototype.each_link=function(e,t){for(var n in this.local_channel_map){var r=this.local_channel_map[n];r.each_link(e,t)}},P.prototype.on_open=function(e){if(!this.state.remote_opened())throw new i.ProtocolError("Open already received");this.remote.open=e.performative,this.open(),this.dispatch("connection_open",this._context())},P.prototype.on_close=function(e){if(!this.state.remote_closed())throw new i.ProtocolError("Close already received");this.remote.close=e.performative,this.remote.close.error?this._handle_error():this.dispatch("connection_close",this._context()),this.heartbeat_out&&clearTimeout(this.heartbeat_out);var n=this;t.nextTick((function(){n.close()}))},P.prototype._register=function(){this.registered||(this.registered=!0,t.nextTick(this._process.bind(this)))},P.prototype._process=function(){this.registered=!1;do{for(var e in this.state.need_open()&&this._write_open(),this.local_channel_map)this.local_channel_map[e]._process();this.state.need_close()&&this._write_close()}while(!this.state.has_settled())},P.prototype._write_frame=function(e,t,n){this.amqp_transport.encode(o.amqp_frame(e,t,n)),this.output()},P.prototype._write_open=function(){this._write_frame(0,this.local.open)},P.prototype._write_close=function(){this._write_frame(0,this.local.close)},P.prototype.on_begin=function(e){var t;if(null===e.performative.remote_channel||void 0===e.performative.remote_channel)t=this.create_session(),t.local.begin.remote_channel=e.channel;else if(t=this.local_channel_map[e.performative.remote_channel],!t)throw new i.ProtocolError("Invalid value for remote channel "+e.performative.remote_channel);t.on_begin(e),this.remote_channel_map[e.channel]=t},P.prototype.get_peer_certificate=function(){return this.socket&&this.socket.getPeerCertificate?this.socket.getPeerCertificate():void 0},P.prototype.get_tls_socket=function(){return!this.socket||"tls"!==this.options.transport&&"ssl"!==this.options.transport?void 0:this.socket},P.prototype._context=function(e){var t=e||{};return t.connection=this,this.container&&(t.container=this.container),t},P.prototype.remove_session=function(e){this.remote_channel_map[e.remote.channel]===e&&delete this.remote_channel_map[e.remote.channel],this.local_channel_map[e.local.channel]===e&&delete this.local_channel_map[e.local.channel]},P.prototype.remove_all_sessions=function(){this.remote_channel_map={},this.local_channel_map={}},N("end"),N("attach"),N("detach"),N("transfer"),N("disposition"),N("flow"),e.exports=P}).call(this,n("4362"),n("b639").Buffer)},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1abd":function(e,t,n){"use strict";var r=n("1c90");e.exports={selector:function(e){return{"jms-selector":r.wrap_described(e,77567109365764)}}}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1c90":function(e,t,n){"use strict";(function(t){var r=n("a991"),i=n("cadb"),o=1,s=2,a=3,c=4;function u(e,t,n,r){this.type=e,this.value=t,n&&(this.array_constructor={typecode:n},r&&(this.array_constructor.descriptor=r))}function l(e,t,n,r){this.name=e,this.typecode=t;var i=t>>>4;switch(i){case 4:this.width=0,this.category=o;break;case 5:this.width=1,this.category=o;break;case 6:this.width=2,this.category=o;break;case 7:this.width=4,this.category=o;break;case 8:this.width=8,this.category=o;break;case 9:this.width=16,this.category=o;break;case 10:this.width=1,this.category=s;break;case 11:this.width=4,this.category=s;break;case 12:this.width=1,this.category=a;break;case 13:this.width=4,this.category=a;break;case 14:this.width=1,this.category=c;break;case 15:this.width=4,this.category=c;break;default:break}n&&(n.read&&(this.read=n.read),n.write&&(this.write=n.write),n.encoding&&(this.encoding=n.encoding));var l=this;this.create=4===i?function(){return new u(l,r)}:14===i||15===i?function(e,t,n){return new u(l,e,t,n)}:function(e){return new u(l,e)}}function d(e){return Number(e).toString(16)}u.prototype.toString=function(){return this.value?this.value.toString():null},u.prototype.toLocaleString=function(){return this.value?this.value.toLocaleString():null},u.prototype.valueOf=function(){return this.value},u.prototype.toJSON=function(){return this.value&&this.value.toJSON?this.value.toJSON():this.value},l.prototype.toString=function(){return this.name+"#"+d(this.typecode)};var h={by_code:{}};function f(e,t,n,r){var i=new l(e,t,n,r);i.create.typecode=i.typecode,h.by_code[i.typecode]=i,h[e]=i.create}function p(){return{read:function(e,t){return e.readUInt8(t)},write:function(e,t,n){e.writeUInt8(t,n)}}}function v(){return{read:function(e,t){return e.readUInt16BE(t)},write:function(e,t,n){e.writeUInt16BE(t,n)}}}function m(){return{read:function(e,t){return e.readUInt32BE(t)},write:function(e,t,n){e.writeUInt32BE(t,n)}}}function g(){return{read:function(e,t){return e.readInt8(t)},write:function(e,t,n){e.writeInt8(t,n)}}}function y(){return{read:function(e,t){return e.readInt16BE(t)},write:function(e,t,n){e.writeInt16BE(t,n)}}}function _(){return{read:function(e,t){return e.readInt32BE(t)},write:function(e,t,n){e.writeInt32BE(t,n)}}}function b(){return{read:function(e,t){return e.readFloatBE(t)},write:function(e,t,n){e.writeFloatBE(t,n)}}}function w(){return{read:function(e,t){return e.readDoubleBE(t)},write:function(e,t,n){e.writeDoubleBE(t,n)}}}Object.defineProperty(h,"MAX_UINT",{value:4294967295,writable:!1,configurable:!1}),Object.defineProperty(h,"MAX_USHORT",{value:65535,writable:!1,configurable:!1});var E=4294967296,O=-2147483647;function S(e,t,n){if("number"===typeof t||t instanceof Number){var r=Math.floor(t/E),i=t%E;e.writeUInt32BE(r,n),e.writeUInt32BE(i,n+4)}else t.copy(e,n)}function C(e,t){var n=e.readUInt32BE(t),r=e.readUInt32BE(t+4);return n<2097153?n*E+r:e.slice(t,t+8)}function x(e,t,n){if("number"===typeof t||t instanceof Number){var r=Math.abs(t),i=Math.floor(r/E),o=r%E;if(e.writeInt32BE(i,n),e.writeUInt32BE(o,n+4),t<0)for(var s=1,a=0;a<8;a++){var c=n+(7-a),u=(255^e[c])+s;e[c]=255&u,s=u>>8}}else t.copy(e,n)}function A(e,t){var n=e.readInt32BE(t),r=e.readUInt32BE(t+4);return n<2097153&&n>-2097153?n*E+r:e.slice(t,t+8)}function k(e,t){for(var n=0;n<t.length;n++)if(e.type.typecode===t[n].typecode)return!0;return!1}function T(e,t,n){for(var r=0;r<t&&r<e.length;r++)if(e[r]!==(n?255:0))return!1;return!0}function I(e){for(var t={},n=0;n+1<e.length;)t[e[n++]]=e[n++];return t}f("Null",64,void 0,null),f("Boolean",86,p()),f("True",65,void 0,!0),f("False",66,void 0,!1),f("Ubyte",80,p()),f("Ushort",96,v()),f("Uint",112,m()),f("SmallUint",82,p()),f("Uint0",67,void 0,0),f("Ulong",128,{write:S,read:C}),f("SmallUlong",83,p()),f("Ulong0",68,void 0,0),f("Byte",81,g()),f("Short",97,y()),f("Int",113,_()),f("SmallInt",84,g()),f("Long",129,{write:x,read:A}),f("SmallLong",85,g()),f("Float",114,b()),f("Double",130,w()),f("Decimal32",116),f("Decimal64",132),f("Decimal128",148),f("CharUTF32",115,m()),f("Timestamp",131,{write:x,read:A}),f("Uuid",152),f("Vbin8",160),f("Vbin32",176),f("Str8",161,{encoding:"utf8"}),f("Str32",177,{encoding:"utf8"}),f("Sym8",163,{encoding:"ascii"}),f("Sym32",179,{encoding:"ascii"}),f("List0",69,void 0,[]),f("List8",192),f("List32",208),f("Map8",193),f("Map32",209),f("Array8",224),f("Array32",240),h.is_ulong=function(e){return k(e,[h.Ulong,h.Ulong0,h.SmallUlong])},h.is_string=function(e){return k(e,[h.Str8,h.Str32])},h.is_symbol=function(e){return k(e,[h.Sym8,h.Sym32])},h.is_list=function(e){return k(e,[h.List0,h.List8,h.List32])},h.is_map=function(e){return k(e,[h.Map8,h.Map32])},h.wrap_boolean=function(e){return e?h.True():h.False()},h.wrap_ulong=function(e){return t.isBuffer(e)?T(e,8,!1)?h.Ulong0():T(e,7,!1)?h.SmallUlong(e[7]):h.Ulong(e):0===e?h.Ulong0():e>255?h.Ulong(e):h.SmallUlong(e)},h.wrap_uint=function(e){return 0===e?h.Uint0():e>255?h.Uint(e):h.SmallUint(e)},h.wrap_ushort=function(e){return h.Ushort(e)},h.wrap_ubyte=function(e){return h.Ubyte(e)},h.wrap_long=function(e){if(t.isBuffer(e)){var n=0!==(128&e[0]);return T(e,7,n)&&(128&e[7])===(n?128:0)?h.SmallLong(n?-(1+(255^e[7])):e[7]):h.Long(e)}return e>127||e<-128?h.Long(e):h.SmallLong(e)},h.wrap_int=function(e){return e>127||e<-128?h.Int(e):h.SmallInt(e)},h.wrap_short=function(e){return h.Short(e)},h.wrap_byte=function(e){return h.Byte(e)},h.wrap_float=function(e){return h.Float(e)},h.wrap_double=function(e){return h.Double(e)},h.wrap_timestamp=function(e){return h.Timestamp(e)},h.wrap_char=function(e){return h.CharUTF32(e)},h.wrap_uuid=function(e){return h.Uuid(e)},h.wrap_binary=function(e){return e.length>255?h.Vbin32(e):h.Vbin8(e)},h.wrap_string=function(e){return t.byteLength(e)>255?h.Str32(e):h.Str8(e)},h.wrap_symbol=function(e){return t.byteLength(e)>255?h.Sym32(e):h.Sym8(e)},h.wrap_list=function(e){if(0===e.length)return h.List0();var t=e.map(h.wrap);return h.List32(t)},h.wrap_map=function(e,t){var n=[];for(var r in e)n.push(t?t(r):h.wrap(r)),n.push(h.wrap(e[r]));return h.Map32(n)},h.wrap_symbolic_map=function(e){return h.wrap_map(e,h.wrap_symbol)},h.wrap_array=function(e,t,n){if(t)return h.Array32(e,t,n);throw console.trace("An array must specify a type for its elements"),new r.TypeError("An array must specify a type for its elements")},h.wrap=function(e){var n=typeof e;return"string"===n?h.wrap_string(e):"boolean"===n?e?h.True():h.False():"number"===n||e instanceof Number?isNaN(e)?h.Null():Math.floor(e)-e!==0?h.Double(e):e>0?e<E?h.wrap_uint(e):h.wrap_ulong(e):e>O?h.wrap_int(e):h.wrap_long(e):e instanceof Date?h.wrap_timestamp(e.getTime()):e instanceof u?e:e instanceof t||e instanceof Uint8Array?h.wrap_binary(e):"undefined"===n||null===e?h.Null():Array.isArray(e)?h.wrap_list(e):h.wrap_map(e)},h.wrap_described=function(e,t){var n=h.wrap(e);return t&&("string"===typeof t?n=h.described(h.wrap_symbol(t),n):("number"===typeof t||t instanceof Number)&&(n=h.described(h.wrap_ulong(t),n))),n},h.wrap_message_id=function(e){var n=typeof e;if("string"===n)return h.wrap_string(e);if("number"===n||e instanceof Number)return h.wrap_ulong(e);if(t.isBuffer(e))return h.wrap_uuid(e);throw new r.TypeError("invalid message id:"+e)};var R={};function P(e){var t=h.by_code[e];if(!t)throw new r.TypeError("Unrecognised typecode: "+d(e));return t}function M(e,t){return e>t?e:t}function L(e){if("symbol"===e)return{typecode:h.Sym8.typecode};throw new r.TypeError("TODO: Array of type "+e+" not yet supported")}function N(e,t){if(void 0!==t&&null!==t){if(Array.isArray(t)){if(!e.multiple)throw new r.TypeError("Field "+e.name+" does not support multiple values, got "+JSON.stringify(t));var n=L(e.type);return h.wrap_array(t,n.typecode,n.descriptor)}if("*"===e.type)return t;var i=h["wrap_"+e.type];if(i)return i(t);throw new r.TypeError("No wrapper for field "+e.name+" of type "+e.type)}if(e.mandatory)throw new r.TypeError("Field "+e.name+" is mandatory");return h.Null()}function j(e,t){var n;n="*"===t.type?function(){return this.value[e]}:function(){return h.unwrap(this.value[e])};var r=function(n){this.value[e]=N(t,n)};return{get:n,set:r,enumerable:!0,configurable:!1}}function D(e){var t=h.define_composite(e);h["wrap_"+e.name]=function(e){return t.create(e).described()},R[Number(t.descriptor.numeric).toString(10)]=t,R[t.descriptor.symbolic]=t}h.unwrap_map_simple=function(e){return I(e.value.map((function(e){return h.unwrap(e,!0)})))},h.unwrap=function(e,t){if(e instanceof u){if(e.descriptor){var n=R[e.descriptor.value];if(n)return new n(e.value);if(t)return e}var r=h.unwrap(e.value,!0);return h.is_map(e)?I(r):r}return Array.isArray(e)?e.map((function(e){return h.unwrap(e,!0)})):e},h.described_nc=function(e,t){return e.length?(t.descriptor=e.shift(),h.described(e,t)):(t.descriptor=e,t)},h.described=h.described_nc,h.Reader=function(e){this.buffer=e,this.position=0},h.Reader.prototype.read_typecode=function(){return this.read_uint(1)},h.Reader.prototype.read_uint=function(e){var t=this.position;if(this.position+=e,1===e)return this.buffer.readUInt8(t);if(2===e)return this.buffer.readUInt16BE(t);if(4===e)return this.buffer.readUInt32BE(t);throw new r.TypeError("Unexpected width for uint "+e)},h.Reader.prototype.read_fixed_width=function(e){var t=this.position;return this.position+=e.width,e.read?e.read(this.buffer,t):this.buffer.slice(t,this.position)},h.Reader.prototype.read_variable_width=function(e){var t=this.read_uint(e.width),n=this.read_bytes(t);return e.encoding?n.toString(e.encoding):n},h.Reader.prototype.read=function(){var e=this.read_constructor(),t=this.read_value(P(e.typecode));return e.descriptor?h.described_nc(e.descriptor,t):t},h.Reader.prototype.read_constructor=function(){var e=this.read_typecode();if(0===e){var t=[];t.push(this.read());var n=this.read_constructor();while(n.descriptor)t.push(n.descriptor),n=this.read_constructor();return{typecode:n.typecode,descriptor:1===t.length?t[0]:t}}return{typecode:e}},h.Reader.prototype.read_value=function(e){if(0===e.width)return e.create();if(e.category===o)return e.create(this.read_fixed_width(e));if(e.category===s)return e.create(this.read_variable_width(e));if(e.category===a)return this.read_compound(e);if(e.category===c)return this.read_array(e);throw new r.TypeError("Invalid category for type: "+e)},h.Reader.prototype.read_array_items=function(e,t){var n=[];while(n.length<e)n.push(this.read_value(t));return n},h.Reader.prototype.read_n=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.read();return t},h.Reader.prototype.read_size_count=function(e){return{size:this.read_uint(e),count:this.read_uint(e)}},h.Reader.prototype.read_compound=function(e){var t=this.read_size_count(e.width);return e.create(this.read_n(t.count))},h.Reader.prototype.read_array=function(e){var t=this.read_size_count(e.width),n=this.read_constructor();return e.create(this.read_array_items(t.count,P(n.typecode)),n.typecode,n.descriptor)},h.Reader.prototype.toString=function(){var e="buffer@"+this.position;this.position&&(e+=": ");for(var t=this.position;t<this.buffer.length;t++)t>0&&(e+=","),e+="0x"+Number(this.buffer[t]).toString(16);return e},h.Reader.prototype.reset=function(){this.position=0},h.Reader.prototype.skip=function(e){this.position+=e},h.Reader.prototype.read_bytes=function(e){var t=this.position;return this.position+=e,this.buffer.slice(t,this.position)},h.Reader.prototype.remaining=function(){return this.buffer.length-this.position},h.Writer=function(e){this.buffer=e||i.allocate_buffer(1024),this.position=0},h.Writer.prototype.toBuffer=function(){return this.buffer.slice(0,this.position)},h.Writer.prototype.ensure=function(e){if(this.buffer.length<e){var t=i.allocate_buffer(M(2*this.buffer.length,e));this.buffer.copy(t),this.buffer=t}},h.Writer.prototype.write_typecode=function(e){this.write_uint(e,1)},h.Writer.prototype.write_uint=function(e,t){var n=this.position;if(this.ensure(this.position+t),this.position+=t,1===t)return this.buffer.writeUInt8(e,n);if(2===t)return this.buffer.writeUInt16BE(e,n);if(4===t)return this.buffer.writeUInt32BE(e,n);throw new r.TypeError("Unexpected width for uint "+t)},h.Writer.prototype.write_fixed_width=function(e,t){var n=this.position;if(this.ensure(this.position+e.width),this.position+=e.width,e.write)e.write(this.buffer,t,n);else{if(!t.copy)throw new r.TypeError("Cannot handle write for "+e);t.copy(this.buffer,n)}},h.Writer.prototype.write_variable_width=function(e,n){var r=e.encoding?t.from(n,e.encoding):t.from(n);this.write_uint(r.length,e.width),this.write_bytes(r)},h.Writer.prototype.write_bytes=function(e){var t=this.position;this.ensure(this.position+e.length),this.position+=e.length,e.copy(this.buffer,t)},h.Writer.prototype.write_constructor=function(e,t){t&&(this.write_typecode(0),this.write(t)),this.write_typecode(e)},h.Writer.prototype.write=function(e){if(void 0===e.type){if(!e.described)throw new r.TypeError("Cannot write "+JSON.stringify(e));this.write(e.described())}else this.write_constructor(e.type.typecode,e.descriptor),this.write_value(e.type,e.value,e.array_constructor)},h.Writer.prototype.write_value=function(e,t,n){if(0!==e.width)if(e.category===o)this.write_fixed_width(e,t);else if(e.category===s)this.write_variable_width(e,t);else if(e.category===a)this.write_compound(e,t);else{if(e.category!==c)throw new r.TypeError("Invalid category "+e.category+" for type: "+e);this.write_array(e,t,n)}},h.Writer.prototype.backfill_size=function(e,t){var n=this.position-t;this.position=t,this.write_uint(n-e,e),this.position+=n-e},h.Writer.prototype.write_compound=function(e,t){var n=this.position;this.position+=e.width,this.write_uint(t.length,e.width);for(var r=0;r<t.length;r++)void 0===t[r]||null===t[r]?this.write(h.Null()):this.write(t[r]);this.backfill_size(e.width,n)},h.Writer.prototype.write_array=function(e,t,n){var r=this.position;this.position+=e.width,this.write_uint(t.length,e.width),this.write_constructor(n.typecode,n.descriptor);for(var i=P(n.typecode),o=0;o<t.length;o++)this.write_value(i,t[o]);this.backfill_size(e.width,r)},h.Writer.prototype.toString=function(){var e="buffer@"+this.position;this.position&&(e+=": ");for(var t=0;t<this.position;t++)t>0&&(e+=","),e+=("00"+Number(this.buffer[t]).toString(16)).slice(-2);return e},h.Writer.prototype.skip=function(e){this.ensure(this.position+e),this.position+=e},h.Writer.prototype.clear=function(){this.buffer.fill(0),this.position=0},h.Writer.prototype.remaining=function(){return this.buffer.length-this.position},h.define_composite=function(e){var t=function(e){this.value=e||[]};t.descriptor={numeric:e.code,symbolic:"amqp:"+e.name+":list"},t.prototype.dispatch=function(t,n){t["on_"+e.name](n)};for(var n=0;n<e.fields.length;n++){var r=e.fields[n];Object.defineProperty(t.prototype,r.name,j(n,r))}return t.toString=function(){return e.name+"#"+Number(e.code).toString(16)},t.prototype.toJSON=function(){var e={};for(var t in this)"value"!==t&&this[t]&&(e[t]=this[t]);return e},t.create=function(e){var n=new t;for(var r in e)n[r]=e[r];return n},t.prototype.described=function(){return h.described_nc(h.wrap_ulong(t.descriptor.numeric),h.wrap_list(this.value))},t},D({name:"error",code:29,fields:[{name:"condition",type:"symbol",mandatory:!0},{name:"description",type:"string"},{name:"info",type:"map"}]}),e.exports=h}).call(this,n("b639").Buffer)},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d38":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("2f9e"),i=n("9411");function o(e){if(!e||"object"!==typeof e)throw new Error("err is a required parameter and must be of type 'object'.");let t=!1;return(e.condition&&"string"===typeof e.condition&&e.description&&"string"===typeof e.description||e.value&&Array.isArray(e.value)||e.constructor&&"c"===e.constructor.name)&&(t=!0),t}function s(e,t){return new Promise(n=>setTimeout(()=>n(t),e))}function a(e,t){t||(t={});const n=t.entitySeperator||";",r=t.keyValueSeparator||"=";return e.split(n).reduce((e,t)=>{const n=t.indexOf(r);return Object.assign({},e,{[t.substring(0,n)]:t.substring(n+1)})},{})}function c(e){const t=()=>{const t=e.emitter&&(e.emitter.id||e.emitter.name);r[e.emitterType]("[%s] %s '%s' got event: '%s'. Re-emitting the translated context.",e.connectionId,e.emitterType,t,e.eventName),e.emitter.emit(e.eventName,i.EventContext.translate(e.rheaContext,e.emitter,e.eventName))};-1!==e.eventName.indexOf("error")&&e.emitter.actionInitiated>0?(r[e.emitterType]("[%s] %s got event: '%s'. Will re-emit in the next tick, since this happened before the promise for create/close was resolved.",e.connectionId,e.emitterType,e.eventName),setTimeout(t)):t()}(function(e){e[e["Continue"]=100]="Continue",e[e["SwitchingProtocols"]=101]="SwitchingProtocols",e[e["OK"]=200]="OK",e[e["Created"]=201]="Created",e[e["Accepted"]=202]="Accepted",e[e["NonAuthoritativeInformation"]=203]="NonAuthoritativeInformation",e[e["NoContent"]=204]="NoContent",e[e["ResetContent"]=205]="ResetContent",e[e["PartialContent"]=206]="PartialContent",e[e["Ambiguous"]=300]="Ambiguous",e[e["MultipleChoices"]=300]="MultipleChoices",e[e["Moved"]=301]="Moved",e[e["MovedPermanently"]=301]="MovedPermanently",e[e["Found"]=302]="Found",e[e["Redirect"]=302]="Redirect",e[e["RedirectMethod"]=303]="RedirectMethod",e[e["SeeOther"]=303]="SeeOther",e[e["NotModified"]=304]="NotModified",e[e["UseProxy"]=305]="UseProxy",e[e["Unused"]=306]="Unused",e[e["RedirectKeepVerb"]=307]="RedirectKeepVerb",e[e["TemporaryRedirect"]=307]="TemporaryRedirect",e[e["BadRequest"]=400]="BadRequest",e[e["Unauthorized"]=401]="Unauthorized",e[e["PaymentRequired"]=402]="PaymentRequired",e[e["Forbidden"]=403]="Forbidden",e[e["NotFound"]=404]="NotFound",e[e["MethodNotAllowed"]=405]="MethodNotAllowed",e[e["NotAcceptable"]=406]="NotAcceptable",e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired",e[e["RequestTimeout"]=408]="RequestTimeout",e[e["Conflict"]=409]="Conflict",e[e["Gone"]=410]="Gone",e[e["LengthRequired"]=411]="LengthRequired",e[e["PreconditionFailed"]=412]="PreconditionFailed",e[e["RequestEntityTooLarge"]=413]="RequestEntityTooLarge",e[e["RequestUriTooLong"]=414]="RequestUriTooLong",e[e["UnsupportedMediaType"]=415]="UnsupportedMediaType",e[e["RequestedRangeNotSatisfiable"]=416]="RequestedRangeNotSatisfiable",e[e["ExpectationFailed"]=417]="ExpectationFailed",e[e["UpgradeRequired"]=426]="UpgradeRequired",e[e["InternalServerError"]=500]="InternalServerError",e[e["NotImplemented"]=501]="NotImplemented",e[e["BadGateway"]=502]="BadGateway",e[e["ServiceUnavailable"]=503]="ServiceUnavailable",e[e["GatewayTimeout"]=504]="GatewayTimeout",e[e["HttpVersionNotSupported"]=505]="HttpVersionNotSupported"})(t.AmqpResponseStatusCode||(t.AmqpResponseStatusCode={})),t.messageProperties=["message_id","reply_to","to","correlation_id","content_type","absolute_expiry_time","group_id","group_sequence","reply_to_group_id","content_encoding","creation_time","subject","user_id"],t.messageHeader=["first_acquirer","delivery_count","ttl","durable","priority"],t.isAmqpError=o,t.delay=s,t.parseConnectionString=a,t.emitEvent=c},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7");function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb5":function(e,t,n){"use strict";t.byteLength=l,t.toByteArray=h,t.fromByteArray=v;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function d(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n,r=u(e),s=r[0],a=r[1],c=new o(d(e,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(r));return i.join("")}function v(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(p(e,a,a+s>c?c:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),c=n("2a62"),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,d,h,f,p,v,m,g=n&&n.that,y=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),w=s(t,g,1+y+b),E=function(e){return l&&c(l),new u(!0,e)},O=function(e){return y?(r(e),b?w(e[0],e[1],E):w(e[0],e[1])):b?w(e,E):w(e)};if(_)l=e;else{if(d=a(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(h=0,f=o(e.length);f>h;h++)if(p=O(e[h]),p&&p instanceof u)return p;return new u(!1)}l=d.call(e)}v=l.next;while(!(m=v.call(l)).done){try{p=O(m.value)}catch(S){throw c(l),S}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},2325:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("9ab4"),i=new WeakMap,o=new WeakMap,s=function(){function e(){this.onabort=null,i.set(this,[]),o.set(this,!1)}return Object.defineProperty(e.prototype,"aborted",{get:function(){if(!o.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return o.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"none",{get:function(){return new e},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t){if(!i.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");var n=i.get(this);n.push(t)},e.prototype.removeEventListener=function(e,t){if(!i.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");var n=i.get(this),r=n.indexOf(t);r>-1&&n.splice(r,1)},e.prototype.dispatchEvent=function(e){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")},e}();function a(e){if(!e.aborted){e.onabort&&e.onabort.call(e);var t=i.get(e);t&&t.forEach((function(t){t.call(e,{type:"abort"})})),o.set(e,!0)}}var c=function(e){function t(t){var n=e.call(this,t)||this;return n.name="AbortError",n}return Object(r["__extends"])(t,e),t}(Error);(function(){function e(e){var t=this;if(this._signal=new s,e){Array.isArray(e)||(e=arguments);for(var n=0,r=e;n<r.length;n++){var i=r[n];i.aborted?this.abort():i.addEventListener("abort",(function(){t.abort()}))}}}Object.defineProperty(e.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){a(this._signal)},e.timeout=function(e){var t=new s,n=setTimeout(a,e,t);return"function"===typeof n.unref&&n.unref(),t}})()},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,d,h,f,p,v=e.target,m=e.global,g=e.stat;if(l=m?r:g?r[v]||a(v,{}):(r[v]||{}).prototype,l)for(d in t){if(f=t[d],e.noTargetGet?(p=i(l,d),h=p&&p.value):h=l[d],n=u(m?d:v+(g?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof f===typeof h)continue;c(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),s(l,d,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},2832:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var r=n("b624"),i=n("d07e"),o=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){return i._global[i.GLOBAL_TRACE_API_KEY]||(i._global[i.GLOBAL_TRACE_API_KEY]=i.makeGetter(i.API_BACKWARDS_COMPATIBILITY_VERSION,e,r.NOOP_TRACER_PROVIDER)),this.getTracerProvider()},e.prototype.getTracerProvider=function(){var e,t;return null!==(t=null===(e=i._global[i.GLOBAL_TRACE_API_KEY])||void 0===e?void 0:e.call(i._global,i.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:r.NOOP_TRACER_PROVIDER},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){delete i._global[i.GLOBAL_TRACE_API_KEY]},e}();t.TraceAPI=o},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2b0e":function(e,t,n){"use strict";(function(e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function d(e){return"[object RegExp]"===u.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}m("slot,component",!0);var g=m("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function b(e,t){return _.call(e,t)}function w(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var E=/-(\w)/g,O=w((function(e){return e.replace(E,(function(e,t){return t?t.toUpperCase():""}))})),S=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),C=/\B([A-Z])/g,x=w((function(e){return e.replace(C,"-$1").toLowerCase()}));function A(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function k(e,t){return e.bind(t)}var T=Function.prototype.bind?k:A;function I(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function R(e,t){for(var n in t)e[n]=t[n];return e}function P(e){for(var t={},n=0;n<e.length;n++)e[n]&&R(t,e[n]);return t}function M(e,t,n){}var L=function(e,t,n){return!1},N=function(e){return e};function j(e,t){if(e===t)return!0;var n=c(e),r=c(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return j(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return j(e[n],t[n])}))}catch(u){return!1}}function D(e,t){for(var n=0;n<e.length;n++)if(j(e[n],t))return n;return-1}function U(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var q="data-server-rendered",$=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:M,parsePlatformTagName:N,mustUseProp:L,async:!0,_lifecycleHooks:B},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function H(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^"+Y.source+".$_\\d]");function V(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var G,W="__proto__"in{},Q="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=X&&WXEnvironment.platform.toLowerCase(),Z=Q&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ne=Z&&Z.indexOf("edge/")>0,re=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===J),ie=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),oe={}.watch,se=!1;if(Q)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){se=!0}}),window.addEventListener("test-passive",null,ae)}catch(Os){}var ce=function(){return void 0===G&&(G=!Q&&!X&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),G},ue=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var de,he="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);de="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var fe=M,pe=0,ve=function(){this.id=pe++,this.subs=[]};ve.prototype.addSub=function(e){this.subs.push(e)},ve.prototype.removeSub=function(e){y(this.subs,e)},ve.prototype.depend=function(){ve.target&&ve.target.addDep(this)},ve.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},ve.target=null;var me=[];function ge(e){me.push(e),ve.target=e}function ye(){me.pop(),ve.target=me[me.length-1]}var _e=function(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(_e.prototype,be);var we=function(e){void 0===e&&(e="");var t=new _e;return t.text=e,t.isComment=!0,t};function Ee(e){return new _e(void 0,void 0,void 0,String(e))}function Oe(e){var t=new _e(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Se=Array.prototype,Ce=Object.create(Se),xe=["push","pop","shift","unshift","splice","sort","reverse"];xe.forEach((function(e){var t=Se[e];H(Ce,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Ae=Object.getOwnPropertyNames(Ce),ke=!0;function Te(e){ke=e}var Ie=function(e){this.value=e,this.dep=new ve,this.vmCount=0,H(e,"__ob__",this),Array.isArray(e)?(W?Re(e,Ce):Pe(e,Ce,Ae),this.observeArray(e)):this.walk(e)};function Re(e,t){e.__proto__=t}function Pe(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];H(e,o,t[o])}}function Me(e,t){var n;if(c(e)&&!(e instanceof _e))return b(e,"__ob__")&&e.__ob__ instanceof Ie?n=e.__ob__:ke&&!ce()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Ie(e)),t&&n&&n.vmCount++,n}function Le(e,t,n,r,i){var o=new ve,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=e[t]);var u=!i&&Me(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return ve.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&De(t))),t},set:function(t){var r=a?a.call(e):n;t===r||t!==t&&r!==r||a&&!c||(c?c.call(e,t):n=t,u=!i&&Me(t),o.notify())}})}}function Ne(e,t,n){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Le(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function je(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||b(e,t)&&(delete e[t],n&&n.dep.notify())}}function De(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&De(t)}Ie.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Le(e,t[n])},Ie.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Me(e[t])};var Ue=F.optionMergeStrategies;function qe(e,t){if(!t)return e;for(var n,r,i,o=he?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=e[n],i=t[n],b(e,n)?r!==i&&l(r)&&l(i)&&qe(r,i):Ne(e,n,i));return e}function $e(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,i="function"===typeof e?e.call(n,n):e;return r?qe(r,i):i}:t?e?function(){return qe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Be(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?Fe(n):n}function Fe(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Ye(e,t,n,r){var i=Object.create(e||null);return t?R(i,t):i}Ue.data=function(e,t,n){return n?$e(e,t,n):t&&"function"!==typeof t?e:$e(e,t)},B.forEach((function(e){Ue[e]=Be})),$.forEach((function(e){Ue[e+"s"]=Ye})),Ue.watch=function(e,t,n,r){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in R(i,e),t){var s=i[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Ue.props=Ue.methods=Ue.inject=Ue.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return R(i,e),t&&R(i,t),i},Ue.provide=$e;var ze=function(e,t){return void 0===t?e:t};function He(e,t){var n=e.props;if(n){var r,i,o,s={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=O(i),s[o]={type:null})}else if(l(n))for(var a in n)i=n[a],o=O(a),s[o]=l(i)?i:{type:i};else 0;e.props=s}}function Ke(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var s=n[o];r[o]=l(s)?R({from:o},s):{from:s}}else 0}}function Ve(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function Ge(e,t,n){if("function"===typeof t&&(t=t.options),He(t,n),Ke(t,n),Ve(t),!t._base&&(t.extends&&(e=Ge(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ge(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)b(e,o)||a(o);function a(r){var i=Ue[r]||ze;s[r]=i(e[r],t[r],n,r)}return s}function We(e,t,n,r){if("string"===typeof n){var i=e[t];if(b(i,n))return i[n];var o=O(n);if(b(i,o))return i[o];var s=S(o);if(b(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Qe(e,t,n,r){var i=t[e],o=!b(n,e),s=n[e],a=et(Boolean,i.type);if(a>-1)if(o&&!b(i,"default"))s=!1;else if(""===s||s===x(e)){var c=et(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Xe(r,i,e);var u=ke;Te(!0),Me(s),Te(u)}return s}function Xe(e,t,n){if(b(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Je(t.type)?r.call(e):r}}function Je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ze(e,t){return Je(e)===Je(t)}function et(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Ze(t[n],e))return n;return-1}function tt(e,t,n){ge();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(Os){rt(Os,r,"errorCaptured hook")}}}rt(e,t,n)}finally{ye()}}function nt(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(e){return tt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(Os){tt(Os,r,i)}return o}function rt(e,t,n){if(F.errorHandler)try{return F.errorHandler.call(null,e,t,n)}catch(Os){Os!==e&&it(Os,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!Q&&!X||"undefined"===typeof console)throw e;console.error(e)}var ot,st=!1,at=[],ct=!1;function ut(){ct=!1;var e=at.slice(0);at.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var lt=Promise.resolve();ot=function(){lt.then(ut),re&&setTimeout(M)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(ut)}:function(){setTimeout(ut,0)};else{var dt=1,ht=new MutationObserver(ut),ft=document.createTextNode(String(dt));ht.observe(ft,{characterData:!0}),ot=function(){dt=(dt+1)%2,ft.data=String(dt)},st=!0}function pt(e,t){var n;if(at.push((function(){if(e)try{e.call(t)}catch(Os){tt(Os,t,"nextTick")}else n&&n(t)})),ct||(ct=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var vt=new de;function mt(e){gt(e,vt),vt.clear()}function gt(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!c(e)||Object.isFrozen(e)||e instanceof _e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){n=e.length;while(n--)gt(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)gt(e[r[n]],t)}}}var yt=w((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function _t(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)nt(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function bt(e,t,n,i,s,a){var c,u,l,d;for(c in e)u=e[c],l=t[c],d=yt(c),r(u)||(r(l)?(r(u.fns)&&(u=e[c]=_t(u,a)),o(d.once)&&(u=e[c]=s(d.name,u,d.capture)),n(d.name,u,d.capture,d.passive,d.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)r(e[c])&&(d=yt(c),i(d.name,t[c],d.capture))}function wt(e,t,n){var s;e instanceof _e&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function c(){n.apply(this,arguments),y(s.fns,c)}r(a)?s=_t([c]):i(a.fns)&&o(a.merged)?(s=a,s.fns.push(c)):s=_t([a,c]),s.merged=!0,e[t]=s}function Et(e,t,n){var o=t.options.props;if(!r(o)){var s={},a=e.attrs,c=e.props;if(i(a)||i(c))for(var u in o){var l=x(u);Ot(s,c,u,l,!0)||Ot(s,a,u,l,!1)}return s}}function Ot(e,t,n,r,o){if(i(t)){if(b(t,n))return e[n]=t[n],o||delete t[n],!0;if(b(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function St(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ct(e){return a(e)?[Ee(e)]:Array.isArray(e)?At(e):void 0}function xt(e){return i(e)&&i(e.text)&&s(e.isComment)}function At(e,t){var n,s,c,u,l=[];for(n=0;n<e.length;n++)s=e[n],r(s)||"boolean"===typeof s||(c=l.length-1,u=l[c],Array.isArray(s)?s.length>0&&(s=At(s,(t||"")+"_"+n),xt(s[0])&&xt(u)&&(l[c]=Ee(u.text+s[0].text),s.shift()),l.push.apply(l,s)):a(s)?xt(u)?l[c]=Ee(u.text+s):""!==s&&l.push(Ee(s)):xt(s)&&xt(u)?l[c]=Ee(u.text+s.text):(o(e._isVList)&&i(s.tag)&&r(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+n+"__"),l.push(s)));return l}function kt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Tt(e){var t=It(e.$options.inject,e);t&&(Te(!1),Object.keys(t).forEach((function(n){Le(e,n,t[n])})),Te(!0))}function It(e,t){if(e){for(var n=Object.create(null),r=he?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from,a=t;while(a){if(a._provided&&b(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in e[o]){var c=e[o].default;n[o]="function"===typeof c?c.call(t):c}else 0}}return n}}function Rt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(Pt)&&delete n[u];return n}function Pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Mt(e,t,r){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&r&&r!==n&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=Lt(t,c,e[c]))}else i={};for(var u in t)u in i||(i[u]=Nt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=i),H(i,"$stable",s),H(i,"$key",a),H(i,"$hasNormal",o),i}function Lt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Ct(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Nt(e,t){return function(){return e[t]}}function jt(e,t){var n,r,o,s,a;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(c(e))if(he&&e[Symbol.iterator]){n=[];var u=e[Symbol.iterator](),l=u.next();while(!l.done)n.push(t(l.value,n.length)),l=u.next()}else for(s=Object.keys(e),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=t(e[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function Dt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=R(R({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Ut(e){return We(this.$options,"filters",e,!0)||N}function qt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function $t(e,t,n,r,i){var o=F.keyCodes[t]||n;return i&&r&&!F.keyCodes[t]?qt(i,r):o?qt(o,e):r?x(r)!==t:void 0}function Bt(e,t,n,r,i){if(n)if(c(n)){var o;Array.isArray(n)&&(n=P(n));var s=function(s){if("class"===s||"style"===s||g(s))o=e;else{var a=e.attrs&&e.attrs.type;o=r||F.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=O(s),u=x(s);if(!(c in o)&&!(u in o)&&(o[s]=n[s],i)){var l=e.on||(e.on={});l["update:"+s]=function(e){n[s]=e}}};for(var a in n)s(a)}else;return e}function Ft(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),zt(r,"__static__"+e,!1)),r}function Yt(e,t,n){return zt(e,"__once__"+t+(n?"_"+n:""),!0),e}function zt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Ht(e[r],t+"_"+r,n);else Ht(e,t,n)}function Ht(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Kt(e,t){if(t)if(l(t)){var n=e.on=e.on?R({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Vt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Vt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Gt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Wt(e,t){return"string"===typeof e?t+e:e}function Qt(e){e._o=Yt,e._n=v,e._s=p,e._l=jt,e._t=Dt,e._q=j,e._i=D,e._m=Ft,e._f=Ut,e._k=$t,e._b=Bt,e._v=Ee,e._e=we,e._u=Vt,e._g=Kt,e._d=Gt,e._p=Wt}function Xt(e,t,r,i,s){var a,c=this,u=s.options;b(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var l=o(u._compiled),d=!l;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=It(u.inject,i),this.slots=function(){return c.$slots||Mt(e.scopedSlots,c.$slots=Rt(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Mt(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Mt(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var o=dn(a,e,t,n,r,d);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return dn(a,e,t,n,r,d)}}function Jt(e,t,r,o,s){var a=e.options,c={},u=a.props;if(i(u))for(var l in u)c[l]=Qe(l,u,t||n);else i(r.attrs)&&en(c,r.attrs),i(r.props)&&en(c,r.props);var d=new Xt(r,c,s,o,e),h=a.render.call(null,d._c,d);if(h instanceof _e)return Zt(h,r,d.parent,a,d);if(Array.isArray(h)){for(var f=Ct(h)||[],p=new Array(f.length),v=0;v<f.length;v++)p[v]=Zt(f[v],r,d.parent,a,d);return p}}function Zt(e,t,n,r,i){var o=Oe(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function en(e,t){for(var n in t)e[O(n)]=t[n]}Qt(Xt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,In);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Nn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,qn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Jn(n):Dn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Un(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,s,a){if(!r(e)){var u=n.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(r(e.cid)&&(l=e,e=wn(l,u),void 0===e))return bn(l,t,n,s,a);t=t||{},wr(e),i(t.model)&&cn(e.options,t);var d=Et(t,e,a);if(o(e.options.functional))return Jt(e,d,t,n,s);var h=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}sn(t);var p=e.options.name||a,v=new _e("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:d,listeners:h,tag:a,children:s},l);return v}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function sn(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=t[r],o=tn[r];i===o||i&&i._merged||(t[r]=i?an(o,i):o)}}function an(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function cn(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],a=t.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}var un=1,ln=2;function dn(e,t,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=ln),hn(e,t,n,r,i)}function hn(e,t,n,r,o){if(i(n)&&i(n.__ob__))return we();if(i(n)&&i(n.is)&&(t=n.is),!t)return we();var s,a,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ln?r=Ct(r):o===un&&(r=St(r)),"string"===typeof t)?(a=e.$vnode&&e.$vnode.ns||F.getTagNamespace(t),s=F.isReservedTag(t)?new _e(F.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(c=We(e.$options,"components",t))?new _e(t,n,r,void 0,void 0,e):rn(c,n,e,r,t)):s=rn(t,n,e,r);return Array.isArray(s)?s:i(s)?(i(a)&&fn(s,a),i(n)&&pn(n),s):we()}function fn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var s=0,a=e.children.length;s<a;s++){var c=e.children[s];i(c.tag)&&(r(c.ns)||o(n)&&"svg"!==c.tag)&&fn(c,t,n)}}function pn(e){c(e.style)&&mt(e.style),c(e.class)&&mt(e.class)}function vn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=Rt(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return dn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return dn(e,t,n,r,i,!0)};var o=r&&r.data;Le(e,"$attrs",o&&o.attrs||n,null,!0),Le(e,"$listeners",t._parentListeners||n,null,!0)}var mn,gn=null;function yn(e){Qt(e.prototype),e.prototype.$nextTick=function(e){return pt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=Mt(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{gn=t,e=r.call(t._renderProxy,t.$createElement)}catch(Os){tt(Os,t,"render"),e=t._vnode}finally{gn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof _e||(e=we()),e.parent=i,e}}function _n(e,t){return(e.__esModule||he&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function bn(e,t,n,r,i){var o=we();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function wn(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=gn;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var s=e.owners=[n],a=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return y(s,n)}));var d=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},h=U((function(n){e.resolved=_n(n,t),a?s.length=0:d(!0)})),p=U((function(t){i(e.errorComp)&&(e.error=!0,d(!0))})),v=e(h,p);return c(v)&&(f(v)?r(e.resolved)&&v.then(h,p):f(v.component)&&(v.component.then(h,p),i(v.error)&&(e.errorComp=_n(v.error,t)),i(v.loading)&&(e.loadingComp=_n(v.loading,t),0===v.delay?e.loading=!0:u=setTimeout((function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,d(!1))}),v.delay||200)),i(v.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&p(null)}),v.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function En(e){return e.isComment&&e.asyncFactory}function On(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||En(n)))return n}}function Sn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&kn(e,t)}function Cn(e,t){mn.$on(e,t)}function xn(e,t){mn.$off(e,t)}function An(e,t){var n=mn;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function kn(e,t,n){mn=e,bt(t,n||{},Cn,xn,An,e),mn=void 0}function Tn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;var a=s.length;while(a--)if(o=s[a],o===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?I(n):n;for(var r=I(arguments,1),i='event handler for "'+e+'"',o=0,s=n.length;o<s;o++)nt(n[o],t,r,t,i)}return t}}var In=null;function Rn(e){var t=In;return In=e,function(){In=t}}function Pn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Mn(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Rn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){qn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),qn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ln(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=we),qn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,M,{before:function(){e._isMounted&&!e._isDestroyed&&qn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,qn(e,"mounted")),e}function Nn(e,t,r,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,c=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key),u=!!(o||e.$options._renderChildren||c);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Te(!1);for(var l=e._props,d=e.$options._propKeys||[],h=0;h<d.length;h++){var f=d[h],p=e.$options.props;l[f]=Qe(f,p,t,e)}Te(!0),e.$options.propsData=t}r=r||n;var v=e.$options._parentListeners;e.$options._parentListeners=r,kn(e,r,v),u&&(e.$slots=Rt(o,i.context),e.$forceUpdate())}function jn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Dn(e,t){if(t){if(e._directInactive=!1,jn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Dn(e.$children[n]);qn(e,"activated")}}function Un(e,t){if((!t||(e._directInactive=!0,!jn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Un(e.$children[n]);qn(e,"deactivated")}}function qn(e,t){ge();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)nt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var $n=[],Bn=[],Fn={},Yn=!1,zn=!1,Hn=0;function Kn(){Hn=$n.length=Bn.length=0,Fn={},Yn=zn=!1}var Vn=0,Gn=Date.now;if(Q&&!ee){var Wn=window.performance;Wn&&"function"===typeof Wn.now&&Gn()>document.createEvent("Event").timeStamp&&(Gn=function(){return Wn.now()})}function Qn(){var e,t;for(Vn=Gn(),zn=!0,$n.sort((function(e,t){return e.id-t.id})),Hn=0;Hn<$n.length;Hn++)e=$n[Hn],e.before&&e.before(),t=e.id,Fn[t]=null,e.run();var n=Bn.slice(),r=$n.slice();Kn(),Zn(n),Xn(r),ue&&F.devtools&&ue.emit("flush")}function Xn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&qn(r,"updated")}}function Jn(e){e._inactive=!1,Bn.push(e)}function Zn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Dn(e[t],!0)}function er(e){var t=e.id;if(null==Fn[t]){if(Fn[t]=!0,zn){var n=$n.length-1;while(n>Hn&&$n[n].id>e.id)n--;$n.splice(n+1,0,e)}else $n.push(e);Yn||(Yn=!0,pt(Qn))}}var tr=0,nr=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new de,this.newDepIds=new de,this.expression="","function"===typeof t?this.getter=t:(this.getter=V(t),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;ge(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Os){if(!this.user)throw Os;tt(Os,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&mt(e),ye(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Os){tt(Os,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:M,set:M};function ir(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function or(e){e._watchers=[];var t=e.$options;t.props&&sr(e,t.props),t.methods&&pr(e,t.methods),t.data?ar(e):Me(e._data={},!0),t.computed&&lr(e,t.computed),t.watch&&t.watch!==oe&&vr(e,t.watch)}function sr(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||Te(!1);var s=function(o){i.push(o);var s=Qe(o,t,n,e);Le(r,o,s),o in e||ir(e,"_props",o)};for(var a in t)s(a);Te(!0)}function ar(e){var t=e.$options.data;t=e._data="function"===typeof t?cr(t,e):t||{},l(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&b(r,o)||z(o)||ir(e,"_data",o)}Me(t,!0)}function cr(e,t){ge();try{return e.call(t,t)}catch(Os){return tt(Os,t,"data()"),{}}finally{ye()}}var ur={lazy:!0};function lr(e,t){var n=e._computedWatchers=Object.create(null),r=ce();for(var i in t){var o=t[i],s="function"===typeof o?o:o.get;0,r||(n[i]=new nr(e,s||M,M,ur)),i in e||dr(e,i,o)}}function dr(e,t,n){var r=!ce();"function"===typeof n?(rr.get=r?hr(t):fr(n),rr.set=M):(rr.get=n.get?r&&!1!==n.cache?hr(t):fr(n.get):M,rr.set=n.set||M),Object.defineProperty(e,t,rr)}function hr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ve.target&&t.depend(),t.value}}function fr(e){return function(){return e.call(this,this)}}function pr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?M:T(t[n],e)}function vr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)mr(e,n,r[i]);else mr(e,n,r)}}function mr(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function gr(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ne,e.prototype.$delete=je,e.prototype.$watch=function(e,t,n){var r=this;if(l(t))return mr(r,e,t,n);n=n||{},n.user=!0;var i=new nr(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(o){tt(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function _r(e){e.prototype._init=function(e){var t=this;t._uid=yr++,t._isVue=!0,e&&e._isComponent?br(t,e):t.$options=Ge(wr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Pn(t),Sn(t),vn(t),qn(t,"beforeCreate"),Tt(t),or(t),kt(t),qn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function br(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function wr(e){var t=e.options;if(e.super){var n=wr(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=Er(e);i&&R(e.extendOptions,i),t=e.options=Ge(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Er(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function Or(e){this._init(e)}function Sr(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=I(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Cr(e){e.mixin=function(e){return this.options=Ge(this.options,e),this}}function xr(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Ge(n.options,e),s["super"]=n,s.options.props&&Ar(s),s.options.computed&&kr(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,$.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=R({},s.options),i[r]=s,s}}function Ar(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function kr(e){var t=e.options.computed;for(var n in t)dr(e.prototype,n,t[n])}function Tr(e){$.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Ir(e){return e&&(e.Ctor.options.name||e.tag)}function Rr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function Pr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=Ir(s.componentOptions);a&&!t(a)&&Mr(n,o,r,i)}}}function Mr(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,y(n,t)}_r(Or),gr(Or),Tn(Or),Mn(Or),yn(Or);var Lr=[String,RegExp,Array],Nr={name:"keep-alive",abstract:!0,props:{include:Lr,exclude:Lr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Mr(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Pr(e,(function(e){return Rr(t,e)}))})),this.$watch("exclude",(function(t){Pr(e,(function(e){return!Rr(t,e)}))}))},render:function(){var e=this.$slots.default,t=On(e),n=t&&t.componentOptions;if(n){var r=Ir(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Rr(o,r))||s&&r&&Rr(s,r))return t;var a=this,c=a.cache,u=a.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,y(u,l),u.push(l)):(c[l]=t,u.push(l),this.max&&u.length>parseInt(this.max)&&Mr(c,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},jr={KeepAlive:Nr};function Dr(e){var t={get:function(){return F}};Object.defineProperty(e,"config",t),e.util={warn:fe,extend:R,mergeOptions:Ge,defineReactive:Le},e.set=Ne,e.delete=je,e.nextTick=pt,e.observable=function(e){return Me(e),e},e.options=Object.create(null),$.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,R(e.options.components,jr),Sr(e),Cr(e),xr(e),Tr(e)}Dr(Or),Object.defineProperty(Or.prototype,"$isServer",{get:ce}),Object.defineProperty(Or.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Or,"FunctionalRenderContext",{value:Xt}),Or.version="2.6.12";var Ur=m("style,class"),qr=m("input,textarea,option,select,progress"),$r=function(e,t,n){return"value"===n&&qr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Br=m("contenteditable,draggable,spellcheck"),Fr=m("events,caret,typing,plaintext-only"),Yr=function(e,t){return Gr(t)||"false"===t?"false":"contenteditable"===e&&Fr(t)?t:"true"},zr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Hr="http://www.w3.org/1999/xlink",Kr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Vr=function(e){return Kr(e)?e.slice(6,e.length):""},Gr=function(e){return null==e||!1===e};function Wr(e){var t=e.data,n=e,r=e;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Qr(r.data,t));while(i(n=n.parent))n&&n.data&&(t=Qr(t,n.data));return Xr(t.staticClass,t.class)}function Qr(e,t){return{staticClass:Jr(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Xr(e,t){return i(e)||i(t)?Jr(e,Zr(t)):""}function Jr(e,t){return e?t?e+" "+t:e:t||""}function Zr(e){return Array.isArray(e)?ei(e):c(e)?ti(e):"string"===typeof e?e:""}function ei(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Zr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ti(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(e){return ri(e)||ii(e)};function si(e){return ii(e)?"svg":"math"===e?"math":void 0}var ai=Object.create(null);function ci(e){if(!Q)return!0;if(oi(e))return!1;if(e=e.toLowerCase(),null!=ai[e])return ai[e];var t=document.createElement(e);return e.indexOf("-")>-1?ai[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ai[e]=/HTMLUnknownElement/.test(t.toString())}var ui=m("text,number,password,search,email,tel,url");function li(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function di(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function hi(e,t){return document.createElementNS(ni[e],t)}function fi(e){return document.createTextNode(e)}function pi(e){return document.createComment(e)}function vi(e,t,n){e.insertBefore(t,n)}function mi(e,t){e.removeChild(t)}function gi(e,t){e.appendChild(t)}function yi(e){return e.parentNode}function _i(e){return e.nextSibling}function bi(e){return e.tagName}function wi(e,t){e.textContent=t}function Ei(e,t){e.setAttribute(t,"")}var Oi=Object.freeze({createElement:di,createElementNS:hi,createTextNode:fi,createComment:pi,insertBefore:vi,removeChild:mi,appendChild:gi,parentNode:yi,nextSibling:_i,tagName:bi,setTextContent:wi,setStyleScope:Ei}),Si={create:function(e,t){Ci(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ci(e,!0),Ci(t))},destroy:function(e){Ci(e,!0)}};function Ci(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?y(s[n],o):s[n]===o&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var xi=new _e("",{},[]),Ai=["create","activate","update","remove","destroy"];function ki(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&Ti(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Ti(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||ui(r)&&ui(o)}function Ii(e,t,n){var r,o,s={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(s[o]=r);return s}function Ri(e){var t,n,s={},c=e.modules,u=e.nodeOps;for(t=0;t<Ai.length;++t)for(s[Ai[t]]=[],n=0;n<c.length;++n)i(c[n][Ai[t]])&&s[Ai[t]].push(c[n][Ai[t]]);function l(e){return new _e(u.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function n(){0===--n.listeners&&h(e)}return n.listeners=t,n}function h(e){var t=u.parentNode(e);i(t)&&u.removeChild(t,e)}function f(e,t,n,r,s,a,c){if(i(e.elm)&&i(a)&&(e=a[c]=Oe(e)),e.isRootInsert=!s,!p(e,t,n,r)){var l=e.data,d=e.children,h=e.tag;i(h)?(e.elm=e.ns?u.createElementNS(e.ns,h):u.createElement(h,e),E(e),_(e,d,t),i(l)&&w(e,t),y(n,e.elm,r)):o(e.isComment)?(e.elm=u.createComment(e.text),y(n,e.elm,r)):(e.elm=u.createTextNode(e.text),y(n,e.elm,r))}}function p(e,t,n,r){var s=e.data;if(i(s)){var a=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return v(e,t),y(n,e.elm,r),o(a)&&g(e,t,n,r),!0}}function v(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(w(e,t),E(e)):(Ci(e),t.push(e))}function g(e,t,n,r){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](xi,a);t.push(a);break}y(n,e.elm,r)}function y(e,t,n){i(e)&&(i(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function _(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r)}else a(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function b(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function w(e,n){for(var r=0;r<s.create.length;++r)s.create[r](xi,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(xi,e),i(t.insert)&&n.push(e))}function E(e){var t;if(i(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)i(t=n.context)&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}i(t=In)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function O(e,t,n,r,i,o){for(;r<=i;++r)f(n[r],o,e,t,!1,n,r)}function S(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)S(e.children[n])}function C(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(x(r),S(r)):h(r.elm))}}function x(e,t){if(i(t)||i(e.data)){var n,r=s.remove.length+1;for(i(t)?t.listeners+=r:t=d(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&x(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else h(e.elm)}function A(e,t,n,o,s){var a,c,l,d,h=0,p=0,v=t.length-1,m=t[0],g=t[v],y=n.length-1,_=n[0],b=n[y],w=!s;while(h<=v&&p<=y)r(m)?m=t[++h]:r(g)?g=t[--v]:ki(m,_)?(T(m,_,o,n,p),m=t[++h],_=n[++p]):ki(g,b)?(T(g,b,o,n,y),g=t[--v],b=n[--y]):ki(m,b)?(T(m,b,o,n,y),w&&u.insertBefore(e,m.elm,u.nextSibling(g.elm)),m=t[++h],b=n[--y]):ki(g,_)?(T(g,_,o,n,p),w&&u.insertBefore(e,g.elm,m.elm),g=t[--v],_=n[++p]):(r(a)&&(a=Ii(t,h,v)),c=i(_.key)?a[_.key]:k(_,t,h,v),r(c)?f(_,o,e,m.elm,!1,n,p):(l=t[c],ki(l,_)?(T(l,_,o,n,p),t[c]=void 0,w&&u.insertBefore(e,l.elm,m.elm)):f(_,o,e,m.elm,!1,n,p)),_=n[++p]);h>v?(d=r(n[y+1])?null:n[y+1].elm,O(e,d,n,p,y,o)):p>y&&C(t,h,v)}function k(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(i(s)&&ki(e,s))return o}}function T(e,t,n,a,c,l){if(e!==t){i(t.elm)&&i(a)&&(t=a[c]=Oe(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?P(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var h,f=t.data;i(f)&&i(h=f.hook)&&i(h=h.prepatch)&&h(e,t);var p=e.children,v=t.children;if(i(f)&&b(t)){for(h=0;h<s.update.length;++h)s.update[h](e,t);i(h=f.hook)&&i(h=h.update)&&h(e,t)}r(t.text)?i(p)&&i(v)?p!==v&&A(d,p,v,n,l):i(v)?(i(e.text)&&u.setTextContent(d,""),O(d,null,v,0,v.length-1,n)):i(p)?C(p,0,p.length-1):i(e.text)&&u.setTextContent(d,""):e.text!==t.text&&u.setTextContent(d,t.text),i(f)&&i(h=f.hook)&&i(h=h.postpatch)&&h(e,t)}}}function I(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var R=m("attrs,class,staticClass,staticStyle,key");function P(e,t,n,r){var s,a=t.tag,c=t.data,u=t.children;if(r=r||c&&c.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(s=c.hook)&&i(s=s.init)&&s(t,!0),i(s=t.componentInstance)))return v(t,n),!0;if(i(a)){if(i(u))if(e.hasChildNodes())if(i(s=c)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var l=!0,d=e.firstChild,h=0;h<u.length;h++){if(!d||!P(d,u[h],n,r)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else _(t,u,n);if(i(c)){var f=!1;for(var p in c)if(!R(p)){f=!0,w(t,n);break}!f&&c["class"]&&mt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a){if(!r(t)){var c=!1,d=[];if(r(e))c=!0,f(t,d);else{var h=i(e.nodeType);if(!h&&ki(e,t))T(e,t,d,null,null,a);else{if(h){if(1===e.nodeType&&e.hasAttribute(q)&&(e.removeAttribute(q),n=!0),o(n)&&P(e,t,d))return I(t,d,!0),e;e=l(e)}var p=e.elm,v=u.parentNode(p);if(f(t,d,p._leaveCb?null:v,u.nextSibling(p)),i(t.parent)){var m=t.parent,g=b(t);while(m){for(var y=0;y<s.destroy.length;++y)s.destroy[y](m);if(m.elm=t.elm,g){for(var _=0;_<s.create.length;++_)s.create[_](xi,m);var w=m.data.hook.insert;if(w.merged)for(var E=1;E<w.fns.length;E++)w.fns[E]()}else Ci(m);m=m.parent}}i(v)?C([e],0,0):i(e.tag)&&S(e)}}return I(t,d,c),t.elm}i(e)&&S(e)}}var Pi={create:Mi,update:Mi,destroy:function(e){Mi(e,xi)}};function Mi(e,t){(e.data.directives||t.data.directives)&&Li(e,t)}function Li(e,t){var n,r,i,o=e===xi,s=t===xi,a=ji(e.data.directives,e.context),c=ji(t.data.directives,t.context),u=[],l=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Ui(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(Ui(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var d=function(){for(var n=0;n<u.length;n++)Ui(u[n],"inserted",t,e)};o?wt(t,"insert",d):d()}if(l.length&&wt(t,"postpatch",(function(){for(var n=0;n<l.length;n++)Ui(l[n],"componentUpdated",t,e)})),!o)for(n in a)c[n]||Ui(a[n],"unbind",e,e,s)}var Ni=Object.create(null);function ji(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Ni),i[Di(r)]=r,r.def=We(t.$options,"directives",r.name,!0);return i}function Di(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Ui(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(Os){tt(Os,n.context,"directive "+e.name+" "+t+" hook")}}var qi=[Si,Pi];function $i(e,t){var n=t.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var o,s,a,c=t.elm,u=e.data.attrs||{},l=t.data.attrs||{};for(o in i(l.__ob__)&&(l=t.data.attrs=R({},l)),l)s=l[o],a=u[o],a!==s&&Bi(c,o,s);for(o in(ee||ne)&&l.value!==u.value&&Bi(c,"value",l.value),u)r(l[o])&&(Kr(o)?c.removeAttributeNS(Hr,Vr(o)):Br(o)||c.removeAttribute(o))}}function Bi(e,t,n){e.tagName.indexOf("-")>-1?Fi(e,t,n):zr(t)?Gr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Br(t)?e.setAttribute(t,Yr(t,n)):Kr(t)?Gr(n)?e.removeAttributeNS(Hr,Vr(t)):e.setAttributeNS(Hr,t,n):Fi(e,t,n)}function Fi(e,t,n){if(Gr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Yi={create:$i,update:$i};function zi(e,t){var n=t.elm,o=t.data,s=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Wr(t),c=n._transitionClasses;i(c)&&(a=Jr(a,Zr(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Hi,Ki={create:zi,update:zi},Vi="__r",Gi="__c";function Wi(e){if(i(e[Vi])){var t=ee?"change":"input";e[t]=[].concat(e[Vi],e[t]||[]),delete e[Vi]}i(e[Gi])&&(e.change=[].concat(e[Gi],e.change||[]),delete e[Gi])}function Qi(e,t,n){var r=Hi;return function i(){var o=t.apply(null,arguments);null!==o&&Zi(e,i,n,r)}}var Xi=st&&!(ie&&Number(ie[1])<=53);function Ji(e,t,n,r){if(Xi){var i=Vn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Hi.addEventListener(e,t,se?{capture:n,passive:r}:n)}function Zi(e,t,n,r){(r||Hi).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Hi=t.elm,Wi(n),bt(n,i,Ji,Zi,Qi,t.context),Hi=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,s=t.elm,a=e.data.domProps||{},c=t.data.domProps||{};for(n in i(c.__ob__)&&(c=t.data.domProps=R({},c)),a)n in c||(s[n]="");for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var u=r(o)?"":String(o);io(s,u)&&(s.value=u)}else if("innerHTML"===n&&ii(s.tagName)&&r(s.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var l=to.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(l.firstChild)s.appendChild(l.firstChild)}else if(o!==a[n])try{s[n]=o}catch(Os){}}}}function io(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||so(e,t))}function oo(e,t){var n=!0;try{n=document.activeElement!==e}catch(Os){}return n&&e.value!==t}function so(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return v(n)!==v(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var ao={create:ro,update:ro},co=w((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function uo(e){var t=lo(e.style);return e.staticStyle?R(e.staticStyle,t):t}function lo(e){return Array.isArray(e)?P(e):"string"===typeof e?co(e):e}function ho(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=uo(i.data))&&R(r,n)}(n=uo(e.data))&&R(r,n);var o=e;while(o=o.parent)o.data&&(n=uo(o.data))&&R(r,n);return r}var fo,po=/^--/,vo=/\s*!important$/,mo=function(e,t,n){if(po.test(t))e.style.setProperty(t,n);else if(vo.test(n))e.style.setProperty(x(t),n.replace(vo,""),"important");else{var r=yo(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},go=["Webkit","Moz","ms"],yo=w((function(e){if(fo=fo||document.createElement("div").style,e=O(e),"filter"!==e&&e in fo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<go.length;n++){var r=go[n]+t;if(r in fo)return r}}));function _o(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,a,c=t.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},d=u||l,h=lo(t.data.style)||{};t.data.normalizedStyle=i(h.__ob__)?R({},h):h;var f=ho(t,!0);for(a in d)r(f[a])&&mo(c,a,"");for(a in f)s=f[a],s!==d[a]&&mo(c,a,null==s?"":s)}}var bo={create:_o,update:_o},wo=/\s+/;function Eo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Oo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function So(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&R(t,Co(e.name||"v")),R(t,e),t}return"string"===typeof e?Co(e):void 0}}var Co=w((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),xo=Q&&!te,Ao="transition",ko="animation",To="transition",Io="transitionend",Ro="animation",Po="animationend";xo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(To="WebkitTransition",Io="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ro="WebkitAnimation",Po="webkitAnimationEnd"));var Mo=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Lo(e){Mo((function(){Mo(e)}))}function No(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Eo(e,t))}function jo(e,t){e._transitionClasses&&y(e._transitionClasses,t),Oo(e,t)}function Do(e,t,n){var r=qo(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===Ao?Io:Po,c=0,u=function(){e.removeEventListener(a,l),n()},l=function(t){t.target===e&&++c>=s&&u()};setTimeout((function(){c<s&&u()}),o+1),e.addEventListener(a,l)}var Uo=/\b(transform|all)(,|$)/;function qo(e,t){var n,r=window.getComputedStyle(e),i=(r[To+"Delay"]||"").split(", "),o=(r[To+"Duration"]||"").split(", "),s=$o(i,o),a=(r[Ro+"Delay"]||"").split(", "),c=(r[Ro+"Duration"]||"").split(", "),u=$o(a,c),l=0,d=0;t===Ao?s>0&&(n=Ao,l=s,d=o.length):t===ko?u>0&&(n=ko,l=u,d=c.length):(l=Math.max(s,u),n=l>0?s>u?Ao:ko:null,d=n?n===Ao?o.length:c.length:0);var h=n===Ao&&Uo.test(r[To+"Property"]);return{type:n,timeout:l,propCount:d,hasTransform:h}}function $o(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Bo(t)+Bo(e[n])})))}function Bo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Fo(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=So(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var s=o.css,a=o.type,u=o.enterClass,l=o.enterToClass,d=o.enterActiveClass,h=o.appearClass,f=o.appearToClass,p=o.appearActiveClass,m=o.beforeEnter,g=o.enter,y=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,E=o.afterAppear,O=o.appearCancelled,S=o.duration,C=In,x=In.$vnode;while(x&&x.parent)C=x.context,x=x.parent;var A=!C._isMounted||!e.isRootInsert;if(!A||w||""===w){var k=A&&h?h:u,T=A&&p?p:d,I=A&&f?f:l,R=A&&b||m,P=A&&"function"===typeof w?w:g,M=A&&E||y,L=A&&O||_,N=v(c(S)?S.enter:S);0;var j=!1!==s&&!te,D=Ho(P),q=n._enterCb=U((function(){j&&(jo(n,I),jo(n,T)),q.cancelled?(j&&jo(n,k),L&&L(n)):M&&M(n),n._enterCb=null}));e.data.show||wt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),P&&P(n,q)})),R&&R(n),j&&(No(n,k),No(n,T),Lo((function(){jo(n,k),q.cancelled||(No(n,I),D||(zo(N)?setTimeout(q,N):Do(n,a,q)))}))),e.data.show&&(t&&t(),P&&P(n,q)),j||D||q()}}}function Yo(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=So(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var s=o.css,a=o.type,u=o.leaveClass,l=o.leaveToClass,d=o.leaveActiveClass,h=o.beforeLeave,f=o.leave,p=o.afterLeave,m=o.leaveCancelled,g=o.delayLeave,y=o.duration,_=!1!==s&&!te,b=Ho(f),w=v(c(y)?y.leave:y);0;var E=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),_&&(jo(n,l),jo(n,d)),E.cancelled?(_&&jo(n,u),m&&m(n)):(t(),p&&p(n)),n._leaveCb=null}));g?g(O):O()}function O(){E.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),h&&h(n),_&&(No(n,u),No(n,d),Lo((function(){jo(n,u),E.cancelled||(No(n,l),b||(zo(w)?setTimeout(E,w):Do(n,a,E)))}))),f&&f(n,E),_||b||E())}}function zo(e){return"number"===typeof e&&!isNaN(e)}function Ho(e){if(r(e))return!1;var t=e.fns;return i(t)?Ho(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Ko(e,t){!0!==t.data.show&&Fo(t)}var Vo=Q?{create:Ko,activate:Ko,remove:function(e,t){!0!==e.data.show?Yo(e,t):t()}}:{},Go=[Yi,Ki,no,ao,bo,Vo],Wo=Go.concat(qi),Qo=Ri({nodeOps:Oi,modules:Wo});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&is(e,"input")}));var Xo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?wt(n,"postpatch",(function(){Xo.componentUpdated(e,t,n)})):Jo(e,t,n.context),e._vOptions=[].map.call(e.options,ts)):("textarea"===n.tag||ui(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ns),e.addEventListener("compositionend",rs),e.addEventListener("change",rs),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Jo(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ts);if(i.some((function(e,t){return!j(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return es(e,i)})):t.value!==t.oldValue&&es(t.value,i);o&&is(e,"change")}}}};function Jo(e,t,n){Zo(e,t,n),(ee||ne)&&setTimeout((function(){Zo(e,t,n)}),0)}function Zo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=e.options.length;a<c;a++)if(s=e.options[a],i)o=D(r,ts(s))>-1,s.selected!==o&&(s.selected=o);else if(j(ts(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function es(e,t){return t.every((function(t){return!j(t,e)}))}function ts(e){return"_value"in e?e._value:e.value}function ns(e){e.target.composing=!0}function rs(e){e.target.composing&&(e.target.composing=!1,is(e.target,"input"))}function is(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function os(e){return!e.componentInstance||e.data&&e.data.transition?e:os(e.componentInstance._vnode)}var ss={bind:function(e,t,n){var r=t.value;n=os(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Fo(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Fo(n,(function(){e.style.display=e.__vOriginalDisplay})):Yo(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},as={model:Xo,show:ss},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function us(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?us(On(t.children)):e}function ls(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[O(o)]=i[o];return t}function ds(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function hs(e){while(e=e.parent)if(e.data.transition)return!0}function fs(e,t){return t.key===e.key&&t.tag===e.tag}var ps=function(e){return e.tag||En(e)},vs=function(e){return"show"===e.name},ms={name:"transition",props:cs,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ps),n.length)){0;var r=this.mode;0;var i=n[0];if(hs(this.$vnode))return i;var o=us(i);if(!o)return i;if(this._leaving)return ds(e,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=ls(this),u=this._vnode,l=us(u);if(o.data.directives&&o.data.directives.some(vs)&&(o.data.show=!0),l&&l.data&&!fs(o,l)&&!En(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=R({},c);if("out-in"===r)return this._leaving=!0,wt(d,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),ds(e,i);if("in-out"===r){if(En(o))return u;var h,f=function(){h()};wt(c,"afterEnter",f),wt(c,"enterCancelled",f),wt(d,"delayLeave",(function(e){h=e}))}}return i}}},gs=R({tag:String,moveClass:String},cs);delete gs.mode;var ys={props:gs,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Rn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=ls(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){for(var u=[],l=[],d=0;d<r.length;d++){var h=r[d];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?u.push(h):l.push(h)}this.kept=e(t,null,u),this.removed=l}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(_s),e.forEach(bs),e.forEach(ws),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;No(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Io,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Io,e),n._moveCb=null,jo(n,t))})}})))},methods:{hasMove:function(e,t){if(!xo)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Oo(n,e)})),Eo(n,t),n.style.display="none",this.$el.appendChild(n);var r=qo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function _s(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function bs(e){e.data.newPos=e.elm.getBoundingClientRect()}function ws(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Es={Transition:ms,TransitionGroup:ys};Or.config.mustUseProp=$r,Or.config.isReservedTag=oi,Or.config.isReservedAttr=Ur,Or.config.getTagNamespace=si,Or.config.isUnknownElement=ci,R(Or.options.directives,as),R(Or.options.components,Es),Or.prototype.__patch__=Q?Qo:M,Or.prototype.$mount=function(e,t){return e=e&&Q?li(e):void 0,Ln(this,e,t)},Q&&setTimeout((function(){F.devtools&&ue&&ue.emit("init",Or)}),0),t["a"]=Or}).call(this,n("c8ba"))},"2c4c":function(e,t,n){"use strict";(function(e){var r,i=n("9ab4"),o=n("92df"),s="undefined"!==typeof e&&Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"})&&Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG||void 0,a=[],c=[],u=[];function l(e){var t,n,o,s;r=e,a=[],c=[];var l=/\*/g,h=e.split(",").map((function(e){return e.trim().replace(l,".*?")}));try{for(var f=Object(i["__values"])(h),p=f.next();!p.done;p=f.next()){var v=p.value;v.startsWith("-")?c.push(new RegExp("^"+v.substr(1)+"$")):a.push(new RegExp("^"+v+"$"))}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}try{for(var m=Object(i["__values"])(u),g=m.next();!g.done;g=m.next()){var y=g.value;y.enabled=d(y.namespace)}}catch(b){o={error:b}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}}function d(e){var t,n,r,o;if(e.endsWith("*"))return!0;try{for(var s=Object(i["__values"])(c),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.test(e))return!1}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var d=Object(i["__values"])(a),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.test(e))return!0}}catch(v){r={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return!1}function h(){var e=r||"";return l(""),e}function f(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.enabled&&(t.length>0&&(t[0]=e+" "+t[0]),n.log.apply(n,Object(i["__spread"])(t)))}var n=Object.assign(t,{enabled:d(e),destroy:p,log:m.log,namespace:e,extend:v});return u.push(n),n}function p(){var e=u.indexOf(this);return e>=0&&(u.splice(e,1),!0)}function v(e){var t=f(this.namespace+":"+e);return t.log=this.log,t}s&&l(s);var m=Object.assign((function(e){return f(e)}),{enable:l,enabled:d,disable:h,log:o["a"]});t["a"]=m}).call(this,n("4362"))},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),a=n("d039"),c=n("0366"),u=n("1be4"),l=n("cc12"),d=n("1cdc"),h=n("605d"),f=s.location,p=s.setImmediate,v=s.clearImmediate,m=s.process,g=s.MessageChannel,y=s.Dispatch,_=0,b={},w="onreadystatechange",E=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},O=function(e){return function(){E(e)}},S=function(e){E(e.data)},C=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};p&&v||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(_),_},v=function(e){delete b[e]},h?r=function(e){m.nextTick(O(e))}:y&&y.now?r=function(e){y.now(O(e))}:g&&!d?(i=new g,o=i.port2,i.port1.onmessage=S,r=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&f&&"file:"!==f.protocol&&!a(C)?(r=C,s.addEventListener("message",S,!1)):r=w in l("script")?function(e){u.appendChild(l("script"))[w]=function(){u.removeChild(this),E(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:p,clear:v}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=a&&a.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2f9e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("a2e6");t.container=r("rhea-promise:container"),t.connection=r("rhea-promise:connection"),t.session=r("rhea-promise:session"),t.sender=r("rhea-promise:sender"),t.receiver=r("rhea-promise:receiver"),t.error=r("rhea-promise:error"),t.eventHandler=r("rhea-promise:eventhandler"),t.contextTranslator=r("rhea-promise:translate")},3020:function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var i=r.formatters[n];if("function"===typeof i){var s=t[u];e=i.call(o,s),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function a(){r.enable("")}function c(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=s,r.enabled=c,r.humanize=n("1468"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},3022:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!E(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),c=r[n];n<o;c=r[++n])_(c)||!x(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return o};var o,s={};function a(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),d(r,e,r.depth)}function c(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function l(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function d(e,n,r){if(e.customInspect&&n&&T(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return E(i)||(i=d(e,i,r)),i}var o=h(e,n);if(o)return o;var s=Object.keys(n),a=l(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(T(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(C(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var u,y="",_=!1,b=["{","}"];if(g(n)&&(_=!0,b=["[","]"]),T(n)){var w=n.name?": "+n.name:"";y=" [Function"+w+"]"}return C(n)&&(y=" "+RegExp.prototype.toString.call(n)),A(n)&&(y=" "+Date.prototype.toUTCString.call(n)),k(n)&&(y=" "+f(n)),0!==s.length||_&&0!=n.length?r<0?C(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=_?p(e,n,r,a,s):s.map((function(t){return v(e,n,r,a,t,_)})),e.seen.pop(),m(u,y,b)):b[0]+y+b[1]}function h(e,t){if(S(t))return e.stylize("undefined","undefined");if(E(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)N(t,String(s))?o.push(v(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(v(e,t,n,r,i,!0))})),o}function v(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=_(n)?d(e,c.value,null):d(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),S(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function m(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function y(e){return"boolean"===typeof e}function _(e){return null===e}function b(e){return null==e}function w(e){return"number"===typeof e}function E(e){return"string"===typeof e}function O(e){return"symbol"===typeof e}function S(e){return void 0===e}function C(e){return x(e)&&"[object RegExp]"===R(e)}function x(e){return"object"===typeof e&&null!==e}function A(e){return x(e)&&"[object Date]"===R(e)}function k(e){return x(e)&&("[object Error]"===R(e)||e instanceof Error)}function T(e){return"function"===typeof e}function I(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function R(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(S(o)&&(o=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=y,t.isNull=_,t.isNullOrUndefined=b,t.isNumber=w,t.isString=E,t.isSymbol=O,t.isUndefined=S,t.isRegExp=C,t.isObject=x,t.isDate=A,t.isError=k,t.isFunction=T,t.isPrimitive=I,t.isBuffer=n("d60a");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",L(),t.format.apply(t,arguments))},t.inherits=n("28a0"),t._extend=function(e,t){if(!t||!x(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e};var j="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function U(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(D,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t=e[j];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=j,t.callbackify=U}).call(this,n("4362"))},"305b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("7fa7");class i extends r.Link{constructor(e,t,n){super(r.LinkType.sender,e,t,n)}setDrained(e){this._link.set_drained(e)}sendable(){return this._link.sendable()}}t.BaseSender=i;class o extends i{constructor(e,t,n){super(e,t,n)}send(e,t,n){return this._link.send(e,t,n)}}t.Sender=o},3399:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("a80b"),t)},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"371b":function(e,t,n){"use strict";(function(t){var r=n("1980"),i=n("10fc"),o=n("6203"),s=n("cadb"),a=n("07aa"),c=n(0),u=n(1),l=n("faa1").EventEmitter,d=function(e){this.options=e?Object.create(e):{},this.options.id||(this.options.id=s.generate_uuid()),this.id=this.options.id,this.sasl_server_mechanisms=o.server_mechanisms()};d.prototype=Object.create(l.prototype),d.prototype.constructor=d,d.prototype.dispatch=function(e){return i.events("[%s] Container got event: "+e,this.id),l.prototype.emit.apply(this,arguments),!!this.listeners(e).length},d.prototype.connect=function(e){return new r(e,this).connect()},d.prototype.create_connection=function(e){return new r(e,this)},d.prototype.listen=function(e){var n,i=this;if(void 0===e.transport||"tcp"===e.transport)n=c.createServer(),n.on("connection",(function(t){new r(e,i).accept(t)}));else{if("tls"!==e.transport&&"ssl"!==e.transport)throw Error("Unrecognised transport: "+e.transport);n=u.createServer(e),n.on("secureConnection",(function(t){new r(e,i).accept(t)}))}return t.version.match(/v0\.10\.\d+/)?n.listen(e.port,e.host):n.listen(e),n},d.prototype.create_container=function(e){return new d(e)},d.prototype.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:t},d.prototype.generate_uuid=s.generate_uuid,d.prototype.string_to_uuid=s.string_to_uuid,d.prototype.uuid_to_string=s.uuid_to_string;var h=n("0901");d.prototype.websocket_accept=function(e,t){new r(t,this).accept(h.wrap(e))},d.prototype.websocket_connect=h.connect,d.prototype.filter=n("1abd"),d.prototype.types=n("1c90"),d.prototype.message=n("652c"),d.prototype.sasl=o,d.prototype.ReceiverEvents=a.ReceiverEvents,d.prototype.SenderEvents=a.SenderEvents,d.prototype.SessionEvents=a.SessionEvents,d.prototype.ConnectionEvents=a.ConnectionEvents,e.exports=new d}).call(this,n("4362"))},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,c=0;while(a>c)i.f(e,n=r[c++],t[n]);return e}},"39e0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"3b1f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("371b");t.types=r.types,t.message=r.message,t.filter=r.filter,t.uuid_to_string=r.uuid_to_string,t.generate_uuid=r.generate_uuid,t.string_to_uuid=r.string_to_uuid,t.ReceiverEvents=r.ReceiverEvents,t.SenderEvents=r.SenderEvents,t.ConnectionEvents=r.ConnectionEvents,t.SessionEvents=r.SessionEvents,t.Typed=r.Typed;var i=n("9411");t.EventContext=i.EventContext;var o=n("eb69");t.Container=o.Container;var s=n("ab8d");t.Connection=s.Connection;var a=n("d1bc");t.Session=a.Session;var c=n("ac86");t.Receiver=c.Receiver;var u=n("305b");t.Sender=u.Sender;var l=n("0c17");t.AwaitableSender=l.AwaitableSender;var d=n("1d38");t.AmqpResponseStatusCode=d.AmqpResponseStatusCode,t.isAmqpError=d.isAmqpError,t.delay=d.delay,t.messageHeader=d.messageHeader,t.messageProperties=d.messageProperties,t.parseConnectionString=d.parseConnectionString;var h=n("5921");t.InsufficientCreditError=h.InsufficientCreditError,t.OperationTimeoutError=h.OperationTimeoutError,t.SendOperationFailedError=h.SendOperationFailedError},"3b4b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3c2e":function(e,t,n){"use strict";void 0!==typeof Symbol&&Symbol.asyncIterator||(Symbol.asyncIterator=Symbol.for("Symbol.asyncIterator"))},"3c43":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"3e29":function(e,t,n){"use strict";(function(t,r){var i=n("3e48"),o=n("8b6c"),s=n("10fc"),a=n("652c"),c=n("1c90"),u=n("cadb"),l=n("4921"),d=n("faa1").EventEmitter;function h(e,t,n){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e,this.condition=t,this.description=e,this.session=n}n("3022").inherits(h,Error);var f=function(e){this.capacity=e,this.size=0,this.head=0,this.tail=0,this.entries=[]};function p(e){var t,n,r,o,s;for(o=0;o<e.length;o++)s=e[o],void 0===t&&(t=s,n=s,r=s.id),t!==n&&!a.are_outcomes_equivalent(n.state,s.state)||n.settled!==s.settled||r!==s.id?(t.link.session.output(i.disposition({role:t.link.is_receiver(),first:t.id,last:n.id,state:t.state,settled:t.settled})),t=s,n=s,r=s.id):(n.id!==s.id&&(n=s),r++);void 0!==t&&void 0!==n&&t.link.session.output(i.disposition({role:t.link.is_receiver(),first:t.id,last:n.id,state:t.state,settled:t.settled}))}f.prototype.available=function(){return this.capacity-this.size},f.prototype.push=function(e){if(!(this.size<this.capacity))throw Error("circular buffer overflow: head="+this.head+" tail="+this.tail+" size="+this.size+" capacity="+this.capacity);this.entries[this.tail]=e,this.tail=(this.tail+1)%this.capacity,this.size++},f.prototype.pop_if=function(e){var t=0;while(this.size&&e(this.entries[this.head]))this.entries[this.head]=void 0,this.head=(this.head+1)%this.capacity,this.size--,t++;return t},f.prototype.by_id=function(e){if(this.size>0){var t=e-this.entries[this.head].id;if(t<this.size)return this.entries[(this.head+t)%this.capacity]}},f.prototype.get_head=function(){return this.size>0?this.entries[this.head]:void 0},f.prototype.get_tail=function(){return this.size>0?this.entries[(this.head+this.size-1)%this.capacity]:void 0};var v=function(e){this.deliveries=new f(2048),this.updated=[],this.pending_dispositions=[],this.next_delivery_id=0,this.next_pending_delivery=0,this.next_transfer_id=0,this.window=c.MAX_UINT,this.remote_next_transfer_id=void 0,this.remote_window=void 0,this.connection=e};v.prototype.available=function(){return this.deliveries.available()},v.prototype.compute_max_payload=function(e){return this.connection.max_frame_size?this.connection.max_frame_size-(50+e.length):void 0},v.prototype.send=function(e,t,n,r){var i=[],o=this.compute_max_payload(t);if(o&&n.length>o){var s=0;while(s<n.length){var a=Math.min(s+o,n.length);i.push(n.slice(s,a)),s=a}}else i.push(n);var c={id:this.next_delivery_id++,tag:t,link:e,data:i,format:r||0,sent:!1,settled:!1,state:void 0,remote_settled:!1,remote_state:void 0},u=this;return c.update=function(e,t){u.update(c,e,t)},this.deliveries.push(c),c},v.prototype.on_begin=function(e){this.remote_window=e.incoming_window},v.prototype.on_flow=function(e){this.remote_next_transfer_id=e.next_incoming_id,this.remote_window=e.incoming_window},v.prototype.on_disposition=function(e){for(var t=e.last?e.last:e.first,n=e.first;n<=t;n++){var r=this.deliveries.by_id(n);if(r&&!r.remote_settled){var i=!1;e.settled&&(r.remote_settled=e.settled,i=!0),e.state&&e.state!==r.remote_state&&(r.remote_state=a.unwrap_outcome(e.state),i=!0),i&&this.updated.push(r)}}},v.prototype.update=function(e,t,n){e&&(e.settled=t,void 0!==n&&(e.state=n),e.remote_settled||this.pending_dispositions.push(e),e.link.connection._register())},v.prototype.transfer_window=function(){return this.remote_window?this.remote_window-(this.next_transfer_id-this.remote_next_transfer_id):0},v.prototype.process=function(){var e;while(this.next_pending_delivery<this.next_delivery_id){if(e=this.deliveries.by_id(this.next_pending_delivery),!e){console.error("ERROR: Next pending delivery not found: "+this.next_pending_delivery);break}if(!e.link.has_credit()){s.flow("[%s] Link has no credit",this.connection.options.id);break}if(!(this.transfer_window()>=e.data.length)){s.flow("[%s] Incoming window of peer preventing sending further transfers: remote_window=%d, remote_next_transfer_id=%d, next_transfer_id=%d",this.connection.options.id,this.remote_window,this.remote_next_transfer_id,this.next_transfer_id);break}this.window-=e.data.length;for(var t=0;t<e.data.length;t++){this.next_transfer_id++;var n=t+1<e.data.length,r=i.transfer({handle:e.link.local.handle,message_format:e.format,delivery_id:e.id,delivery_tag:e.tag,settled:e.settled,more:n});e.link.session.output(r,e.data[t]),e.settled&&(e.remote_settled=!0)}e.link.credit--,e.link.delivery_count++,this.next_pending_delivery++}for(t=0;t<this.updated.length;t++)e=this.updated[t],e.remote_state&&e.remote_state.constructor.composite_type&&e.link.dispatch(e.remote_state.constructor.composite_type,e.link._context({delivery:e})),e.remote_settled&&e.link.dispatch("settled",e.link._context({delivery:e}));this.updated=[],this.pending_dispositions.length&&(p(this.pending_dispositions),this.pending_dispositions=[]),this.deliveries.pop_if((function(e){return e.settled&&e.remote_settled}))};var m=function(){this.deliveries=new f(2048),this.updated=[],this.next_transfer_id=0,this.next_delivery_id=void 0,Object.defineProperty(this,"window",{get:function(){return this.deliveries.available()}}),this.remote_next_transfer_id=void 0,this.remote_window=void 0,this.max_transfer_id=this.next_transfer_id+this.window};m.prototype.update=function(e,t,n){e&&(e.settled=t,void 0!==n&&(e.state=n),e.remote_settled||this.updated.push(e),e.link.connection._register())},m.prototype.on_transfer=function(e,n){if(this.next_transfer_id++,!n.is_remote_open())throw Error("transfer after detach");var r,i;if(void 0===this.next_delivery_id&&(this.next_delivery_id=e.performative.delivery_id),n._incomplete){if(r=n._incomplete,u.is_defined(e.performative.delivery_id)&&r.id!==e.performative.delivery_id)throw Error("frame sequence error: delivery "+r.id+" not complete, got "+e.performative.delivery_id);i=t.concat([r.data,e.payload],r.data.length+e.payload.length)}else{if(this.next_delivery_id!==e.performative.delivery_id)throw Error("frame sequence error: expected "+this.next_delivery_id+", got "+e.performative.delivery_id);r={id:e.performative.delivery_id,tag:e.performative.delivery_tag,format:e.performative.message_format,link:n,settled:!1,state:void 0,remote_settled:void 0!==e.performative.settled&&e.performative.settled,remote_state:e.performative.state};var o=this;r.update=function(e,t){var i=e;void 0===i&&(i=1!==n.local.attach.rcv_settle_mode),o.update(r,i,t)},r.accept=function(){this.update(void 0,a.accepted().described())},r.release=function(e){e?this.update(void 0,a.modified(e).described()):this.update(void 0,a.released().described())},r.reject=function(e){this.update(void 0,a.rejected({error:e}).described())},r.modified=function(e){this.update(void 0,a.modified(e).described())},this.deliveries.push(r),this.next_delivery_id++,i=e.payload}if(r.incomplete=e.performative.more,r.incomplete)n._incomplete=r,r.data=i;else{n._incomplete=void 0,n.credit>0?n.credit--:console.error("Received transfer when credit was %d",n.credit),n.delivery_count++;var s=0===r.format?{message:a.decode(i),delivery:r}:{message:i,delivery:r,format:r.format};n.dispatch("message",n._context(s))}},m.prototype.process=function(e){this.updated.length>0&&(p(this.updated),this.updated=[]),this.deliveries.pop_if((function(e){return e.settled})),this.max_transfer_id-this.next_transfer_id<this.window/2&&e._write_flow()},m.prototype.on_begin=function(e){this.remote_window=e.outgoing_window,this.remote_next_transfer_id=e.next_outgoing_id},m.prototype.on_flow=function(e){this.remote_next_transfer_id=e.next_outgoing_id,this.remote_window=e.outgoing_window},m.prototype.on_disposition=function(e){for(var t=e.last?e.last:e.first,n=e.first;n<=t;n++){var r=this.deliveries.by_id(n);r&&!r.remote_settled&&(e.state&&e.state!==r.remote_state&&(r.remote_state=a.unwrap_outcome(e.state)),e.settled&&(r.remote_settled=e.settled,r.link.dispatch("settled",r.link._context({delivery:r}))))}};var g=function(e,t){this.connection=e,this.outgoing=new v(e),this.incoming=new m,this.state=new l,this.local={channel:t,handles:{}},this.local.begin=i.begin({next_outgoing_id:this.outgoing.next_transfer_id,incoming_window:this.incoming.window,outgoing_window:this.outgoing.window}),this.local.end=i.end(),this.remote={handles:{}},this.links={},this.options={},Object.defineProperty(this,"error",{get:function(){return this.remote.end?this.remote.end.error:void 0}}),this.observers=new d};function y(e,t){for(var n in t)"properties"===n&&e.properties?y(e.properties,t.properties):e[n]=t[n]}function _(e,t,n,r){var i=Object.create(r||{});"string"===typeof t?i[n]=t:t&&y(i,t),i.name||(i.name=u.generate_uuid());var o=e(i.name,i);for(var s in{source:0,target:0})i[s]&&("string"===typeof i[s]&&(i[s]={address:i[s]}),o["set_"+s](i[s]));return o.is_sender()&&void 0===i.source&&(i.source=o.set_source({})),o.is_receiver()&&void 0===i.target&&(i.target=o.set_target({})),o.attach(),o}function b(e){e.dispatch("sendable",e._context())}function w(e){return e.is_open()&&e.sendable()}g.prototype=Object.create(d.prototype),g.prototype.constructor=g,g.prototype._disconnect=function(){for(var e in this.state.disconnected(),this.links)this.links[e]._disconnect();this.state.was_open||this.remove()},g.prototype._reconnect=function(){for(var e in this.state.reconnect(),this.outgoing=new v(this.connection),this.incoming=new m,this.remote={handles:{}},this.links)this.links[e]._reconnect()},g.prototype.dispatch=function(e){return s.events("[%s] Session got event: %s",this.connection.options.id,e),d.prototype.emit.apply(this.observers,arguments),this.listeners(e).length?(d.prototype.emit.apply(this,arguments),!0):this.connection.dispatch.apply(this.connection,arguments)},g.prototype.output=function(e,t){this.connection._write_frame(this.local.channel,e,t)},g.prototype.create_sender=function(e,t){return t||(t=this.get_option("sender_options",{})),this.create_link(e,o.Sender,t)},g.prototype.create_receiver=function(e,t){return t||(t=this.get_option("receiver_options",{})),this.create_link(e,o.Receiver,t)},g.prototype.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:this.connection.get_option(e,t)},g.prototype.attach_sender=function(e){return _(this.create_sender.bind(this),e,"target",this.get_option("sender_options",{}))},g.prototype.open_sender=g.prototype.attach_sender,g.prototype.attach_receiver=function(e){return _(this.create_receiver.bind(this),e,"source",this.get_option("receiver_options",{}))},g.prototype.open_receiver=g.prototype.attach_receiver,g.prototype.find_sender=function(e){return this.find_link(u.sender_filter(e))},g.prototype.find_receiver=function(e){return this.find_link(u.receiver_filter(e))},g.prototype.find_link=function(e){for(var t in this.links){var n=this.links[t];if(e(n))return n}},g.prototype.each_receiver=function(e,t){this.each_link(e,u.receiver_filter(t))},g.prototype.each_sender=function(e,t){this.each_link(e,u.sender_filter(t))},g.prototype.each_link=function(e,t){for(var n in this.links){var r=this.links[n];(void 0===t||t(r))&&e(r)}},g.prototype.create_link=function(e,t,n){var r=0;while(this.local.handles[r])r++;var i=new t(this,e,r,n);return this.links[e]=i,this.local.handles[r]=i,i},g.prototype.begin=function(){this.state.open()&&this.connection._register()},g.prototype.open=g.prototype.begin,g.prototype.end=function(e){e&&(this.local.end.error=e),this.state.close()&&this.connection._register()},g.prototype.close=g.prototype.end,g.prototype.is_open=function(){return this.connection.is_open()&&this.state.is_open()},g.prototype.is_remote_open=function(){return this.connection.is_remote_open()&&this.state.remote_open},g.prototype.is_itself_closed=function(){return this.state.is_closed()},g.prototype.is_closed=function(){return this.connection.is_closed()||this.is_itself_closed()},g.prototype._process=function(){do{this.state.need_open()&&this.output(this.local.begin);var e=0===this.outgoing.deliveries.available();for(var t in this.outgoing.process(),e&&this.outgoing.deliveries.available()&&this.each_sender(b,w),this.incoming.process(this),this.links)this.links[t]._process();this.state.need_close()&&this.output(this.local.end)}while(!this.state.has_settled())},g.prototype.send=function(e,t,n,r){var i=this.outgoing.send(e,t,n,r);return this.connection._register(),i},g.prototype._write_flow=function(e){var t={next_incoming_id:this.incoming.next_transfer_id,incoming_window:this.incoming.window,next_outgoing_id:this.outgoing.next_transfer_id,outgoing_window:this.outgoing.window};this.incoming.max_transfer_id=t.next_incoming_id+t.incoming_window,e&&(e._get_drain()&&(t.drain=!0),t.delivery_count=e.delivery_count,t.handle=e.local.handle,t.link_credit=e.credit),this.output(i.flow(t))},g.prototype.on_begin=function(e){if(!this.state.remote_opened())throw Error("Begin already received");this.remote.channel||(this.remote.channel=e.channel),this.remote.begin=e.performative,this.outgoing.on_begin(e.performative),this.incoming.on_begin(e.performative),this.open(),this.dispatch("session_open",this._context())},g.prototype.on_end=function(e){if(!this.state.remote_closed())throw Error("End already received");this.remote.end=e.performative;var t=this.remote.end.error;if(t){var n=this.dispatch("session_error",this._context());n=this.dispatch("session_close",this._context())||n,n||d.prototype.emit.call(this.connection.container,"error",new h(t.description,t.condition,this))}else this.dispatch("session_close",this._context());var i=this,o=this.state.mark();r.nextTick((function(){i.state.marker===o&&(i.close(),r.nextTick((function(){i.remove()})))}))},g.prototype.on_attach=function(e){var t=e.performative.name,n=this.links[t];n||(n=e.performative.role?this.create_sender(t):this.create_receiver(t)),this.remote.handles[e.performative.handle]=n,n.on_attach(e),n.remote.attach=e.performative},g.prototype.on_disposition=function(e){e.performative.role?(s.events("[%s] Received disposition for outgoing transfers",this.connection.options.id),this.outgoing.on_disposition(e.performative)):(s.events("[%s] Received disposition for incoming transfers",this.connection.options.id),this.incoming.on_disposition(e.performative)),this.connection._register()},g.prototype.on_flow=function(e){this.outgoing.on_flow(e.performative),this.incoming.on_flow(e.performative),u.is_defined(e.performative.handle)&&this._get_link(e).on_flow(e),this.connection._register()},g.prototype._context=function(e){var t=e||{};return t.session=this,this.connection._context(t)},g.prototype._get_link=function(e){var t=e.performative.handle,n=this.remote.handles[t];if(!n)throw Error("Invalid handle "+t);return n},g.prototype.on_detach=function(e){this._get_link(e).on_detach(e)},g.prototype.remove_link=function(e){delete this.remote.handles[e.remote.handle],delete this.local.handles[e.local.handle],delete this.links[e.name]},g.prototype.remove=function(){this.connection.remove_session(this)},g.prototype.on_transfer=function(e){this.incoming.on_transfer(e,this._get_link(e))},e.exports=g}).call(this,n("b639").Buffer,n("4362"))},"3e48":function(e,t,n){"use strict";var r=n("1c90"),i=n("a991"),o={},s={};function a(e,t){var n=r.define_composite(t);o[t.name]=n.create,s[Number(n.descriptor.numeric).toString(10)]=n,s[n.descriptor.symbolic]=n}o.read_header=function(e){var t=4,n={},r=e.toString("ascii",0,t);if("AMQP"!==r)throw new i.ProtocolError("Invalid protocol header for AMQP "+r);if(n.protocol_id=e.readUInt8(t++),n.major=e.readUInt8(t++),n.minor=e.readUInt8(t++),n.revision=e.readUInt8(t++),0===n.protocol_id&&0===n.major&&9===n.minor&&1===n.revision)throw new i.ProtocolError("Unsupported AMQP version: 0-9-1");if(1===n.protocol_id&&1===n.major&&0===n.minor&&10===n.revision)throw new i.ProtocolError("Unsupported AMQP version: 0-10");if(1!==n.major||0!==n.minor)throw new i.ProtocolError("Unsupported AMQP version: "+JSON.stringify(n));return n},o.write_header=function(e,t){var n=4;return e.write("AMQP",0,n,"ascii"),e.writeUInt8(t.protocol_id,n++),e.writeUInt8(t.major,n++),e.writeUInt8(t.minor,n++),e.writeUInt8(t.revision,n++),8},o.TYPE_AMQP=0,o.TYPE_SASL=1,o.read_frame=function(e){var t=new r.Reader(e),n={};if(n.size=t.read_uint(4),t.remaining<n.size)return null;var a=t.read_uint(1);if(a<2)throw new i.ProtocolError("Invalid data offset, must be at least 2 was "+a);if(n.type=t.read_uint(1),n.type===o.TYPE_AMQP)n.channel=t.read_uint(2);else{if(n.type!==o.TYPE_SASL)throw new i.ProtocolError("Unknown frame type "+n.type);t.skip(2),n.channel=0}if(a>1&&t.skip(4*a-8),t.remaining()){n.performative=t.read();var c=s[n.performative.descriptor.value];c&&(n.performative=new c(n.performative.value)),t.remaining()&&(n.payload=t.read_bytes(t.remaining()))}return n},o.write_frame=function(e){var t=new r.Writer;if(t.skip(4),t.write_uint(2,1),t.write_uint(e.type,1),e.type===o.TYPE_AMQP)t.write_uint(e.channel,2);else{if(e.type!==o.TYPE_SASL)throw new i.ProtocolError("Unknown frame type "+e.type);t.write_uint(0,2)}e.performative&&(t.write(e.performative),e.payload&&t.write_bytes(e.payload));var n=t.toBuffer();return n.writeUInt32BE(n.length,0),n},o.amqp_frame=function(e,t,n){return{channel:e||0,type:o.TYPE_AMQP,performative:t,payload:n}},o.sasl_frame=function(e){return{channel:0,type:o.TYPE_SASL,performative:e}};var c={name:"open",code:16,fields:[{name:"container_id",type:"string",mandatory:!0},{name:"hostname",type:"string"},{name:"max_frame_size",type:"uint",default_value:4294967295},{name:"channel_max",type:"ushort",default_value:65535},{name:"idle_time_out",type:"uint"},{name:"outgoing_locales",type:"symbol",multiple:!0},{name:"incoming_locales",type:"symbol",multiple:!0},{name:"offered_capabilities",type:"symbol",multiple:!0},{name:"desired_capabilities",type:"symbol",multiple:!0},{name:"properties",type:"symbolic_map"}]},u={name:"begin",code:17,fields:[{name:"remote_channel",type:"ushort"},{name:"next_outgoing_id",type:"uint",mandatory:!0},{name:"incoming_window",type:"uint",mandatory:!0},{name:"outgoing_window",type:"uint",mandatory:!0},{name:"handle_max",type:"uint",default_value:"4294967295"},{name:"offered_capabilities",type:"symbol",multiple:!0},{name:"desired_capabilities",type:"symbol",multiple:!0},{name:"properties",type:"symbolic_map"}]},l={name:"attach",code:18,fields:[{name:"name",type:"string",mandatory:!0},{name:"handle",type:"uint",mandatory:!0},{name:"role",type:"boolean",mandatory:!0},{name:"snd_settle_mode",type:"ubyte",default_value:2},{name:"rcv_settle_mode",type:"ubyte",default_value:0},{name:"source",type:"*"},{name:"target",type:"*"},{name:"unsettled",type:"map"},{name:"incomplete_unsettled",type:"boolean",default_value:!1},{name:"initial_delivery_count",type:"uint"},{name:"max_message_size",type:"ulong"},{name:"offered_capabilities",type:"symbol",multiple:!0},{name:"desired_capabilities",type:"symbol",multiple:!0},{name:"properties",type:"symbolic_map"}]},d={name:"flow",code:19,fields:[{name:"next_incoming_id",type:"uint"},{name:"incoming_window",type:"uint",mandatory:!0},{name:"next_outgoing_id",type:"uint",mandatory:!0},{name:"outgoing_window",type:"uint",mandatory:!0},{name:"handle",type:"uint"},{name:"delivery_count",type:"uint"},{name:"link_credit",type:"uint"},{name:"available",type:"uint"},{name:"drain",type:"boolean",default_value:!1},{name:"echo",type:"boolean",default_value:!1},{name:"properties",type:"symbolic_map"}]},h={name:"transfer",code:20,fields:[{name:"handle",type:"uint",mandatory:!0},{name:"delivery_id",type:"uint"},{name:"delivery_tag",type:"binary"},{name:"message_format",type:"uint"},{name:"settled",type:"boolean"},{name:"more",type:"boolean",default_value:!1},{name:"rcv_settle_mode",type:"ubyte"},{name:"state",type:"delivery_state"},{name:"resume",type:"boolean",default_value:!1},{name:"aborted",type:"boolean",default_value:!1},{name:"batchable",type:"boolean",default_value:!1}]},f={name:"disposition",code:21,fields:[{name:"role",type:"boolean",mandatory:!0},{name:"first",type:"uint",mandatory:!0},{name:"last",type:"uint"},{name:"settled",type:"boolean",default_value:!1},{name:"state",type:"*"},{name:"batchable",type:"boolean",default_value:!1}]},p={name:"detach",code:22,fields:[{name:"handle",type:"uint",mandatory:!0},{name:"closed",type:"boolean",default_value:!1},{name:"error",type:"error"}]},v={name:"end",code:23,fields:[{name:"error",type:"error"}]},m={name:"close",code:24,fields:[{name:"error",type:"error"}]};a(o.TYPE_AMQP,c),a(o.TYPE_AMQP,u),a(o.TYPE_AMQP,l),a(o.TYPE_AMQP,d),a(o.TYPE_AMQP,h),a(o.TYPE_AMQP,f),a(o.TYPE_AMQP,p),a(o.TYPE_AMQP,v),a(o.TYPE_AMQP,m);var g={name:"sasl_mechanisms",code:64,fields:[{name:"sasl_server_mechanisms",type:"symbol",multiple:!0,mandatory:!0}]},y={name:"sasl_init",code:65,fields:[{name:"mechanism",type:"symbol",mandatory:!0},{name:"initial_response",type:"binary"},{name:"hostname",type:"string"}]},_={name:"sasl_challenge",code:66,fields:[{name:"challenge",type:"binary",mandatory:!0}]},b={name:"sasl_response",code:67,fields:[{name:"response",type:"binary",mandatory:!0}]},w={name:"sasl_outcome",code:68,fields:[{name:"code",type:"ubyte",mandatory:!0},{name:"additional_data",type:"binary"}]};a(o.TYPE_SASL,g),a(o.TYPE_SASL,y),a(o.TYPE_SASL,_),a(o.TYPE_SASL,b),a(o.TYPE_SASL,w),e.exports=o},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"41a3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4921:function(e,t,n){"use strict";var r=function(){this.init()};r.prototype.init=function(){this.local_open=!1,this.remote_open=!1,this.open_requests=0,this.close_requests=0,this.initialised=!1,this.marker=void 0},r.prototype.mark=function(e){return this.marker=e||Date.now(),this.marker},r.prototype.open=function(){return this.marker=void 0,this.initialised=!0,!this.local_open&&(this.local_open=!0,this.open_requests++,!0)},r.prototype.close=function(){return this.marker=void 0,!!this.local_open&&(this.local_open=!1,this.close_requests++,!0)},r.prototype.disconnected=function(){var e=this.initialised;this.was_open=this.local_open,this.init(),this.initialised=e},r.prototype.reconnect=function(){this.was_open&&(this.open(),this.was_open=void 0)},r.prototype.remote_opened=function(){return!this.remote_open&&(this.remote_open=!0,!0)},r.prototype.remote_closed=function(){return!!this.remote_open&&(this.remote_open=!1,!0)},r.prototype.is_open=function(){return this.local_open&&this.remote_open},r.prototype.is_closed=function(){return this.initialised&&!(this.local_open||this.was_open)&&!this.remote_open},r.prototype.has_settled=function(){return 0===this.open_requests&&0===this.close_requests},r.prototype.need_open=function(){return this.open_requests>0&&(this.open_requests--,!0)},r.prototype.need_close=function(){return this.close_requests>0&&(this.close_requests--,!0)},e.exports=r},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"498a":function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4a9b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_SPAN=t.NoopSpan=t.INVALID_SPAN_ID=t.INVALID_TRACE_ID=void 0;var r=n("72a9");t.INVALID_TRACE_ID="0",t.INVALID_SPAN_ID="0";var i={traceId:t.INVALID_TRACE_ID,spanId:t.INVALID_SPAN_ID,traceFlags:r.TraceFlags.NONE},o=function(){function e(e){void 0===e&&(e=i),this._spanContext=e}return e.prototype.context=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e}();t.NoopSpan=o,t.NOOP_SPAN=new o},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4fd2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;var r=n("a6bc"),i=function(){function e(){}return e.prototype.getMeter=function(e,t){return r.NOOP_METER},e}();t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"564d":function(e,t,n){"use strict";function r(e,t,n){e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSetter=void 0,t.defaultSetter=r},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.0",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),i=n("5899"),o="["+i+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},5921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e),this.name="OperationTimeoutError"}}t.OperationTimeoutError=r;class i extends Error{constructor(e){super(e),this.name="InsufficientCreditError"}}t.InsufficientCreditError=i;class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.innerError=n,this.name="SendOperationFailedError",this.code=t,this.innerError=n}}t.SendOperationFailedError=o},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5c7d":function(e,t,n){var r,i;(function(o,s){"use strict";r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})(0,(function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function a(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function c(e,n,r){return function(){typeof console!==t&&(a.call(this,n,r),this[e].apply(this,arguments))}}function u(e,t,n){return s(e)||c.apply(this,arguments)}function l(e,n,i){var o,s=this,c="loglevel";function l(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(i){}}}function d(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}"string"===typeof e?c+=":"+e:"symbol"===typeof e&&(c=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||u,s.getLevel=function(){return o},s.setLevel=function(n,r){if("string"===typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&l(n),a.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){d()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var h=d();null==h&&(h=null==n?"WARN":n),s.setLevel(h,!1)}var d=new l,h={};d.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new l(e,d.getLevel(),d.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return h},d["default"]=d,d}))},"5c8a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"5d2f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"5f0b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"5f40":function(e,t,n){"use strict";(function(t){var n=function(e){e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domains=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.timeout=e.timeout||n.DEFAULT_TIMEOUT,this.maxPending=e.maxPending||n.DEFAULT_MAX_PENDING};n.DEFAULT_TIMEOUT=0,n.DEFAULT_MAX_PENDING=1e3,n.prototype.acquire=function(e,n,r,i){if(Array.isArray(e))return this._acquireBatch(e,n,r,i);if("function"!==typeof n)throw new Error("You must pass a function to execute");var o=null,s=null,a=null;"function"!==typeof r&&(i=r,r=null,a=new this.Promise((function(e,t){o=e,s=t}))),i=i||{};var c=!1,u=null,l=this,d=function(t,n,i){t&&(0===l.queues[e].length&&delete l.queues[e],delete l.domains[e]),c||(a?n?s(n):o(i):"function"===typeof r&&r(n,i),c=!0),t&&l.queues[e]&&l.queues[e].length>0&&l.queues[e].shift()()},h=function(r){if(c)return d(r);if(u&&(clearTimeout(u),u=null),r&&(l.domains[e]=t.domain),1===n.length){var i=!1;n((function(e,t){i||(i=!0,d(r,e,t))}))}else l._promiseTry((function(){return n()})).then((function(e){d(r,void 0,e)}),(function(e){d(r,e)}))};if(t.domain&&(h=t.domain.bind(h)),l.queues[e])if(l.domainReentrant&&t.domain&&t.domain===l.domains[e])h(!1);else if(l.queues[e].length>=l.maxPending)d(!1,new Error("Too much pending tasks"));else{var f=function(){h(!0)};i.skipQueue?l.queues[e].unshift(f):l.queues[e].push(f);var p=i.timeout||l.timeout;p&&(u=setTimeout((function(){u=null,d(!1,new Error("async-lock timed out"))}),p))}else l.queues[e]=[],h(!0);return a||void 0},n.prototype._acquireBatch=function(e,t,n,r){"function"!==typeof n&&(r=n,n=null);var i=this,o=function(e,t){return function(n){i.acquire(e,t,n,r)}},s=t;if(e.reverse().forEach((function(e){s=o(e,s)})),"function"!==typeof n)return new this.Promise((function(e,t){1===s.length?s((function(n,r){n?t(n):e(r)})):e(s())}));s(n)},n.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},n.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(t){return this.Promise.reject(t)}},e.exports=n}).call(this,n("4362"))},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,d=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,d=s.f,h=a.f;while(i>l){var f,p=u(arguments[l++]),v=d?o(p).concat(d(p)):o(p),m=v.length,g=0;while(m>g)f=v[g++],r&&!h.call(p,f)||(n[f]=p[f])}return n}:l},6203:function(e,t,n){"use strict";var r=n("a991"),i=n("3e48"),o=n("6e71"),s=n("cadb"),a={OK:0,AUTH:1,SYS:2,SYS_PERM:3,SYS_TEMP:4},c=3;function u(e){var t=[],n=0,r=0;while(r<e.length)0===e[r]?(r>n?t.push(e.toString("utf8",n,r)):t.push(null),n=++r):++r;return r>n?t.push(e.toString("utf8",n,r)):t.push(null),t}var l=function(e){this.callback=e,this.outcome=void 0,this.username=void 0};l.prototype.start=function(e,t){var n=u(e);if(3!==n.length)return Promise.reject("Unexpected response in PLAIN, got "+n.length+" fields, expected 3");var r=this;return Promise.resolve(this.callback(n[1],n[2],t)).then((function(e){e?(r.outcome=!0,r.username=n[1]):r.outcome=!1}))};var d=function(e,t){this.username=e,this.password=t};d.prototype.start=function(e){var t=s.allocate_buffer(1+this.username.length+1+this.password.length);t.writeUInt8(0,0),t.write(this.username,1),t.writeUInt8(0,1+this.username.length),t.write(this.password,1+this.username.length+1),e(void 0,t)};var h=function(){this.outcome=void 0,this.username=void 0};h.prototype.start=function(e){this.outcome=!0,this.username=e?e.toString("utf8"):"anonymous"};var f=function(e){this.username=e||"anonymous"};f.prototype.start=function(e){var t=s.allocate_buffer(1+this.username.length);t.writeUInt8(0,0),t.write(this.username,1),e(void 0,t)};var p=function(){this.outcome=void 0,this.username=void 0};p.prototype.start=function(){this.outcome=!0};var v=function(){this.username=void 0};v.prototype.start=function(e){e(void 0,"")},v.prototype.step=function(e){e(void 0,"")};var m=function(e,t){this.username=e,this.token=t};m.prototype.start=function(e){var t=s.allocate_buffer(this.username.length+this.token.length+5+12+3),n=0;t.write("user=",n),n+=5,t.write(this.username,n),n+=this.username.length,t.writeUInt8(1,n),n+=1,t.write("auth=Bearer ",n),n+=12,t.write(this.token,n),n+=this.token.length,t.writeUInt8(1,n),n+=1,t.writeUInt8(1,n),n+=1,e(void 0,t)};var g=function(e,t){this.connection=e,this.transport=new o(e.amqp_transport.identifier,c,i.TYPE_SASL,this),this.next=e.amqp_transport,this.mechanisms=t,this.mechanism=void 0,this.outcome=void 0,this.username=void 0;var n=Object.getOwnPropertyNames(t);this.transport.encode(i.sasl_frame(i.sasl_mechanisms({sasl_server_mechanisms:n})))};g.prototype.do_step=function(e){if(void 0===this.mechanism.outcome)this.transport.encode(i.sasl_frame(i.sasl_challenge({challenge:e}))),this.connection.output();else{this.outcome=this.mechanism.outcome?a.OK:a.AUTH;var t=i.sasl_frame(i.sasl_outcome({code:this.outcome}));this.transport.encode(t),this.connection.output(),this.outcome===a.OK&&(this.username=this.mechanism.username,this.transport.write_complete=!0,this.transport.read_complete=!0)}},g.prototype.on_sasl_init=function(e){var t=this.mechanisms[e.performative.mechanism];t?(this.mechanism=t(),Promise.resolve(this.mechanism.start(e.performative.initial_response,e.performative.hostname)).then(this.do_step.bind(this)).catch(this.do_fail.bind(this))):(this.outcome=a.AUTH,this.transport.encode(i.sasl_frame(i.sasl_outcome({code:this.outcome}))))},g.prototype.on_sasl_response=function(e){Promise.resolve(this.mechanism.step(e.performative.response)).then(this.do_step.bind(this)).catch(this.do_fail.bind(this))},g.prototype.do_fail=function(e){var t=i.sasl_frame(i.sasl_outcome({code:a.SYS}));this.transport.encode(t),this.connection.output();try{this.connection.sasl_failed("Sasl callback promise failed with "+e,"amqp:internal-error")}catch(e){console.error("Uncaught error: ",e.message)}},g.prototype.has_writes_pending=function(){return this.transport.has_writes_pending()||this.next.has_writes_pending()},g.prototype.write=function(e){return this.transport.write_complete&&0===this.transport.pending.length?this.next.write(e):this.transport.write(e)},g.prototype.read=function(e){return this.transport.read_complete?this.next.read(e):this.transport.read(e)};var y=function(e,t,n){this.connection=e,this.transport=new o(e.amqp_transport.identifier,c,i.TYPE_SASL,this),this.next=e.amqp_transport,this.mechanisms=t,this.mechanism=void 0,this.mechanism_name=void 0,this.hostname=n,this.failed=!1};y.prototype.on_sasl_mechanisms=function(e){var t=[];Array.isArray(e.performative.sasl_server_mechanisms)?t=e.performative.sasl_server_mechanisms:e.performative.sasl_server_mechanisms&&(t=[e.performative.sasl_server_mechanisms]);for(var n=0;void 0===this.mechanism&&n<t.length;n++){var r=t[n],o=this.mechanisms[r];o&&(this.mechanism="function"===typeof o?o():o,this.mechanism_name=r)}if(this.mechanism){var s=this;this.mechanism.start((function(e,t){if(e)s.failed=!0,s.connection.sasl_failed("SASL mechanism init failed: "+e);else{var n={mechanism:s.mechanism_name,initial_response:t};s.hostname&&(n.hostname=s.hostname),s.transport.encode(i.sasl_frame(i.sasl_init(n))),s.connection.output()}}))}else this.failed=!0,this.connection.sasl_failed("No suitable mechanism; server supports "+e.performative.sasl_server_mechanisms)},y.prototype.on_sasl_challenge=function(e){var t=this;this.mechanism.step(e.performative.challenge,(function(e,n){e?(t.failed=!0,t.connection.sasl_failed("SASL mechanism challenge failed: "+e)):(t.transport.encode(i.sasl_frame(i.sasl_response({response:n}))),t.connection.output())}))},y.prototype.on_sasl_outcome=function(e){switch(e.performative.code){case a.OK:this.transport.read_complete=!0,this.transport.write_complete=!0;break;case a.SYS:case a.SYS_PERM:case a.SYS_TEMP:this.transport.write_complete=!0,this.connection.sasl_failed("Failed to authenticate: "+e.performative.code,"amqp:internal-error");break;default:this.transport.write_complete=!0,this.connection.sasl_failed("Failed to authenticate: "+e.performative.code)}},y.prototype.has_writes_pending=function(){return this.transport.has_writes_pending()||this.next.has_writes_pending()},y.prototype.write=function(e){return this.transport.write_complete?this.next.write(e):this.transport.write(e)},y.prototype.read=function(e){return this.transport.read_complete?this.next.read(e):this.transport.read(e)};var _=function(e,t){this.header_received=!1,this.transports={0:e.amqp_transport,3:new g(e,t)},this.selected=void 0};_.prototype.has_writes_pending=function(){return this.header_received&&this.selected.has_writes_pending()},_.prototype.write=function(e){return this.selected?this.selected.write(e):0},_.prototype.read=function(e){if(!this.header_received){if(e.length<8)return 0;if(this.header_received=i.read_header(e),this.selected=this.transports[this.header_received.protocol_id],void 0===this.selected)throw new r.ProtocolError("Invalid AMQP protocol id "+this.header_received.protocol_id)}return this.selected.read(e)};var b={enable_anonymous:function(){this["ANONYMOUS"]=function(){return new h}},enable_plain:function(e){this["PLAIN"]=function(){return new l(e)}}},w={enable_anonymous:function(e){this["ANONYMOUS"]=function(){return new f(e)}},enable_plain:function(e,t){this["PLAIN"]=function(){return new d(e,t)}},enable_external:function(){this["EXTERNAL"]=function(){return new v}},enable_xoauth2:function(e,t){if(e&&t)this["XOAUTH2"]=function(){return new m(e,t)};else{if(void 0===t)throw Error("token must be specified");if(void 0===e)throw Error("username must be specified")}}};e.exports={Client:y,Server:g,Selective:_,server_mechanisms:function(){return Object.create(b)},client_mechanisms:function(){return Object.create(w)},server_add_external:function(e){return e["EXTERNAL"]=function(){return new p},e}}},6381:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("0707"),t),i(n("c510"),t),i(n("ddff"),t)},"652c":function(e,t,n){"use strict";var r=n("10fc"),i=n("1c90"),o={},s={},a=[],c={};function u(e,t,n){t.descriptor=e,s[e.symbolic]=t,s[Number(e.numeric).toString(10)]=t,n&&a.push(n)}function l(e){var t=i.define_composite(e);c[e.name]=t.create,o[Number(t.descriptor.numeric).toString(10)]=t,o[t.descriptor.symbolic]=t;var n=function(n,r){for(var i=new t(r.value),o=0;o<e.fields.length;o++){var s=e.fields[o],a=i[s.name];void 0!==a&&null!==a&&(n[s.name]=a)}},r=function(e,n){e.push(t.create(n).described())};u(t.descriptor,n,r)}function d(e,t){var n=t?i.wrap_symbolic_map:i.wrap_map,r={numeric:e.code};r.symbolic="amqp:"+e.name.replace(/_/g,"-")+":map";var o=function(t,n){t[e.name]=i.unwrap_map_simple(n)},s=function(t,o){o[e.name]&&t.push(i.described_nc(i.wrap_ulong(r.numeric),n(o[e.name])))};u(r,o,s)}function h(e,t,n){this.typecode=e,this.content=t,this.multiple=n}function f(e,t,n){void 0===e.body?e.body=new h(n,i.unwrap(t)):e.body.constructor===h&&e.body.typecode===n&&(e.body.multiple?e.body.content.push(i.unwrap(t)):(e.body.multiple=!0,e.body.content=[e.body.content,i.unwrap(t)]))}function p(e,t){t.body&&t.body.collect_sections?t.body.collect_sections(e):e.push(i.described(i.wrap_ulong(119),i.wrap(t.body)))}function v(e,t){for(var n in e){var r=e[n];"object"===typeof r?v(r,t[n]):t[n]=r}}function m(e){e&&v(e,this)}h.prototype.described=function(e){return i.described(i.wrap_ulong(this.typecode),i.wrap(e||this.content))},h.prototype.collect_sections=function(e){if(this.multiple)for(var t=0;t<this.content.length;t++)e.push(this.described(this.content[t]));else e.push(this.described())},l({name:"header",code:112,fields:[{name:"durable",type:"boolean",default_value:!1},{name:"priority",type:"ubyte",default_value:4},{name:"ttl",type:"uint"},{name:"first_acquirer",type:"boolean",default_value:!1},{name:"delivery_count",type:"uint",default_value:0}]}),d({name:"delivery_annotations",code:113},!0),d({name:"message_annotations",code:114},!0),l({name:"properties",code:115,fields:[{name:"message_id",type:"message_id"},{name:"user_id",type:"binary"},{name:"to",type:"string"},{name:"subject",type:"string"},{name:"reply_to",type:"string"},{name:"correlation_id",type:"message_id"},{name:"content_type",type:"symbol"},{name:"content_encoding",type:"symbol"},{name:"absolute_expiry_time",type:"timestamp"},{name:"creation_time",type:"timestamp"},{name:"group_id",type:"string"},{name:"group_sequence",type:"uint"},{name:"reply_to_group_id",type:"string"}]}),d({name:"application_properties",code:116}),u({numeric:117,symbolic:"amqp:data:binary"},(function(e,t){f(e,t,117)})),u({numeric:118,symbolic:"amqp:amqp-sequence:list"},(function(e,t){f(e,t,118)})),u({numeric:119,symbolic:"amqp:value:*"},(function(e,t){e.body=i.unwrap(t)})),d({name:"footer",code:120}),a.push(p),c.data_section=function(e){return new h(117,e)},c.sequence_section=function(e){return new h(118,e)},c.data_sections=function(e){return new h(117,e,!0)},c.sequence_sections=function(e){return new h(118,e,!0)},m.prototype.toJSON=function(){var e={};for(var t in this)"function"!==typeof this[t]&&(e[t]=this[t]);return e},m.prototype.toString=function(){return JSON.stringify(this.toJSON())},c.encode=function(e){var t=[];a.forEach((function(n){n(t,e)}));for(var n=new i.Writer,o=0;o<t.length;o++)r.message("Encoding section %d of %d: %o",o+1,t.length,t[o]),n.write(t[o]);var s=n.toBuffer();return r.message("encoded %d bytes",s.length),s},c.decode=function(e){var t=new m,n=new i.Reader(e);while(n.remaining()){var o=n.read();if(r.message("decoding section: %o of type: %o",o,o.descriptor),o.descriptor){var a=s[o.descriptor.value];a?a(t,o):console.warn("WARNING: did not recognise message section with descriptor "+o.descriptor)}else console.warn("WARNING: expected described message section got "+JSON.stringify(o))}return t};var g={};function y(e){var t=i.define_composite(e);t.composite_type=e.name,c[e.name]=t.create,g[Number(t.descriptor.numeric).toString(10)]=t,g[t.descriptor.symbolic]=t,c["is_"+e.name]=function(t){if(t&&t.descriptor){var n=g[t.descriptor.value];if(n)return n.descriptor.numeric===e.code}return!1}}c.unwrap_outcome=function(e){if(e&&e.descriptor){var t=g[e.descriptor.value];if(t)return new t(e.value)}return console.error("unrecognised outcome: "+JSON.stringify(e)),e},c.are_outcomes_equivalent=function(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(e.descriptor.value===t.descriptor.value&&36===e.descriptor.value)},y({name:"received",code:35,fields:[{name:"section_number",type:"uint",mandatory:!0},{name:"section_offset",type:"ulong",mandatory:!0}]}),y({name:"accepted",code:36,fields:[]}),y({name:"rejected",code:37,fields:[{name:"error",type:"error"}]}),y({name:"released",code:38,fields:[]}),y({name:"modified",code:39,fields:[{name:"delivery_failed",type:"boolean"},{name:"undeliverable_here",type:"boolean"},{name:"message_annotations",type:"map"}]}),e.exports=c},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},6561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},6695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanonicalCode=void 0,function(e){e[e["OK"]=0]="OK",e[e["CANCELLED"]=1]="CANCELLED",e[e["UNKNOWN"]=2]="UNKNOWN",e[e["INVALID_ARGUMENT"]=3]="INVALID_ARGUMENT",e[e["DEADLINE_EXCEEDED"]=4]="DEADLINE_EXCEEDED",e[e["NOT_FOUND"]=5]="NOT_FOUND",e[e["ALREADY_EXISTS"]=6]="ALREADY_EXISTS",e[e["PERMISSION_DENIED"]=7]="PERMISSION_DENIED",e[e["RESOURCE_EXHAUSTED"]=8]="RESOURCE_EXHAUSTED",e[e["FAILED_PRECONDITION"]=9]="FAILED_PRECONDITION",e[e["ABORTED"]=10]="ABORTED",e[e["OUT_OF_RANGE"]=11]="OUT_OF_RANGE",e[e["UNIMPLEMENTED"]=12]="UNIMPLEMENTED",e[e["INTERNAL"]=13]="INTERNAL",e[e["UNAVAILABLE"]=14]="UNAVAILABLE",e[e["DATA_LOSS"]=15]="DATA_LOSS",e[e["UNAUTHENTICATED"]=16]="UNAUTHENTICATED"}(t.CanonicalCode||(t.CanonicalCode={}))},"686f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"68d6":function(e,t,n){"use strict";e.exports=n("5f40")},"68ed":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),d=n("c6cd"),h=n("f772"),f=n("d012"),p=a.WeakMap,v=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var g=d.state||(d.state=new p),y=g.get,_=g.has,b=g.set;r=function(e,t){return t.facade=e,b.call(g,e,t),t},i=function(e){return y.call(g,e)||{}},o=function(e){return _.call(g,e)}}else{var w=h("state");f[w]=!0,r=function(e,t){return t.facade=e,u(e,w,t),t},i=function(e){return l(e,w)?e[w]:{}},o=function(e){return l(e,w)}}e.exports={set:r,get:i,has:o,enforce:v,getterFor:m}},"6e71":function(e,t,n){"use strict";var r=n("a991"),i=n("3e48"),o=n("10fc"),s=n("cadb"),a=function(e,t,n,r){this.identifier=e,this.protocol_id=t,this.frame_type=n,this.handler=r,this.pending=[],this.header_sent=void 0,this.header_received=void 0,this.write_complete=!1,this.read_complete=!1};a.prototype.has_writes_pending=function(){return this.pending.length>0||!this.header_sent},a.prototype.encode=function(e){this.pending.push(e)},a.prototype.write=function(e){if(!this.header_sent){var t=s.allocate_buffer(8),n={protocol_id:this.protocol_id,major:1,minor:0,revision:0};o.frames("[%s] -> %o",this.identifier,n),i.write_header(t,n),e.write(t),this.header_sent=n}for(var r=0;r<this.pending.length;r++){var a=this.pending[r];t=i.write_frame(a);e.write(t),a.performative?o.frames("[%s]:%s -> %s %j",this.identifier,a.channel,a.performative.constructor,a.performative,a.payload||""):o.frames("[%s]:%s -> empty",this.identifier,a.channel),o.raw("[%s] SENT: %d %h",this.identifier,t.length,t)}this.pending=[]},a.prototype.read=function(e){var t=0;if(!this.header_received){if(e.length<8)return t;if(this.header_received=i.read_header(e),o.frames("[%s] <- %o",this.identifier,this.header_received),this.header_received.protocol_id!==this.protocol_id)throw 3===this.protocol_id&&0===this.header_received.protocol_id?new r.ProtocolError("Expecting SASL layer"):0===this.protocol_id&&3===this.header_received.protocol_id?new r.ProtocolError("SASL layer not enabled"):new r.ProtocolError("Invalid AMQP protocol id "+this.header_received.protocol_id+" expecting: "+this.protocol_id);t=8}while(t<e.length-4&&!this.read_complete){var n=e.readUInt32BE(t);if(o.io("[%s] got frame of size %d",this.identifier,n),e.length<t+n){o.io("[%s] incomplete frame; have only %d of %d",this.identifier,e.length-t,n);break}var s=e.slice(t,t+n);o.raw("[%s] RECV: %d %h",this.identifier,s.length,s);var a=i.read_frame(s);if(a.performative?o.frames("[%s]:%s <- %s %j",this.identifier,a.channel,a.performative.constructor,a.performative,a.payload||""):o.frames("[%s]:%s <- empty",this.identifier,a.channel),a.type!==this.frame_type)throw new r.ProtocolError("Invalid frame type: "+a.type);t+=n,a.performative&&a.performative.dispatch(this.handler,a)}return t},e.exports=a},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var c,u=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c=l(n),c.source||(c.source=d.join("string"==typeof t?t:""))),e!==r?(u?!f&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},"72a9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e["NONE"]=0]="NONE",e[e["SAMPLED"]=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},"72f6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"73f8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"74e4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e["INTERNAL"]=0]="INTERNAL",e[e["SERVER"]=1]="SERVER",e[e["CLIENT"]=2]="CLIENT",e[e["PRODUCER"]=3]="PRODUCER",e[e["CONSUMER"]=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},"751e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),d=">",h="<",f="prototype",p="script",v=l("IE_PROTO"),m=function(){},g=function(e){return h+p+d+e+h+"/"+p+d},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?y(r):_();var e=s.length;while(e--)delete b[f][s[e]];return b()};a[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[f]=i(e),n=new m,m[f]=null,n[v]=e):n=b(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),d=n("c430"),h=n("3f8c"),f=n("ae93"),p=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g="keys",y="values",_="entries",b=function(){return this};e.exports=function(e,t,n,l,f,w,E){i(n,t,l);var O,S,C,x=function(e){if(e===f&&R)return R;if(!v&&e in T)return T[e];switch(e){case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case _:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",k=!1,T=e.prototype,I=T[m]||T["@@iterator"]||f&&T[f],R=!v&&I||x(f),P="Array"==t&&T.entries||I;if(P&&(O=o(P.call(new e)),p!==Object.prototype&&O.next&&(d||o(O)===p||(s?s(O,p):"function"!=typeof O[m]&&c(O,m,b)),a(O,A,!0,!0),d&&(h[A]=b))),f==y&&I&&I.name!==y&&(k=!0,R=function(){return I.call(this)}),d&&!E||T[m]===R||c(T,m,R),h[t]=R,f)if(S={values:x(y),keys:w?R:x(g),entries:x(_)},E)for(C in S)(v||k||!(C in T))&&u(T,C,S[C]);else r({target:t,proto:!0,forced:v||k},S);return S}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"7fa7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9ab4"),i=n("2f9e"),o=n("371b"),s=n("1d38"),a=n("c3a9"),c=n("5921");var u;(function(e){e["sender"]="sender",e["receiver"]="receiver"})(u=t.LinkType||(t.LinkType={}));class l extends a.Entity{constructor(e,t,n,r){super(),this.type=e,this._session=t,this._link=n,this.linkOptions=r,this._initializeEventListeners()}get name(){return this._link.name}get error(){return this._link.error}get properties(){return this._link.properties}get sendSettleMode(){return this._link.snd_settle_mode}get receiveSettleMode(){return this._link.rcv_settle_mode}get source(){return this._link.source}set source(e){this._link.set_source(e)}get target(){return this._link.target}set target(e){this._link.set_source(e)}get maxMessageSize(){return this._link.max_message_size}get offeredCapabilities(){return this._link.offered_capabilities}get desiredCapabilities(){return this._link.desired_capabilities}get address(){return this.source.address}get credit(){return this._link.credit}get session(){return this._session}get connection(){return this._session.connection}isOpen(){let e=!1;return this._session.isOpen()&&this._link.is_open()&&(e=!0),e}isRemoteOpen(){return this._link.is_remote_open()}hasCredit(){return this._link.has_credit()}isSender(){return this._link.is_sender()}isReceiver(){return this._link.is_receiver()}isClosed(){return this._link.is_closed()}isItselfClosed(){return this._link.is_itself_closed()}isSessionClosed(){return this._session.isClosed()}isSessionItselfClosed(){return this._session.isItselfClosed()}remove(){this._link&&(this.removeAllListeners(),this._link.removeAllListeners(),this._link.remove()),this._session&&this._session.remove()}close(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e||(e={}),void 0==e.closeSession&&(e.closeSession=!0),this.removeAllListeners(),yield new Promise((e,t)=>{if(i.error("[%s] The %s '%s' on amqp session '%s' is open ? -> %s",this.connection.id,this.type,this.name,this.session.id,this.isOpen()),!this.isOpen())return e();{const n=this.type===u.sender?o.SenderEvents.senderError:o.ReceiverEvents.receiverError,r=this.type===u.sender?o.SenderEvents.senderClose:o.ReceiverEvents.receiverClose;let s,a,l,d;const h=()=>{clearTimeout(d),this.actionInitiated--,this._link.removeListener(n,s),this._link.removeListener(r,a),this._link.connection.removeListener(o.ConnectionEvents.disconnected,l)};a=t=>(h(),i[this.type]("[%s] Resolving the promise as the %s '%s' on amqp session '%s' has been closed.",this.connection.id,this.type,this.name,this.session.id),e()),s=e=>(h(),i.error("[%s] Error occurred while closing %s '%s' on amqp session '%s': %O.",this.connection.id,this.type,this.name,this.session.id,e.session.error),t(e.session.error)),l=e=>{h();const t=e.connection&&e.connection.error?e.connection.error:e.error;i.error("[%s] Connection got disconnected while closing amqp %s '%s' on amqp session '%s': %O.",this.connection.id,this.type,this.name,this.session.id,t)};const f=()=>{h();const e=`Unable to close the ${this.type} '${this.name}' on amqp session '${this.session.id}' due to operation timeout.`;return i.error("[%s] %s",this.connection.id,e),t(new c.OperationTimeoutError(e))};this._link.once(r,a),this._link.once(n,s),this._link.connection.once(o.ConnectionEvents.disconnected,l),d=setTimeout(f,1e3*this.connection.options.operationTimeoutInSeconds),this._link.close(),this.actionInitiated++}}),e.closeSession)return i[this.type]("[%s] %s '%s' has been closed, now closing it's amqp session '%s'.",this.connection.id,this.type,this.name,this.session.id),this._session.close()}))}_initializeEventListeners(){const e=this.type===u.sender?o.SenderEvents:o.ReceiverEvents;for(const t in e)this._link.on(e[t],n=>{const r={rheaContext:n,emitter:this,eventName:e[t],emitterType:this.type,connectionId:this.connection.id};s.emitEvent(r)});"function"===typeof this._link.eventNames&&i.eventHandler("[%s] rhea-promise '%s' object is listening for events: %o emitted by rhea's '%s' object.",this.connection.id,this.type,this._link.eventNames(),this.type),"function"===typeof this._link.listenerCount&&i.eventHandler("[%s] ListenerCount for event '%s_error' on rhea's '%s' object is: %d.",this.connection.id,this.type,this.type,this._link.listenerCount(this.type+"_error"))}}t.Link=l},"7fe2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var r=n("950c"),i=n("12d3"),o=n("564d"),s=n("b322"),a=n("d07e"),c=s.ContextAPI.getInstance(),u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return a._global[a.GLOBAL_PROPAGATION_API_KEY]?this._getGlobalPropagator():(a._global[a.GLOBAL_PROPAGATION_API_KEY]=a.makeGetter(a.API_BACKWARDS_COMPATIBILITY_VERSION,e,i.NOOP_HTTP_TEXT_PROPAGATOR),e)},e.prototype.inject=function(e,t,n){return void 0===t&&(t=o.defaultSetter),void 0===n&&(n=c.active()),this._getGlobalPropagator().inject(n,e,t)},e.prototype.extract=function(e,t,n){return void 0===t&&(t=r.defaultGetter),void 0===n&&(n=c.active()),this._getGlobalPropagator().extract(n,e,t)},e.prototype.disable=function(){delete a._global[a.GLOBAL_PROPAGATION_API_KEY]},e.prototype._getGlobalPropagator=function(){var e,t;return null!==(t=null===(e=a._global[a.GLOBAL_PROPAGATION_API_KEY])||void 0===e?void 0:e.call(a._global,a.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:i.NOOP_HTTP_TEXT_PROPAGATOR},e}();t.PropagationAPI=u},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8a9c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8b6c":function(e,t,n){"use strict";(function(t,r){var i=n("3e48"),o=n("10fc"),s=n("652c"),a=n("ad0a"),c=n("4921"),u=function(e){this.window=e};function l(e){e.delivery.settled=!0}function d(e){e.delivery.update(void 0,s.accepted().described())}function h(e,t,n){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e,this.condition=t,this.description=e,this.link=n}u.prototype.update=function(e){var t=this.window-e.receiver.credit;t>=this.window/4&&e.receiver.flow(t)},n("3022").inherits(h,Error);var f=n("faa1").EventEmitter,p=Object.create(f.prototype);function v(e){switch(e){case"name":case"handle":case"role":case"initial_delivery_count":return!0;default:return!1}}p.dispatch=function(e){return o.events("[%s] Link got event: %s",this.connection.options.id,e),f.prototype.emit.apply(this.observers,arguments),this.listeners(e).length?(f.prototype.emit.apply(this,arguments),!0):this.session.dispatch.apply(this.session,arguments)},p.set_source=function(e){this.local.attach.source=a.source(e).described()},p.set_target=function(e){this.local.attach.target=a.target(e).described()},p.attach=function(){this.state.open()&&this.connection._register()},p.open=p.attach,p.detach=function(){this.local.detach.closed=!1,this.state.close()&&this.connection._register()},p.close=function(e){e&&(this.local.detach.error=e),this.local.detach.closed=!0,this.state.close()&&this.connection._register()},p.remove=function(){this.session.remove_link(this)},p.is_open=function(){return this.session.is_open()&&this.state.is_open()},p.is_remote_open=function(){return this.session.is_remote_open()&&this.state.remote_open},p.is_itself_closed=function(){return this.state.is_closed()},p.is_closed=function(){return this.session.is_closed()||this.is_itself_closed()},p._process=function(){do{this.state.need_open()&&this.session.output(this.local.attach),this.issue_flow&&this.state.local_open&&(this.session._write_flow(this),this.issue_flow=!1),this.state.need_close()&&this.session.output(this.local.detach)}while(!this.state.has_settled())},p.on_attach=function(e){if(!this.state.remote_opened())throw Error("Attach already received");this.remote.handle||(this.remote.handle=e.handle),e.performative.source=a.unwrap(e.performative.source),e.performative.target=a.unwrap(e.performative.target),this.remote.attach=e.performative,this.open(),this.dispatch(this.is_receiver()?"receiver_open":"sender_open",this._context())},p.prefix_event=function(e){return(this.local.attach.role?"receiver_":"sender_")+e},p.on_detach=function(e){if(!this.state.remote_closed())throw Error("Detach already received");this._incomplete&&(this._incomplete.settled=!0),this.remote.detach=e.performative;var n=this.remote.detach.error;if(n){var r=this.dispatch(this.prefix_event("error"),this._context());r=this.dispatch(this.prefix_event("close"),this._context())||r,r||f.prototype.emit.call(this.connection.container,"error",new h(n.description,n.condition,this))}else this.dispatch(this.prefix_event("close"),this._context());var i=this,o=this.state.mark();t.nextTick((function(){i.state.marker===o&&(i.close(),t.nextTick((function(){i.remove()})))}))};var m=["snd_settle_mode","rcv_settle_mode","source","target","max_message_size","offered_capabilities","desired_capabilities","properties"];function g(e){return function(){return this.remote.attach?this.remote.attach[e]:void 0}}p.init=function(e,t,n,r,o){for(var s in this.session=e,this.connection=e.connection,this.name=t,this.options=void 0===r?{}:r,this.state=new c,this.issue_flow=!1,this.local={handle:n},this.local.attach=i.attach({handle:n,name:t,role:o}),this.local.attach)v(s)||void 0===this.options[s]||(this.local.attach[s]=this.options[s]);this.local.detach=i.detach({handle:n,closed:!0}),this.remote={handle:void 0},this.delivery_count=0,this.credit=0,this.observers=new f;var a=this;m.forEach((function(e){Object.defineProperty(a,e,{get:g(e)})})),Object.defineProperty(this,"error",{get:function(){return this.remote.detach?this.remote.detach.error:void 0}})},p._disconnect=function(){this.state.disconnected(),this.state.was_open||this.remove()},p._reconnect=function(){this.state.reconnect(),this.remote={handle:void 0},this.delivery_count=0,this.credit=0},p.has_credit=function(){return this.credit>0},p.is_receiver=function(){return this.local.attach.role},p.is_sender=function(){return!this.is_receiver()},p._context=function(e){var t=e||{};return this.is_receiver()?t.receiver=this:t.sender=this,this.session._context(t)},p.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:this.session.get_option(e,t)};var y=function(e,t,n,r){this.init(e,t,n,r,!1),this._draining=!1,this._drained=!1,this.local.attach.initial_delivery_count=0,this.tag=0,this.get_option("autosettle",!0)&&this.observers.on("settled",l);var i=this;this.get_option("treat_modified_as_released",!0)&&this.observers.on("modified",(function(e){i.dispatch("released",e)}))};y.prototype=Object.create(p),y.prototype.constructor=y,y.prototype._get_drain=function(){if(this._draining&&this._drained&&this.credit){while(this.credit)++this.delivery_count,--this.credit;return!0}return!1},y.prototype.set_drained=function(e){this._drained=e,this._draining&&this._drained&&(this.issue_flow=!0)},y.prototype.next_tag=function(){return r.from(new String(this.tag++))},y.prototype.sendable=function(){return Boolean(this.credit&&this.session.outgoing.available())},y.prototype.on_flow=function(e){var t=e.performative;this.credit=t.delivery_count+t.link_credit-this.delivery_count,this._draining=t.drain,this._drained=this.credit>0,this.is_open()&&(this.dispatch("sender_flow",this._context()),this._draining&&this.dispatch("sender_draining",this._context()),this.sendable()&&this.dispatch("sendable",this._context()))},y.prototype.on_transfer=function(){throw Error("got transfer on sending link")},y.prototype.send=function(e,t,n){var r=void 0===n?s.encode(e):e,i=this.session.send(this,t||this.next_tag(),r,n);return 1===this.local.attach.snd_settle_mode&&(i.settled=!0),i};var _=function(e,t,n,r){this.init(e,t,n,r,!0),this.drain=!1,this.set_credit_window(this.get_option("credit_window",1e3)),this.get_option("autoaccept",!0)&&this.observers.on("message",d),1===this.local.attach.rcv_settle_mode&&this.get_option("autosettle",!0)&&this.observers.on("settled",l)};_.prototype=Object.create(p),_.prototype.constructor=_,_.prototype.on_flow=function(e){this.dispatch("receiver_flow",this._context()),e.performative.drain&&(this.credit=e.performative.link_credit,this.delivery_count=e.performative.delivery_count,e.performative.link_credit>0?console.error("ERROR: received flow with drain set, but non zero credit"):this.dispatch("receiver_drained",this._context()))},_.prototype.flow=function(e){e>0&&(this.credit+=e,this.issue_flow=!0,this.connection._register())},_.prototype.add_credit=_.prototype.flow,_.prototype._get_drain=function(){return this.drain},_.prototype.set_credit_window=function(e){if(e>0){var t=new u(e),n=t.update.bind(t);this.observers.on("message",n),this.observers.on("receiver_open",n)}},e.exports={Sender:y,Receiver:_}}).call(this,n("4362"),n("b639").Buffer)},"8e2a":function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d}));var r=n("68d6"),i=n.n(r),o=n("2325");const s=!!e&&!!e.version&&!!e.versions&&!!e.versions.node;function a(e){const t={},n=e.trim().split(";");for(let r of n){if(r=r.trim(),""===r)continue;const e=r.indexOf("=");if(-1===e)throw new Error("Connection string malformed: each part of the connection string must have an `=` assignment.");const n=r.substring(0,e).trim();if(""===n)throw new Error("Connection string malformed: missing key for assignment");const i=r.substring(e+1).trim();t[n]=i}return t}const c=new i.a({maxPending:1e4});function u(e,t,n,r){return new Promise((i,s)=>{const a=()=>s(new o["a"](n||"The delay was cancelled by the user.")),c=()=>{t&&t.removeEventListener("abort",u)},u=()=>(clearTimeout(l),c(),a());if(t&&t.aborted)return a();const l=setTimeout(()=>{c(),i(r)},e);t&&t.addEventListener("abort",u)})}function l(e){return"string"===typeof e}function d(e){return"number"===typeof e}}).call(this,n("4362"))},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9152:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+d>=1?h/c:h*Math.pow(2,1-d),t*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*v}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=c||l||u;d&&(a=function(e){var t,n,i,a,d=this,h=u&&d.sticky,f=r.call(d),p=d.source,v=0,m=e;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),m=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,v++),n=new RegExp("^(?:"+p+")",f)),l&&(n=new RegExp("^"+p+"$(?!\\s)",f)),c&&(t=d.lastIndex),i=o.call(h?n:d,m),h?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:c&&i&&(d.lastIndex=d.global?i.index+i[0].length:t),l&&i&&i.length>1&&s.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=a},"92c6":function(e,t,n){},"92df":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=console.debug||console.log;function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(void 0,Object(r["__spread"])(e))}},"932c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("ab8d"),i=n("d1bc"),o=n("7fa7"),s=n("2f9e");(function(e){function t(e,t,n){const a=t instanceof r.Connection?t:t.connection;s.contextTranslator("[%s] Translating the context for event: '%s'.",a.id,n);const c=Object.assign({_context:e},e);return c.connection=a,c.container=a.container,t instanceof o.Link?(c.session=t.session,t.type===o.LinkType.receiver&&e.receiver?c.receiver=t:t.type===o.LinkType.sender&&e.sender&&(c.sender=t)):t instanceof i.Session&&(c.session=t),c}e.translate=t})(t.EventContext||(t.EventContext={}))},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"950c":function(e,t,n){"use strict";function r(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGetter=void 0,t.defaultGetter=r},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new T(r||[]);return o._invoke=C(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",v={};function m(){}function g(){}function y(){}var _={};_[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,o)&&(_=w);var E=y.prototype=m.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,a){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function C(e,t,n){var r=d;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=E.constructor=y,y.constructor=g,g.displayName=c(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[s]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new S(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(E),c(E,a,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"97e2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"9ab4":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return O})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return C})),n.d(t,"__classPrivateFieldSet",(function(){return x}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof y?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof p?p(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){t=e[n](t),i(r,o,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},"9f19":function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9fca":function(e,t,n){"use strict";(function(r){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function a(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function c(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function u(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG),e}function l(){try{return localStorage}catch(e){}}t.log=a,t.formatArgs=s,t.save=c,t.load=u,t.useColors=o,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("165e")(t);var d=e.exports.formatters;d.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},a02d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},a2e6:function(e,t,n){"use strict";(function(r){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function a(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function c(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function u(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG),e}function l(){try{return localStorage}catch(e){}}t.log=a,t.formatArgs=s,t.save=c,t.load=u,t.useColors=o,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("3020")(t);var d=e.exports.formatters;d.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},a3d6:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const r={name:"@azure/service-bus",version:"7.0.0"},i=Math.pow(2,31)-1,o="$"},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a6bc:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_BATCH_OBSERVER_METRIC=t.NOOP_SUM_OBSERVER_METRIC=t.NOOP_UP_DOWN_SUM_OBSERVER_METRIC=t.NOOP_VALUE_OBSERVER_METRIC=t.NOOP_BOUND_BASE_OBSERVER=t.NOOP_VALUE_RECORDER_METRIC=t.NOOP_BOUND_VALUE_RECORDER=t.NOOP_COUNTER_METRIC=t.NOOP_BOUND_COUNTER=t.NOOP_METER=t.NoopBoundBaseObserver=t.NoopBoundValueRecorder=t.NoopBoundCounter=t.NoopBatchObserverMetric=t.NoopBaseObserverMetric=t.NoopValueRecorderMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;var i=function(){function e(){}return e.prototype.createValueRecorder=function(e,n){return t.NOOP_VALUE_RECORDER_METRIC},e.prototype.createCounter=function(e,n){return t.NOOP_COUNTER_METRIC},e.prototype.createUpDownCounter=function(e,n){return t.NOOP_COUNTER_METRIC},e.prototype.createValueObserver=function(e,n,r){return t.NOOP_VALUE_OBSERVER_METRIC},e.prototype.createBatchObserver=function(e,n){return t.NOOP_BATCH_OBSERVER_METRIC},e}();t.NoopMeter=i;var o=function(){function e(e){this._instrument=e}return e.prototype.bind=function(e){return this._instrument},e.prototype.unbind=function(e){},e.prototype.clear=function(){},e}();t.NoopMetric=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.add=function(e,t){this.bind(t).add(e)},t}(o);t.NoopCounterMetric=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.record=function(e,t,n,r){"undefined"===typeof n?this.bind(t).record(e):"undefined"===typeof r?this.bind(t).record(e,n):this.bind(t).record(e,n,r)},t}(o);t.NoopValueRecorderMetric=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.observation=function(){return{observer:this,value:0}},t}(o);t.NoopBaseObserverMetric=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o);t.NoopBatchObserverMetric=u;var l=function(){function e(){}return e.prototype.add=function(e){},e}();t.NoopBoundCounter=l;var d=function(){function e(){}return e.prototype.record=function(e,t,n){},e}();t.NoopBoundValueRecorder=d;var h=function(){function e(){}return e.prototype.update=function(e){},e}();t.NoopBoundBaseObserver=h,t.NOOP_METER=new i,t.NOOP_BOUND_COUNTER=new l,t.NOOP_COUNTER_METRIC=new s(t.NOOP_BOUND_COUNTER),t.NOOP_BOUND_VALUE_RECORDER=new d,t.NOOP_VALUE_RECORDER_METRIC=new a(t.NOOP_BOUND_VALUE_RECORDER),t.NOOP_BOUND_BASE_OBSERVER=new h,t.NOOP_VALUE_OBSERVER_METRIC=new c(t.NOOP_BOUND_BASE_OBSERVER),t.NOOP_UP_DOWN_SUM_OBSERVER_METRIC=new c(t.NOOP_BOUND_BASE_OBSERVER),t.NOOP_SUM_OBSERVER_METRIC=new c(t.NOOP_BOUND_BASE_OBSERVER),t.NOOP_BATCH_OBSERVER_METRIC=new u},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),c=n("4840"),u=n("cdf9"),l=n("6eeb"),d=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=c(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",a("Promise").prototype["finally"])},a80b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"===typeof globalThis?globalThis:window},a91d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},a991:function(e,t,n){"use strict";var r=n("3022");function i(e){Error.call(this),this.message=e,this.name="ProtocolError"}function o(e){i.call(this,e),this.message=e,this.name="TypeError"}function s(e,t,n){Error.call(this,e),this.message=e,this.name="ConnectionError",this.condition=t,this.description=e,Object.defineProperty(this,"connection",{value:n,enumerable:!1})}r.inherits(i,Error),r.inherits(o,i),r.inherits(s,Error),s.prototype.toJSON=function(){return{type:this.name,code:this.condition,message:this.description}},e.exports={ProtocolError:i,TypeError:o,ConnectionError:s}},ab8d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9ab4"),i=n("2f9e"),o=n("d1bc"),s=n("eb69"),a=n("c893"),c=n("1d38"),u=n("371b"),l=n("c3a9"),d=n("5921");function h(e){return e&&"object"===typeof e.container&&"object"===typeof e.rheaConnection}class f extends l.Entity{constructor(e){if(super(),e||(e={}),void 0==e.operationTimeoutInSeconds&&(e.operationTimeoutInSeconds=a.defaultOperationTimeoutInSeconds),h(e))this._connection=e.rheaConnection,this.container=e.container;else{const t=e;if(t.webSocketOptions){const e=u.websocket_connect(t.webSocketOptions.webSocket);t.connection_details=e(t.webSocketOptions.url,t.webSocketOptions.protocol,t.webSocketOptions.options)}this._connection=u.create_connection(t),this.container=s.Container.copyFromContainerInstance(this._connection.container)}this.options=this._connection.options,this.options.operationTimeoutInSeconds=e.operationTimeoutInSeconds,this._initializeEventListeners()}get id(){return this._connection.options.id}get properties(){return this._connection.properties}get maxFrameSize(){return this._connection.max_frame_size}get idleTimeout(){return this._connection.idle_time_out}get channelMax(){return this._connection.channel_max}get error(){return this._connection.error}removeSession(e){return e.remove()}open(){return new Promise((e,t)=>{if(this.isOpen())return e(this);{let n,r,o;const s=()=>{clearTimeout(o),this.actionInitiated--,this._connection.removeListener(u.ConnectionEvents.connectionOpen,n),this._connection.removeListener(u.ConnectionEvents.connectionClose,r),this._connection.removeListener(u.ConnectionEvents.disconnected,r)};n=t=>(s(),i.connection("[%s] Resolving the promise with amqp connection.",this.id),e(this)),r=e=>{s();const n=e.error||e.connection.error||Error("Failed to connect");return i.error("[%s] Error occurred while establishing amqp connection: %O",this.id,n),t(n)};const a=()=>{s();const e=`Unable to open the amqp connection "${this.id}" due to operation timeout.`;return i.error("[%s] %s",this.id,e),t(new Error(e))};this._connection.once(u.ConnectionEvents.connectionOpen,n),this._connection.once(u.ConnectionEvents.connectionClose,r),this._connection.once(u.ConnectionEvents.disconnected,r),o=setTimeout(a,1e3*this.options.operationTimeoutInSeconds),i.connection("[%s] Trying to create a new amqp connection.",this.id),this._connection.connect(),this.actionInitiated++}})}close(){return new Promise((e,t)=>{if(i.error("[%s] The connection is open ? -> %s",this.id,this.isOpen()),!this.isOpen())return e();{let n,r,o,s;const a=()=>{clearTimeout(s),this.actionInitiated--,this._connection.removeListener(u.ConnectionEvents.connectionError,r),this._connection.removeListener(u.ConnectionEvents.connectionClose,n),this._connection.removeListener(u.ConnectionEvents.disconnected,o)};n=t=>(a(),i.connection("[%s] Resolving the promise as the connection has been successfully closed.",this.id),e()),r=e=>(a(),i.error("[%s] Error occurred while closing amqp connection: %O.",this.id,e.connection.error),t(e.connection.error)),o=e=>{a();const t=e.connection&&e.connection.error?e.connection.error:e.error;i.error("[%s] Connection got disconnected while closing itself: %O.",this.id,t)};const c=()=>{a();const e=`Unable to close the amqp connection "${this.id}" due to operation timeout.`;return i.error("[%s] %s",this.id,e),t(new Error(e))};this._connection.once(u.ConnectionEvents.connectionClose,n),this._connection.once(u.ConnectionEvents.connectionError,r),this._connection.once(u.ConnectionEvents.disconnected,o),s=setTimeout(c,1e3*this.options.operationTimeoutInSeconds),this._connection.close(),this.actionInitiated++}})}isOpen(){let e=!1;return this._connection&&this._connection.is_open&&this._connection.is_open()&&(e=!0),e}removeAllSessions(){this._connection&&this._connection.remove_all_sessions()}isRemoteOpen(){return this._connection.is_remote_open()}getError(){return this._connection.get_error()}getPeerCertificate(){return this._connection.get_peer_certificate()}getTlsSocket(){return this._connection.get_tls_socket()}wasCloseInitiated(){return this._connection.is_closed()}createSession(){return new Promise((e,t)=>{const n=this._connection.create_session(),r=new o.Session(this,n);let s,a,c,l;r.actionInitiated++;const h=()=>{clearTimeout(l),r.actionInitiated--,n.removeListener(u.SessionEvents.sessionOpen,s),n.removeListener(u.SessionEvents.sessionClose,a),n.connection.removeListener(u.ConnectionEvents.disconnected,c)};s=t=>(h(),i.session("[%s] Resolving the promise with amqp session '%s'.",this.id,r.id),e(r)),a=e=>(h(),i.error("[%s] Error occurred while establishing a session over amqp connection: %O.",this.id,e.session.error),t(e.session.error)),c=e=>{h();const n=e.connection&&e.connection.error?e.connection.error:e.error;return i.error("[%s] Connection got disconnected while creating amqp session '%s': %O.",this.id,r.id,n),t(n)};const f=()=>{h();const e="Unable to create the amqp session due to operation timeout.";return i.error("[%s] %s",this.id,e),t(new d.OperationTimeoutError(e))};n.once(u.SessionEvents.sessionOpen,s),n.once(u.SessionEvents.sessionClose,a),n.connection.once(u.ConnectionEvents.disconnected,c),i.session("[%s] Calling amqp session.begin().",this.id),l=setTimeout(f,1e3*this.options.operationTimeoutInSeconds),n.begin()})}createSender(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e&&e.session&&e.session.createSender)return e.session.createSender(e);const t=yield this.createSession();return t.createSender(e)}))}createAwaitableSender(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e&&e.session&&e.session.createAwaitableSender)return e.session.createAwaitableSender(e);const t=yield this.createSession();return t.createAwaitableSender(e)}))}createReceiver(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e&&e.session&&e.session.createReceiver)return e.session.createReceiver(e);const t=yield this.createSession();return t.createReceiver(e)}))}createRequestResponseLink(e,t,n){return r.__awaiter(this,void 0,void 0,(function*(){if(!e)throw new Error("Please provide sender options.");if(!t)throw new Error("Please provide receiver options.");const r=n||(yield this.createSession()),[o,s]=yield Promise.all([r.createSender(e),r.createReceiver(t)]);return i.connection("[%s] Successfully created the sender '%s' and receiver '%s' on the same amqp session '%s'.",this.id,o.name,s.name,r.id),{session:r,sender:o,receiver:s}}))}_initializeEventListeners(){for(const e in u.ConnectionEvents)this._connection.on(u.ConnectionEvents[e],t=>{const n={rheaContext:t,emitter:this,eventName:u.ConnectionEvents[e],emitterType:"connection",connectionId:this.id};e===u.ConnectionEvents.protocolError&&i.connection("[%s] ProtocolError is: %O.",this.id,t),c.emitEvent(n)});this._connection.on(u.SenderEvents.senderError,e=>{const t={rheaContext:e,emitter:this,eventName:u.SenderEvents.senderError,emitterType:"connection",connectionId:this.id};c.emitEvent(t)}),this._connection.on(u.SenderEvents.senderClose,e=>{const t={rheaContext:e,emitter:this,eventName:u.SenderEvents.senderClose,emitterType:"connection",connectionId:this.id};c.emitEvent(t)}),this._connection.on(u.ReceiverEvents.receiverError,e=>{const t={rheaContext:e,emitter:this,eventName:u.ReceiverEvents.receiverError,emitterType:"connection",connectionId:this.id};c.emitEvent(t)}),this._connection.on(u.ReceiverEvents.receiverClose,e=>{const t={rheaContext:e,emitter:this,eventName:u.ReceiverEvents.receiverClose,emitterType:"connection",connectionId:this.id};c.emitEvent(t)}),this._connection.on(u.SessionEvents.sessionError,e=>{const t={rheaContext:e,emitter:this,eventName:u.SessionEvents.sessionError,emitterType:"connection",connectionId:this.id};c.emitEvent(t)}),this._connection.on(u.SessionEvents.sessionClose,e=>{const t={rheaContext:e,emitter:this,eventName:u.SessionEvents.sessionClose,emitterType:"connection",connectionId:this.id};c.emitEvent(t)}),"function"===typeof this._connection.eventNames&&i.eventHandler("[%s] rhea-promise 'connection' object is listening for events: %o emitted by rhea's 'connection' object.",this.id,this._connection.eventNames())}}t.Connection=f},abb3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e["INT"]=0]="INT",e[e["DOUBLE"]=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ac86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("7fa7");class i extends r.Link{constructor(e,t,n){super(r.LinkType.receiver,e,t,n)}get drain(){return this._link.drain}set drain(e){this._link.drain=e}addCredit(e){this._link.add_credit(e)}setCreditWindow(e){this._link.set_credit_window(e)}}t.Receiver=i},ad0a:function(e,t,n){"use strict";var r=n("1c90"),i={},o={};function s(e){var t=r.define_composite(e);i[e.name]=t.create,o[Number(t.descriptor.numeric).toString(10)]=t,o[t.descriptor.symbolic]=t}i.unwrap=function(e){if(e&&e.descriptor){var t=o[e.descriptor.value];if(t)return new t(e.value);console.warn("Unknown terminus: "+e.descriptor)}return null},s({name:"source",code:40,fields:[{name:"address",type:"string"},{name:"durable",type:"uint",default_value:0},{name:"expiry_policy",type:"symbol",default_value:"session-end"},{name:"timeout",type:"uint",default_value:0},{name:"dynamic",type:"boolean",default_value:!1},{name:"dynamic_node_properties",type:"symbolic_map"},{name:"distribution_mode",type:"symbol"},{name:"filter",type:"symbolic_map"},{name:"default_outcome",type:"*"},{name:"outcomes",type:"symbol",multiple:!0},{name:"capabilities",type:"symbol",multiple:!0}]}),s({name:"target",code:41,fields:[{name:"address",type:"string"},{name:"durable",type:"uint",default_value:0},{name:"expiry_policy",type:"symbol",default_value:"session-end"},{name:"timeout",type:"uint",default_value:0},{name:"dynamic",type:"boolean",default_value:!1},{name:"dynamic_node_properties",type:"symbolic_map"},{name:"capabilities",type:"symbol",multiple:!0}]}),e.exports=i},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,d=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,d)}))}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("e163"),a=n("9112"),c=n("5135"),u=n("b622"),l=n("c430"),d=u("iterator"),h=!1,f=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):h=!0),void 0==r&&(r={}),l||c(r,d)||a(r,d,f),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var r=n("6381"),i=n("d07e"),o=new r.NoopContextManager,s=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return i._global[i.GLOBAL_CONTEXT_MANAGER_API_KEY]?this._getContextManager():(i._global[i.GLOBAL_CONTEXT_MANAGER_API_KEY]=i.makeGetter(i.API_BACKWARDS_COMPATIBILITY_VERSION,e,o),e)},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t){return this._getContextManager().with(e,t)},e.prototype.bind=function(e,t){return void 0===t&&(t=this.active()),this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){var e,t;return null!==(t=null===(e=i._global[i.GLOBAL_CONTEXT_MANAGER_API_KEY])||void 0===e?void 0:e.call(i._global,i.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:o},e.prototype.disable=function(){this._getContextManager().disable(),delete i._global[i.GLOBAL_CONTEXT_MANAGER_API_KEY]},e}();t.ContextAPI=s},b3ac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},b497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},b575:function(e,t,n){var r,i,o,s,a,c,u,l,d=n("da84"),h=n("06cf").f,f=n("2cf4").set,p=n("1cdc"),v=n("605d"),m=d.MutationObserver||d.WebKitMutationObserver,g=d.document,y=d.process,_=d.Promise,b=h(d,"queueMicrotask"),w=b&&b.value;w||(r=function(){var e,t;v&&(e=y.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},!p&&!v&&m&&g?(a=!0,c=g.createTextNode(""),new m(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):_&&_.resolve?(u=_.resolve(void 0),l=u.then,s=function(){l.call(u,r)}):s=v?function(){y.nextTick(r)}:function(){f.call(d,r)}),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,d=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(l,e)?u[e]=l[e]:u[e]=d("Symbol."+e)),u[e]}},b624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_TRACER_PROVIDER=t.NoopTracerProvider=void 0;var r=n("e168"),i=function(){function e(){}return e.prototype.getTracer=function(e,t){return r.NOOP_TRACER},e}();t.NoopTracerProvider=i,t.NOOP_TRACER_PROVIDER=new i},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,r):"string"===typeof t?p(e,t,n):g(e,t)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,n,r){return d(t),t<=0?c(e,t):void 0!==n?"string"===typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}function f(e,t){if(d(t),e=c(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=c(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function v(e,t){var n=t.length<0?0:0|y(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function m(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=v(e,t),e}function g(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return e=c(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):v(e,t);if("Buffer"===t.type&&o(t.data))return v(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),u.alloc(+e)}function b(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(r)return Q(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:S(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return-1}function C(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function x(e,t,n,r){return ee(Q(t,e.length-n),e,n,r)}function A(e,t,n,r){return ee(X(t),e,n,r)}function k(e,t,n,r){return A(e,t,n,r)}function T(e,t,n,r){return ee(Z(t),e,n,r)}function I(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:o=e[i+1],128===(192&o)&&(c=(31&u)<<6|63&o,c>127&&(l=c));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(l=c));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(l=c))}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return L(r)}t.Buffer=u,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return h(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):w.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),d=0;d<a;++d)if(c[d]!==l[d]){o=c[d],s=l[d];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function L(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=M));return n}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W(e[o]);return i}function U(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function q(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Y(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return o||Y(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,o){return o||Y(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||q(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||q(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||q(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||q(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||q(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||q(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||q(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||q(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||q(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||q(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||q(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:Q(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function V(e){if(e=G(e).replace(K,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function X(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Z(e){return r.toByteArray(V(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,v,m,g){for(var y,_,b=o(p),w=i(b),E=r(v,m,3),O=s(w.length),S=0,C=g||a,x=t?C(p,O):n||h?C(p,0):void 0;O>S;S++)if((f||S in w)&&(y=w[S],_=E(y,S,b),e))if(t)x[S]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c.call(x,y)}else switch(e){case 4:return!1;case 7:c.call(x,y)}return d?-1:u||l?l:x}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},b7f1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},bc90:function(e,t,n){"use strict";n.d(t,"a",(function(){return Bn}));var r=n("05b9");function i(e){return e&&"function"===typeof e.getToken&&(void 0===e.signRequest||e.getToken.length>0)}var o=n("8e2a");const s={create(e,t){e=String(e);const n=Object(o["f"])(e);if(!n.Endpoint)throw new TypeError("Missing Endpoint in Connection String.");n.Endpoint.endsWith("/")||(n.Endpoint+="/");const r={connectionString:e,endpoint:n.Endpoint,host:n&&n.Endpoint?(n.Endpoint.match(".*://([^/]*)")||[])[1]:"",sharedAccessKeyName:n.SharedAccessKeyName,sharedAccessKey:n.SharedAccessKey};return(t||n.EntityPath)&&(r.entityPath=t||n.EntityPath),r},validate(e,t){if(t||(t={}),!e)throw new TypeError("Missing configuration");if(!e.endpoint)throw new TypeError("Missing 'endpoint' in configuration");if(e.endpoint=String(e.endpoint),!e.host)throw new TypeError("Missing 'host' in configuration");if(e.host=String(e.host),t.isEntityPathRequired&&!e.entityPath)throw new TypeError("Missing 'entityPath' in configuration");if(void 0!=e.entityPath&&(e.entityPath=String(e.entityPath)),!a(e.connectionString)){if(!e.sharedAccessKeyName)throw new TypeError("Missing 'sharedAccessKeyName' in configuration");if(e.sharedAccessKeyName=String(e.sharedAccessKeyName),!e.sharedAccessKey)throw new TypeError("Missing 'sharedAccessKey' in configuration");e.sharedAccessKey=String(e.sharedAccessKey)}}};function a(e){return null!=e.match(/;{0,1}SharedAccessSignature=SharedAccessSignature /)}var c=n("da72"),u=n("a3d6"),l=n("3b1f");function d(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;const h={associatedLinkName:"associated-link-name",partitionKey:"x-opt-partition-key",sequenceNumber:"x-opt-sequence-number",enqueueSequenceNumber:"x-opt-enqueue-sequence-number",enqueuedTime:"x-opt-enqueued-time",scheduledEnqueueTime:"x-opt-scheduled-enqueue-time",offset:"x-opt-offset",lockedUntil:"x-opt-locked-until",partitionIdName:"x-opt-partition-id",publisher:"x-opt-publisher-name",viaPartitionKey:"x-opt-via-partition-key",deadLetterSource:"x-opt-deadletter-source",enqueuedTimeAnnotation:"amqp.annotation.x-opt-enqueued-time",offsetAnnotation:"amqp.annotation.x-opt-offset",sequenceNumberAnnotation:"amqp.annotation.x-opt-sequence-number",guidSize:16,message:"message",error:"error",statusCode:"status-code",statusDescription:"status-description",errorCondition:"error-condition",management:"$management",partition:"partition",partitionId:"partitionId",readOperation:"READ",TLS:"tls",establishConnection:"establishConnection",defaultConsumerGroup:"$default",eventHub:"eventhub",cbsEndpoint:"$cbs",cbsReplyTo:"cbs",operationPutToken:"put-token",aadEventHubsAudience:"https://eventhubs.azure.net/",aadEventHubsScope:"https://eventhubs.azure.net//.default",aadServiceBusAudience:"https://servicebus.azure.net/",aadServiceBusScope:"https://servicebus.azure.net//.default",maxUserAgentLength:512,vendorString:"com.microsoft",attachEpoch:"com.microsoft:epoch",receiverIdentifierName:"com.microsoft:receiver-name",enableReceiverRuntimeMetricName:"com.microsoft:enable-receiver-runtime-metric",timespan:"com.microsoft:timespan",uri:"com.microsoft:uri",dateTimeOffset:"com.microsoft:datetime-offset",sessionFilterName:"com.microsoft:session-filter",receiverError:"receiver_error",senderError:"sender_error",sessionError:"session_error",connectionError:"connection_error",defaultOperationTimeoutInMs:6e4,defaultConnectionIdleTimeoutInMs:6e4,managementRequestKey:"managementRequest",negotiateCbsKey:"negotiateCbs",negotiateClaim:"negotiateClaim",ensureContainerAndBlob:"ensureContainerAndBlob",defaultPrefetchCount:1e3,reconnectLimit:100,maxMessageIdLength:128,maxPartitionKeyLength:128,maxSessionIdLength:128,pathDelimiter:"/",ruleNameMaximumLength:50,maximumSqlFilterStatementLength:1024,maximumSqlRuleActionStatementLength:1024,maxDeadLetterReasonLength:4096,maxDurationValue:922337203685477,minDurationValue:-922337203685477,maxAbsoluteExpiryTime:new Date("9999-12-31T07:59:59.000Z").getTime(),aadTokenValidityMarginInMs:5e3,connectionReconnectDelay:300,defaultMaxRetries:3,defaultMaxRetriesForConnection:150,defaultDelayBetweenOperationRetriesInMs:3e4,defaultMaxDelayForExponentialRetryInMs:9e4,receiverSettleMode:"receiver-settle-mode",dispositionStatus:"disposition-status",fromSequenceNumber:"from-sequence-number",messageCount:"message-count",lockTokens:"lock-tokens",messageIdMapKey:"message-id",sequenceNumberMapKey:"sequence-number",lockTokenMapKey:"lock-token",sessionIdMapKey:"session-id",sequenceNumbers:"sequence-numbers",deadLetterReason:"deadletter-reason",deadLetterDescription:"deadletter-description",propertiesToModify:"properties-to-modify",deadLetterName:"com.microsoft:dead-letter",trackingId:"com.microsoft:tracking-id",serverTimeout:"com.microsoft:server-timeout",operations:{putToken:"put-token",read:"READ",cancelScheduledMessage:"com.microsoft:cancel-scheduled-message",scheduleMessage:"com.microsoft:schedule-message",renewLock:"com.microsoft:renew-lock",peekMessage:"com.microsoft:peek-message",receiveBySequenceNumber:"com.microsoft:receive-by-sequence-number",updateDisposition:"com.microsoft:update-disposition",renewSessionLock:"com.microsoft:renew-session-lock",setSessionState:"com.microsoft:set-session-state",getSessionState:"com.microsoft:get-session-state",enumerateSessions:"com.microsoft:get-message-sessions",addRule:"com.microsoft:add-rule",removeRule:"com.microsoft:remove-rule",enumerateRules:"com.microsoft:enumerate-rules"},descriptorCodes:{ruleDescriptionList:1335734829060,sqlFilterList:83483426822,correlationFilterList:83483426825,sqlRuleActionList:1335734829062,trueFilterList:83483426823,falseFilterList:83483426824}};var f=n("f0f3");const p=Object(f["a"])("core-amqp");function v(e){e&&e.stack&&p.verbose(e.stack)}var m,g,y;(function(e){e[e["com.microsoft:timeout"]=408]="com.microsoft:timeout",e[e["amqp:not-found"]=404]="amqp:not-found",e[e["amqp:not-implemented"]=501]="amqp:not-implemented",e[e["com.microsoft:entity-already-exists"]=409]="com.microsoft:entity-already-exists",e[e["com.microsoft:message-lock-lost"]=410]="com.microsoft:message-lock-lost",e[e["com.microsoft:session-lock-lost"]=410]="com.microsoft:session-lock-lost",e[e["com.microsoft:no-matching-subscription"]=500]="com.microsoft:no-matching-subscription",e[e["amqp:link:message-size-exceeded"]=403]="amqp:link:message-size-exceeded",e[e["com.microsoft:server-busy"]=503]="com.microsoft:server-busy",e[e["com.microsoft:argument-error"]=400]="com.microsoft:argument-error",e[e["com.microsoft:argument-out-of-range"]=400]="com.microsoft:argument-out-of-range",e[e["com.microsoft:store-lock-lost"]=410]="com.microsoft:store-lock-lost",e[e["com.microsoft:session-cannot-be-locked"]=410]="com.microsoft:session-cannot-be-locked",e[e["com.microsoft:partition-not-owned"]=410]="com.microsoft:partition-not-owned",e[e["com.microsoft:entity-disabled"]=400]="com.microsoft:entity-disabled",e[e["com.microsoft:publisher-revoked"]=401]="com.microsoft:publisher-revoked",e[e["amqp:link:stolen"]=410]="amqp:link:stolen",e[e["amqp:not-allowed"]=400]="amqp:not-allowed",e[e["amqp:unauthorized-access"]=401]="amqp:unauthorized-access",e[e["amqp:resource-limit-exceeded"]=403]="amqp:resource-limit-exceeded"})(m||(m={})),function(e){e["com.microsoft:address-already-in-use"]="AddressAlreadyInUseError",e["com.microsoft:store-lock-lost"]="StoreLockLostError",e["com.microsoft:no-matching-subscription"]="NoMatchingSubscriptionError",e["com.microsoft:partition-not-owned"]="PartitionNotOwnedError",e["com.microsoft:publisher-revoked"]="PublisherRevokedError",e["com.microsoft:entity-already-exists"]="MessagingEntityAlreadyExistsError",e["com.microsoft:entity-disabled"]="MessagingEntityDisabledError",e["com.microsoft:message-lock-lost"]="MessageLockLostError",e["com.microsoft:session-lock-lost"]="SessionLockLostError",e["com.microsoft:session-cannot-be-locked"]="SessionCannotBeLockedError",e["amqp:internal-error"]="InternalServerError",e["amqp:not-found"]="ServiceCommunicationError",e["com.microsoft:message-not-found"]="MessageNotFoundError",e["com.microsoft:relay-not-found"]="RelayNotFoundError",e["amqp:not-implemented"]="NotImplementedError",e["amqp:not-allowed"]="InvalidOperationError",e["amqp:resource-limit-exceeded"]="QuotaExceededError",e["amqp:unauthorized-access"]="UnauthorizedError",e["com.microsoft:auth-failed"]="UnauthorizedError",e["com.microsoft:timeout"]="ServiceUnavailableError",e["com.microsoft:message-wait-timeout"]="MessageWaitTimeout",e["com.microsoft:argument-out-of-range"]="ArgumentOutOfRangeError",e["amqp:precondition-failed"]="PreconditionFailedError",e["com.microsoft:precondition-failed"]="PreconditionFailedError",e["amqp:decode-error"]="DecodeError",e["amqp:invalid-field"]="InvalidFieldError",e["amqp:resource-locked"]="ResourceLockedError",e["amqp:resource-deleted"]="ResourceDeletedError",e["amqp:illegal-state"]="IllegalStateError",e["amqp:frame-size-too-small"]="FrameSizeTooSmallError",e["amqp:link:detach-forced"]="DetachForcedError",e["amqp:link:transfer-limit-exceeded"]="TransferLimitExceededError",e["amqp:link:message-size-exceeded"]="MessageTooLargeError",e["amqp:link:redirect"]="LinkRedirectError",e["amqp:link:stolen"]="ReceiverDisconnectedError",e["amqp:session:window-violation"]="SessionWindowViolationError",e["amqp:session:errant-link"]="ErrantLinkError",e["amqp:session:handle-in-use"]="HandleInUseError",e["amqp:session:unattached-handle"]="UnattachedHandleError",e["amqp:connection:forced"]="ConnectionForcedError",e["amqp:connection:framing-error"]="FramingError",e["amqp:connection:redirect"]="ConnectionRedirectError",e["com.microsoft:server-busy"]="ServerBusyError",e["com.microsoft:argument-error"]="ArgumentError",e["com.microsoft:operation-cancelled"]="OperationCancelledError",e["client.sender:not-enough-link-credit"]="SenderBusyError",e["system:error"]="SystemError"}(g||(g={})),function(e){e["AddressAlreadyInUseError"]="com.microsoft:address-already-in-use",e["StoreLockLostError"]="com.microsoft:store-lock-lost",e["NoMatchingSubscriptionError"]="com.microsoft:no-matching-subscription",e["PartitionNotOwnedError"]="com.microsoft:partition-not-owned",e["PublisherRevokedError"]="com.microsoft:publisher-revoked",e["MessagingEntityAlreadyExistsError"]="com.microsoft:entity-already-exists",e["MessagingEntityDisabledError"]="com.microsoft:entity-disabled",e["MessageLockLostError"]="com.microsoft:message-lock-lost",e["SessionLockLostError"]="com.microsoft:session-lock-lost",e["SessionCannotBeLockedError"]="com.microsoft:session-cannot-be-locked",e["InternalServerError"]="amqp:internal-error",e["ServiceCommunicationError"]="amqp:not-found",e["MessageNotFoundError"]="com.microsoft:message-not-found",e["RelayNotFoundError"]="com.microsoft:relay-not-found",e["NotImplementedError"]="amqp:not-implemented",e["InvalidOperationError"]="amqp:not-allowed",e["QuotaExceededError"]="amqp:resource-limit-exceeded",e["UnauthorizedError"]="amqp:unauthorized-access",e["ServiceUnavailableError"]="com.microsoft:timeout",e["MessageWaitTimeout"]="com.microsoft:message-wait-timeout",e["ArgumentOutOfRangeError"]="com.microsoft:argument-out-of-range",e["PreconditionFailedError"]="amqp:precondition-failed",e["DecodeError"]="amqp:decode-error",e["InvalidFieldError"]="amqp:invalid-field",e["ResourceLockedError"]="amqp:resource-locked",e["ResourceDeletedError"]="amqp:resource-deleted",e["IllegalStateError"]="amqp:illegal-state",e["FrameSizeTooSmallError"]="amqp:frame-size-too-small",e["DetachForcedError"]="amqp:link:detach-forced",e["TransferLimitExceededError"]="amqp:link:transfer-limit-exceeded",e["MessageTooLargeError"]="amqp:link:message-size-exceeded",e["LinkRedirectError"]="amqp:link:redirect",e["ReceiverDisconnectedError"]="amqp:link:stolen",e["SessionWindowViolationError"]="amqp:session:window-violation",e["ErrantLinkError"]="amqp:session:errant-link",e["HandleInUseError"]="amqp:session:handle-in-use",e["UnattachedHandleError"]="amqp:session:unattached-handle",e["ConnectionForcedError"]="amqp:connection:forced",e["FramingError"]="amqp:connection:framing-error",e["ConnectionRedirectError"]="amqp:connection:redirect",e["ServerBusyError"]="com.microsoft:server-busy",e["ArgumentError"]="com.microsoft:argument-error",e["OperationCancelledError"]="com.microsoft:operation-cancelled",e["SenderBusyError"]="client.sender:not-enough-link-credit",e["SystemError"]="system:error"}(y||(y={}));const _=["address","code","errno","info","port","stack","syscall"];function b(e){return"MessagingError"===e.name}class w extends Error{constructor(e,t){if(super(e),this.name="MessagingError",this.retryable=!0,t)for(const n of _)void 0!=t[n]&&(this[n]=t[n])}}const E=["InternalServerError","ServerBusyError","ServiceUnavailableError","OperationCancelledError","OperationTimeoutError","SenderBusyError","MessagingError","DetachForcedError","ConnectionForcedError","TransferLimitExceededError","InsufficientCreditError"];var O;function S(e){return!!e&&(!(!Object(o["e"])(e.code)||!Object(o["e"])(e.syscall))&&!(!Object(o["e"])(e.errno)&&!Object(o["d"])(e.errno)))}function C(e){let t=!1;return!o["c"]&&window&&"error"===e.type&&e.target instanceof window.WebSocket&&(t=!0),t}(function(e){e["ENOTFOUND"]="amqp:not-found",e["EBUSY"]="com.microsoft:server-busy",e["ECONNREFUSED"]="amqp:connection:forced",e["ETIMEDOUT"]="com.microsoft:timeout",e["ECONNRESET"]="com.microsoft:timeout",e["ENETDOWN"]="com.microsoft:timeout",e["EHOSTDOWN"]="com.microsoft:timeout",e["ENETRESET"]="com.microsoft:timeout",e["ENETUNREACH"]="com.microsoft:timeout",e["ENONET"]="com.microsoft:timeout"})(O||(O={}));const x=["OperationTimeoutError","InsufficientCreditError","SendOperationFailedError"];function A(e){if(e instanceof TypeError||e instanceof RangeError)return e;if(k(e)){const t=e.condition,n=e.description,r=new w(n);return e.stack&&(r.stack=e.stack),r.info=e.info,t&&(r.code=g[t]),n&&(n.includes("status-code: 404")||null!==n.match(/The messaging entity .* could not be found.*/i))&&(r.code="MessagingEntityNotFoundError"),r.code&&-1===E.indexOf(r.code)&&(r.retryable=!1),r}if("MessagingError"===e.name)return e;if(S(e)){const t=e.code,n=e.message,r=new w(n,e);let i="SystemError";if(t){const e=O[t];i=g[e]}return-1===E.indexOf(i)&&(r.retryable=!1),r}if(C(e)){const e=new w("Websocket connection failed.");return e.code=g[y.ServiceCommunicationError],e.retryable=!1,e}if(-1!==x.indexOf(e.name)){const t=new w(e.message,e);return t.code=e.name,t.code&&-1===E.indexOf(t.code)&&(t.retryable=!1),t}return e}function k(e){return Object(l["isAmqpError"])(e)}var T=n("2325");class I{constructor(e,t,n){this.session=e,this.sender=t,this.receiver=n,this._responsesMap=new Map,this.session=e,this.sender=t,this.receiver=n,this.receiver.on(l["ReceiverEvents"].message,e=>{P(e,this.connection.id,this._responsesMap)})}get connection(){return this.session.connection}isOpen(){return this.session.isOpen()&&this.sender.isOpen()&&this.receiver.isOpen()}sendRequest(e,t={}){const n=t.timeoutInMs||h.defaultOperationTimeoutInMs,r=t.abortSignal;return e.message_id||(e.message_id=Object(l["generate_uuid"])()),new Promise((i,o)=>{const s=()=>{this._responsesMap.delete(e.message_id);const n=this.receiver.address||"address",r=t.requestName,i=`[${this.connection.id}] The request "${r}" to "${n}" has been cancelled by the user.`;p.info(i);const s=new T["a"](`The ${r?r+" ":""}operation has been cancelled by the user.`);o(s)},a=()=>{clearTimeout(c),r.removeEventListener("abort",a),s()};if(r){if(r.aborted)return s();r.addEventListener("abort",a)}const c=setTimeout(()=>{this._responsesMap.delete(e.message_id),r&&r.removeEventListener("abort",a);const t=this.receiver.address||"address",n=`The request with message_id "${e.message_id}" to "${t}" endpoint timed out. Please try again later.`,i={name:"OperationTimeoutError",message:n};return o(A(i))},n);this._responsesMap.set(e.message_id,{resolve:i,reject:o,cleanupBeforeResolveOrReject:()=>{r&&r.removeEventListener("abort",a),clearTimeout(c)}}),p.verbose("[%s] %s request sent: %O",this.connection.id,e.to||"$management",e),this.sender.send(e)})}close(){return d(this,void 0,void 0,(function*(){yield this.sender.close({closeSession:!1}),yield this.receiver.close({closeSession:!1}),yield this.session.close()}))}remove(){this.sender.remove(),this.receiver.remove(),this.session.remove()}static create(e,t,n){return d(this,void 0,void 0,(function*(){const r=yield e.createSession(),i=yield r.createSender(t),o=yield r.createReceiver(n);return p.verbose("[%s] Successfully created the sender and receiver links on the same session.",e.id),new I(r,i,o)}))}}const R=e=>(e||(e={}),{statusCode:e[h.statusCode]||e.statusCode,statusDescription:e[h.statusDescription]||e.statusDescription,errorCondition:e[h.errorCondition]||e.errorCondition});function P(e,t,n){const r=e.message;if(!r)return void p.verbose(`[${t}] "message" property on the EventContext is "undefined" which is unexpected, returning from the "onMessageReceived" handler without resolving or rejecting the promise upon encountering the message event.`);const i=r.correlation_id;if(!n.has(i))return void p.verbose(`[${t}] correlationId "${i}" property on the response does not match with any of the "request-id"s in the map, returning from the "onMessageReceived" handler without resolving or rejecting the promise upon encountering the message event.`);const o=n.get(i);o.cleanupBeforeResolveOrReject();const s=n.delete(i);p.verbose(`[${t}] Successfully deleted the response with id ${i} from the map. Delete result - `+s);const a=R(r.application_properties);let c;if(a.statusCode||(c=new Error(`[${t}] No statusCode in the "application_properties" in the returned response with correlation-id: ${i}`)),a.statusCode>199&&a.statusCode<300)return p.verbose(`[${t}] Resolving the response with correlation-id: ${i}`),o.resolve(r);if(!c){const e=a.errorCondition||m[a.statusCode]||"amqp:internal-error";c=A({condition:e,description:a.statusDescription}),p.warning(`${null===c||void 0===c?void 0:c.name}: ${null===c||void 0===c?void 0:c.message}`)}return v(c),o.reject(c)}class M{constructor(e,t){this.endpoint=h.cbsEndpoint,this.replyTo=`${h.cbsReplyTo}-${Object(l["generate_uuid"])()}`,this.cbsLock=`${h.negotiateCbsKey}-${Object(l["generate_uuid"])()}`,this.connection=e,this.connectionLock=t}init(){return d(this,void 0,void 0,(function*(){try{if(this.connection.isOpen()||(p.verbose("The CBS client is trying to establish an AMQP connection."),yield o["a"].acquire(this.connectionLock,()=>this.connection.open())),this._isCbsSenderReceiverLinkOpen())p.verbose("[%s] CBS session is already present. Reusing the cbs sender '%s' and receiver '%s' links over cbs session.",this.connection.id,this._cbsSenderReceiverLink.sender.name,this._cbsSenderReceiverLink.receiver.name);else{const e={source:{address:this.endpoint},name:this.replyTo,onSessionError:e=>{const t=e.connection.options.id,n=A(e.session.error);p.verbose("[%s] An error occurred on the session for request/response links for $cbs: %O",t,n)}},t={target:{address:this.endpoint}};p.verbose("[%s] Creating sender/receiver links on a session for $cbs endpoint.",this.connection.id),this._cbsSenderReceiverLink=yield I.create(this.connection,t,e),this._cbsSenderReceiverLink.sender.on(l["SenderEvents"].senderError,e=>{const t=e.connection.options.id,n=A(e.sender.error);p.verbose("[%s] An error occurred on the cbs sender link.. %O",t,n)}),this._cbsSenderReceiverLink.receiver.on(l["ReceiverEvents"].receiverError,e=>{const t=e.connection.options.id,n=A(e.receiver.error);p.verbose("[%s] An error occurred on the cbs receiver link.. %O",t,n)}),p.verbose("[%s] Successfully created the cbs sender '%s' and receiver '%s' links over cbs session.",this.connection.id,this._cbsSenderReceiverLink.sender.name,this._cbsSenderReceiverLink.receiver.name)}}catch(e){const t=A(e);throw p.warning("[%s] An error occurred while establishing the cbs links: %s",this.connection.id,`${null===t||void 0===t?void 0:t.name}: ${null===t||void 0===t?void 0:t.message}`),v(t),t}}))}negotiateClaim(e,t,n){return d(this,void 0,void 0,(function*(){try{const r={body:t,message_id:Object(l["generate_uuid"])(),reply_to:this.replyTo,to:this.endpoint,application_properties:{operation:h.operationPutToken,name:e,type:n}},i=yield this._cbsSenderReceiverLink.sendRequest(r);return p.verbose("[%s] The CBS response is: %O",this.connection.id,i),this._fromRheaMessageResponse(i)}catch(r){throw p.warning("[%s] An error occurred while negotiating the cbs claim: %s",this.connection.id,`${null===r||void 0===r?void 0:r.name}: ${null===r||void 0===r?void 0:r.message}`),v(r),r}}))}close(){return d(this,void 0,void 0,(function*(){try{if(this._isCbsSenderReceiverLinkOpen()){const e=this._cbsSenderReceiverLink;this._cbsSenderReceiverLink=void 0,yield e.close(),p.verbose("[%s] Successfully closed the cbs session.",this.connection.id)}}catch(e){const t=`An error occurred while closing the cbs link: ${e.stack||JSON.stringify(e)}.`;throw p.verbose("[%s] %s",this.connection.id,t),new Error(t)}}))}remove(){try{if(this._cbsSenderReceiverLink){const e=this._cbsSenderReceiverLink;this._cbsSenderReceiverLink=void 0,e.remove(),p.verbose("[%s] Successfully removed the cbs session.",this.connection.id)}}catch(e){const t=`An error occurred while removing the cbs link: ${e.stack||JSON.stringify(e)}.`;throw p.verbose("[%s] %s",this.connection.id,t),new Error(t)}}_isCbsSenderReceiverLinkOpen(){return this._cbsSenderReceiverLink&&this._cbsSenderReceiverLink.isOpen()}_fromRheaMessageResponse(e){const t={correlationId:e.correlation_id,statusCode:e.application_properties?e.application_properties["status-code"]:"",statusDescription:e.application_properties?e.application_properties["status-description"]:""};return p.verbose("[%s] The deserialized CBS response is: %o",this.connection.id,t),t}}function L(){return`(javascript-Browser-${j()})`}function N(){return"Browser/"+j()}function j(){if("undefined"===typeof self)return"";const e=self.navigator;return e.appVersion}const D={create(e){s.validate(e.config,{isEntityPathRequired:e.isEntityPathRequired||!1});const t=e.connectionProperties.userAgent;if(t.length>h.maxUserAgentLength)throw new Error(`The user-agent string cannot be more than ${h.maxUserAgentLength} characters in length.The given user-agent string is: ${t} with length: ${t.length}`);const n={transport:h.TLS,host:e.config.host,hostname:e.config.host,username:e.config.sharedAccessKeyName,port:5671,reconnect:!1,properties:{product:e.connectionProperties.product,version:e.connectionProperties.version,"user-agent":t,platform:L(),framework:N()},idle_time_out:h.defaultConnectionIdleTimeoutInMs,operationTimeoutInSeconds:e.operationTimeoutInMs?e.operationTimeoutInMs/1e3:void 0};if(e.config.webSocket||!o["c"]&&"undefined"!==typeof window&&window.WebSocket){const t=e.config.webSocket||window.WebSocket,r=e.config.host,i=e.config.webSocketEndpointPath||"",o=e.config.webSocketConstructorOptions||{};n.webSocketOptions={webSocket:t,url:`wss://${r}:443/${i}`,protocol:["AMQPWSB10"],options:o}}const r=new l["Connection"](n),i=`${h.establishConnection}-${Object(l["generate_uuid"])()}`,a={wasConnectionCloseCalled:!1,connectionLock:i,negotiateClaimLock:`${h.negotiateClaim}-${Object(l["generate_uuid"])()}`,connection:r,connectionId:r.id,cbsSession:new M(r,i),config:e.config,refreshConnection(){const e=new l["Connection"](n),t=`${h.establishConnection}-${Object(l["generate_uuid"])()}`;this.wasConnectionCloseCalled=!1,this.connectionLock=t,this.negotiateClaimLock=`${h.negotiateClaim} - ${Object(l["generate_uuid"])()}`,this.connection=e,this.connectionId=e.id,this.cbsSession=new M(e,t)}};return a}};var U=n("da5a"),q=n.n(U);const $={toRheaMessageHeader(e){const t={};return void 0!=e.deliveryCount&&(t.delivery_count=e.deliveryCount),void 0!=e.durable&&(t.durable=e.durable),void 0!=e.firstAcquirer&&(t.first_acquirer=e.firstAcquirer),void 0!=e.priority&&(t.priority=e.priority),void 0!=e.timeToLive&&(t.ttl=e.timeToLive),p.verbose("To RheaMessageHeader: %O",t),t},fromRheaMessageHeader(e){const t={};return void 0!=e.delivery_count&&(t.deliveryCount=e.delivery_count),void 0!=e.durable&&(t.durable=e.durable),void 0!=e.first_acquirer&&(t.firstAcquirer=e.first_acquirer),void 0!=e.priority&&(t.priority=e.priority),void 0!=e.ttl&&(t.timeToLive=e.ttl),p.verbose("From RheaMessageHeader: %O",t),t}},B={toRheaMessageProperties(e){const t={};return void 0!=e.absoluteExpiryTime&&(t.absolute_expiry_time=e.absoluteExpiryTime),void 0!=e.contentEncoding&&(t.content_encoding=e.contentEncoding),void 0!=e.contentType&&(t.content_type=e.contentType),void 0!=e.correlationId&&(t.correlation_id=e.correlationId),void 0!=e.creationTime&&(t.creation_time=e.creationTime),void 0!=e.groupId&&(t.group_id=e.groupId),void 0!=e.groupSequence&&(t.group_sequence=e.groupSequence),void 0!=e.messageId&&(t.message_id=e.messageId),void 0!=e.replyTo&&(t.reply_to=e.replyTo),void 0!=e.replyToGroupId&&(t.reply_to_group_id=e.replyToGroupId),void 0!=e.subject&&(t.subject=e.subject),void 0!=e.to&&(t.to=e.to),p.verbose("To RheaMessageProperties: %O",t),t},fromRheaMessageProperties(e){const t={};return void 0!=e.absolute_expiry_time&&(t.absoluteExpiryTime=e.absolute_expiry_time),void 0!=e.content_encoding&&(t.contentEncoding=e.content_encoding),void 0!=e.content_type&&(t.contentType=e.content_type),void 0!=e.correlation_id&&(t.correlationId=e.correlation_id),void 0!=e.creation_time&&(t.creationTime=e.creation_time),void 0!=e.group_id&&(t.groupId=e.group_id),void 0!=e.group_sequence&&(t.groupSequence=e.group_sequence),void 0!=e.message_id&&(t.messageId=e.message_id),void 0!=e.reply_to&&(t.replyTo=e.reply_to),void 0!=e.reply_to_group_id&&(t.replyToGroupId=e.reply_to_group_id),void 0!=e.subject&&(t.subject=e.subject),void 0!=e.to&&(t.to=e.to),p.verbose("From RheaMessageProperties: %O",t),t}},F={fromRheaMessage(e){return{header:$.fromRheaMessageHeader(e),footer:e.footer,messageAnnotations:e.message_annotations,deliveryAnnotations:e.delivery_annotations,applicationProperties:e.application_properties,properties:B.fromRheaMessageProperties(e),body:e.body}}};var Y=n("b639"),z=n("9f19"),H=n.n(z);const K={encode(e){let t;if(H()(e))t=l["message"].data_section(e);else{void 0===e&&(e=null);try{const n=JSON.stringify(e);t=l["message"].data_section(Y["Buffer"].from(n,"utf8"))}catch(n){const t="An error occurred while executing JSON.stringify() on the given body "+e+(n?n.stack:JSON.stringify(n));throw c["c"].warning("[encode] "+t),Object(c["b"])(c["c"],n),new Error(t)}}return t},decode(e){let t=e;try{e.content&&H()(e.content)&&(t=e.content);try{const e=t.toString("utf8");t=JSON.parse(e)}catch(n){c["c"].verbose("[decode] An error occurred while trying JSON.parse() on the received body. The error is %O",n)}}catch(n){c["c"].verbose("[decode] An error occurred while decoding the received message body. The error is: %O",n)}return t}};var V,G,W=n("f27a");function Q(e){return null!=e.contentType&&"string"!==typeof e.contentType?new TypeError("The property 'contentType' on the message must be of type 'string'"):null!=e.subject&&"string"!==typeof e.subject?new TypeError("The property 'label' on the message must be of type 'string'"):null!=e.to&&"string"!==typeof e.to?new TypeError("The property 'to' on the message must be of type 'string'"):null!=e.replyTo&&"string"!==typeof e.replyTo?new TypeError("The property 'replyTo' on the message must be of type 'string'"):null!=e.replyToSessionId&&"string"!==typeof e.replyToSessionId?new TypeError("The property 'replyToSessionId' on the message must be of type 'string'"):null!=e.timeToLive&&"number"!==typeof e.timeToLive?new TypeError("The property 'timeToLive' on the message must be of type 'number'"):null!=e.sessionId&&"string"!==typeof e.sessionId?new TypeError("The property 'sessionId' on the message must be of type 'string'"):null==e.messageId||"string"===typeof e.messageId||"number"===typeof e.messageId||Y["Buffer"].isBuffer(e.messageId)?null==e.correlationId||"string"===typeof e.correlationId||"number"===typeof e.correlationId||Y["Buffer"].isBuffer(e.correlationId)?void 0:new TypeError("The property 'correlationId' on the message must be of type string, number or Buffer"):new TypeError("The property 'messageId' on the message must be of type string, number or Buffer")}function X(e){const t={body:e.body,message_annotations:{}};if(null!=e.applicationProperties&&(t.application_properties=e.applicationProperties),null!=e.contentType&&(t.content_type=e.contentType),null!=e.sessionId){if(e.sessionId.length>h.maxSessionIdLength)throw new Error("Length of 'sessionId' property on the message cannot be greater than 128 characters.");t.group_id=e.sessionId}if(null!=e.replyTo&&(t.reply_to=e.replyTo),null!=e.to&&(t.to=e.to),null!=e.subject&&(t.subject=e.subject),null!=e.messageId){if("string"===typeof e.messageId&&e.messageId.length>h.maxMessageIdLength)throw new Error("Length of 'messageId' property on the message cannot be greater than 128 characters.");t.message_id=e.messageId}if(null!=e.correlationId&&(t.correlation_id=e.correlationId),null!=e.replyToSessionId&&(t.reply_to_group_id=e.replyToSessionId),null!=e.timeToLive&&e.timeToLive!==h.maxDurationValue&&(t.ttl=e.timeToLive,t.creation_time=Date.now(),h.maxAbsoluteExpiryTime-t.creation_time>t.ttl?t.absolute_expiry_time=t.creation_time+t.ttl:t.absolute_expiry_time=h.maxAbsoluteExpiryTime),null!=e.partitionKey){if(e.partitionKey.length>h.maxPartitionKeyLength)throw new Error("Length of 'partitionKey' property on the message cannot be greater than 128 characters.");t.message_annotations[h.partitionKey]=e.partitionKey}return null!=e.scheduledEnqueueTimeUtc&&(t.message_annotations[h.scheduledEnqueueTime]=e.scheduledEnqueueTimeUtc),c["e"].verbose("SBMessage to RheaMessage: %O",t),t}function J(e,t,n){var r,i;e||(e={body:void 0});const o={body:e.body};null!=e.application_properties&&(o.applicationProperties=e.application_properties),null!=e.content_type&&(o.contentType=e.content_type),null!=e.group_id&&(o.sessionId=e.group_id),null!=e.reply_to&&(o.replyTo=e.reply_to),null!=e.to&&(o.to=e.to),null!=e.ttl&&(o.timeToLive=e.ttl),null!=e.subject&&(o.subject=e.subject),null!=e.message_id&&(o.messageId=e.message_id),null!=e.correlation_id&&(o.correlationId=e.correlation_id),null!=e.reply_to_group_id&&(o.replyToSessionId=e.reply_to_group_id),null!=e.message_annotations&&(null!=e.message_annotations[h.partitionKey]&&(o.partitionKey=e.message_annotations[h.partitionKey]),null!=e.message_annotations[h.scheduledEnqueueTime]&&(o.scheduledEnqueueTimeUtc=e.message_annotations[h.scheduledEnqueueTime]));const s={};null!=e.message_annotations&&(null!=e.message_annotations[h.deadLetterSource]&&(s.deadLetterSource=e.message_annotations[h.deadLetterSource]),null!=e.message_annotations[h.enqueueSequenceNumber]&&(s.enqueuedSequenceNumber=e.message_annotations[h.enqueueSequenceNumber]),null!=e.message_annotations[h.sequenceNumber]&&(Y["Buffer"].isBuffer(e.message_annotations[h.sequenceNumber])?s.sequenceNumber=q.a.fromBytesBE(e.message_annotations[h.sequenceNumber]):s.sequenceNumber=q.a.fromNumber(e.message_annotations[h.sequenceNumber])),null!=e.message_annotations[h.enqueuedTime]&&(s.enqueuedTimeUtc=new Date(e.message_annotations[h.enqueuedTime])),null!=e.message_annotations[h.lockedUntil]&&(s.lockedUntilUtc=new Date(e.message_annotations[h.lockedUntil]))),null!=e.ttl&&e.ttl>=h.maxDurationValue-s.enqueuedTimeUtc.getTime()?s.expiresAtUtc=new Date(h.maxDurationValue):s.expiresAtUtc=new Date(s.enqueuedTimeUtc.getTime()+e.ttl);const a=Object.assign(Object.assign(Object.assign({_rawAmqpMessage:F.fromRheaMessage(e),_delivery:t,deliveryCount:e.delivery_count,lockToken:t&&t.tag&&0!==t.tag.length?Object(l["uuid_to_string"])(!0===n?Object(W["g"])("string"===typeof t.tag?Y["Buffer"].from(t.tag):t.tag):"string"===typeof t.tag?Y["Buffer"].from(t.tag):t.tag):void 0},o),s),{deadLetterReason:null===(r=o.applicationProperties)||void 0===r?void 0:r.DeadLetterReason,deadLetterErrorDescription:null===(i=o.applicationProperties)||void 0===i?void 0:i.DeadLetterErrorDescription});return c["e"].verbose("AmqpMessage to ServiceBusReceivedMessage: %O",a),a}function Z(e){return null!=e&&"object"===typeof e&&"body"in e}(function(e){e["complete"]="complete",e["deadletter"]="deadletter",e["abandon"]="abandon",e["defer"]="defer"})(V||(V={}));class ee{constructor(e,t,n,r){Object.assign(this,J(e,t,n)),"receiveAndDelete"===r&&(this.lockToken=void 0),e.body&&(this.body=K.decode(e.body)),this._rawAmqpMessage=F.fromRheaMessage(e),this.delivery=t}clone(){const e={body:this.body,contentType:this.contentType,correlationId:this.correlationId,subject:this.subject,messageId:this.messageId,partitionKey:this.partitionKey,replyTo:this.replyTo,replyToSessionId:this.replyToSessionId,scheduledEnqueueTimeUtc:this.scheduledEnqueueTimeUtc,sessionId:this.sessionId,timeToLive:this.timeToLive,to:this.to,applicationProperties:this.applicationProperties};return e}}(function(e){e["CbsTokenTypeJwt"]="jwt",e["CbsTokenTypeSas"]="servicebus.windows.net:sastoken"})(G||(G={}));const te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ne(e,t,n,r){let i,o,s;const a=t||[0],c=(n=n||0)>>>3,u=-1===r?3:0;for(i=0;i<e.length;i+=1)s=i+c,o=s>>>2,a.length<=o&&a.push(0),a[o]|=e[i]<<8*(u+r*(s%4));return{value:a,binLen:8*e.length+n}}function re(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(e,t,r){return function(e,t,n,r){let i,o,s,a;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");const c=t||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(i=0;i<e.length;i+=2){if(o=parseInt(e.substr(i,2),16),isNaN(o))throw new Error("String of HEX type contains invalid characters");for(a=(i>>>1)+u,s=a>>>2;c.length<=s;)c.push(0);c[s]|=o<<8*(l+r*(a%4))}return{value:c,binLen:4*e.length+n}}(e,t,r,n)};case"TEXT":return function(e,r,i){return function(e,t,n,r,i){let o,s,a,c,u,l,d,h,f=0;const p=n||[0],v=(r=r||0)>>>3;if("UTF8"===t)for(d=-1===i?3:0,a=0;a<e.length;a+=1)for(o=e.charCodeAt(a),s=[],128>o?s.push(o):2048>o?(s.push(192|o>>>6),s.push(128|63&o)):55296>o||57344<=o?s.push(224|o>>>12,128|o>>>6&63,128|63&o):(a+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(a)),s.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),c=0;c<s.length;c+=1){for(l=f+v,u=l>>>2;p.length<=u;)p.push(0);p[u]|=s[c]<<8*(d+i*(l%4)),f+=1}else for(d=-1===i?2:0,h="UTF16LE"===t&&1!==i||"UTF16LE"!==t&&1===i,a=0;a<e.length;a+=1){for(o=e.charCodeAt(a),!0===h&&(c=255&o,o=c<<8|o>>>8),l=f+v,u=l>>>2;p.length<=u;)p.push(0);p[u]|=o<<8*(d+i*(l%4)),f+=2}return{value:p,binLen:8*f+r}}(e,t,r,i,n)};case"B64":return function(e,t,r){return function(e,t,n,r){let i,o,s,a,c,u,l,d=0;const h=t||[0],f=(n=n||0)>>>3,p=-1===r?3:0,v=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==v&&v<e.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<e.length;o+=4){for(c=e.substr(o,4),a=0,s=0;s<c.length;s+=1)i=te.indexOf(c.charAt(s)),a|=i<<18-6*s;for(s=0;s<c.length-1;s+=1){for(l=d+f,u=l>>>2;h.length<=u;)h.push(0);h[u]|=(a>>>16-8*s&255)<<8*(p+r*(l%4)),d+=1}}return{value:h,binLen:8*d+n}}(e,t,r,n)};case"BYTES":return function(e,t,r){return function(e,t,n,r){let i,o,s,a;const c=t||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(o=0;o<e.length;o+=1)i=e.charCodeAt(o),a=o+u,s=a>>>2,c.length<=s&&c.push(0),c[s]|=i<<8*(l+r*(a%4));return{value:c,binLen:8*e.length+n}}(e,t,r,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(te){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e,t,r){return function(e,t,n,r){return ne(new Uint8Array(e),t,n,r)}(e,t,r,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(te){throw new Error("UINT8ARRAY not supported by this environment")}return function(e,t,r){return ne(e,t,r,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function ie(e,t,n,r){switch(e){case"HEX":return function(e){return function(e,t,n,r){let i,o,s="";const a=t/8,c=-1===n?3:0;for(i=0;i<a;i+=1)o=e[i>>>2]>>>8*(c+n*(i%4)),s+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return r.outputUpper?s.toUpperCase():s}(e,t,n,r)};case"B64":return function(e){return function(e,t,n,r){let i,o,s,a,c,u="";const l=t/8,d=-1===n?3:0;for(i=0;i<l;i+=3)for(a=i+1<l?e[i+1>>>2]:0,c=i+2<l?e[i+2>>>2]:0,s=(e[i>>>2]>>>8*(d+n*(i%4))&255)<<16|(a>>>8*(d+n*((i+1)%4))&255)<<8|c>>>8*(d+n*((i+2)%4))&255,o=0;o<4;o+=1)u+=8*i+6*o<=t?te.charAt(s>>>6*(3-o)&63):r.b64Pad;return u}(e,t,n,r)};case"BYTES":return function(e){return function(e,t,n){let r,i,o="";const s=t/8,a=-1===n?3:0;for(r=0;r<s;r+=1)i=e[r>>>2]>>>8*(a+n*(r%4))&255,o+=String.fromCharCode(i);return o}(e,t,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(te){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e){return function(e,t,n){let r;const i=t/8,o=new ArrayBuffer(i),s=new Uint8Array(o),a=-1===n?3:0;for(r=0;r<i;r+=1)s[r]=e[r>>>2]>>>8*(a+n*(r%4))&255;return o}(e,t,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(te){throw new Error("UINT8ARRAY not supported by this environment")}return function(e){return function(e,t,n){let r;const i=t/8,o=-1===n?3:0,s=new Uint8Array(i);for(r=0;r<i;r+=1)s[r]=e[r>>>2]>>>8*(o+n*(r%4))&255;return s}(e,t,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const oe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],se=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],ae=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ce="Chosen SHA variant is not supported";function ue(e,t){let n,r;const i=e.binLen>>>3,o=t.binLen>>>3,s=i<<3,a=4-i<<3;if(i%4!=0){for(n=0;n<o;n+=4)r=i+n>>>2,e.value[r]|=t.value[n>>>2]<<s,e.value.push(0),e.value[r+1]|=t.value[n>>>2]>>>a;return(e.value.length<<2)-4>=o+i&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function le(e){const t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function de(e,t,n,r){const i=e+" must include a value and format";if(!t){if(!r)throw new Error(i);return r}if(void 0===t.value||!t.format)throw new Error(i);return re(t.format,t.encoding||"UTF8",n)(t.value)}class he{constructor(e,t,n){const r=n||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=e,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(e){let t,n=0;const r=this.p>>>5,i=this.m(e,this.o,this.h),o=i.binLen,s=i.value,a=o>>>5;for(t=0;t<a;t+=r)n+this.p<=o&&(this.C=this.R(s.slice(t,t+r),this.C),n+=this.p);this.l+=n,this.o=s.slice(n>>>5),this.h=o%this.p,this.u=!0}getHash(e,t){let n,r,i=this.U;const o=le(t);if(this.v){if(-1===o.outputLen)throw new Error("Output length must be specified in options");i=o.outputLen}const s=ie(e,i,this.K,o);if(this.A&&this.T)return s(this.T(o));for(r=this.F(this.o.slice(),this.h,this.l,this.g(this.C),i),n=1;n<this.numRounds;n+=1)this.v&&i%32!=0&&(r[r.length-1]&=16777215>>>24-i%32),r=this.F(r,i,0,this.B(this.s),i);return s(r)}setHMACKey(e,t,n){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const r=re(t,(n||{}).encoding||"UTF8",this.K);this.M(r(e))}M(e){const t=this.p>>>3,n=t/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.s),this.U));e.value.length<=n;)e.value.push(0);for(r=0;r<=n;r+=1)this.H[r]=909522486^e.value[r],this.S[r]=1549556828^e.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(e,t){const n=le(t);return ie(e,this.U,this.K,n)(this.k())}k(){let e;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return e=this.R(this.S,this.B(this.s)),e=this.F(t,this.U,this.p,e,this.U),e}}function fe(e,t){return e<<t|e>>>32-t}function pe(e,t){return e>>>t|e<<32-t}function ve(e,t){return e>>>t}function me(e,t,n){return e^t^n}function ge(e,t,n){return e&t^~e&n}function ye(e,t,n){return e&t^e&n^t&n}function _e(e){return pe(e,2)^pe(e,13)^pe(e,22)}function be(e,t){const n=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(n>>>16))<<16|65535&n}function we(e,t,n,r){const i=(65535&e)+(65535&t)+(65535&n)+(65535&r);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function Ee(e,t,n,r,i){const o=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&i);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16))<<16|65535&o}function Oe(e){return pe(e,7)^pe(e,18)^ve(e,3)}function Se(e){return pe(e,6)^pe(e,11)^pe(e,25)}function Ce(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function xe(e,t){let n,r,i,o,s,a,c;const u=[];for(n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],c=0;c<80;c+=1)u[c]=c<16?e[c]:fe(u[c-3]^u[c-8]^u[c-14]^u[c-16],1),a=c<20?Ee(fe(n,5),ge(r,i,o),s,1518500249,u[c]):c<40?Ee(fe(n,5),me(r,i,o),s,1859775393,u[c]):c<60?Ee(fe(n,5),ye(r,i,o),s,2400959708,u[c]):Ee(fe(n,5),me(r,i,o),s,3395469782,u[c]),s=o,o=i,i=fe(r,30),r=n,n=a;return t[0]=be(n,t[0]),t[1]=be(r,t[1]),t[2]=be(i,t[2]),t[3]=be(o,t[3]),t[4]=be(s,t[4]),t}function Ae(e,t,n,r){let i;const o=15+(t+65>>>9<<4),s=t+n;for(;e.length<=o;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[o]=4294967295&s,e[o-1]=s/4294967296|0,i=0;i<e.length;i+=16)r=xe(e.slice(i,i+16),r);return r}class ke extends he{constructor(e,t,n){if("SHA-1"!==e)throw new Error(ce);super(e,t,n);const r=n||{};this.L=!0,this.T=this.k,this.K=-1,this.m=re(this.t,this.i,this.K),this.R=xe,this.g=function(e){return e.slice()},this.B=Ce,this.F=Ae,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,r.hmacKey&&this.M(de("hmacKey",r.hmacKey,this.K))}}function Te(e){let t;return t="SHA-224"==e?se.slice():ae.slice(),t}function Ie(e,t){let n,r,i,o,s,a,c,u,l,d,h;const f=[];for(n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],h=0;h<64;h+=1)f[h]=h<16?e[h]:we(pe(p=f[h-2],17)^pe(p,19)^ve(p,10),f[h-7],Oe(f[h-15]),f[h-16]),l=Ee(u,Se(s),ge(s,a,c),oe[h],f[h]),d=be(_e(n),ye(n,r,i)),u=c,c=a,a=s,s=be(o,l),o=i,i=r,r=n,n=be(l,d);var p;return t[0]=be(n,t[0]),t[1]=be(r,t[1]),t[2]=be(i,t[2]),t[3]=be(o,t[3]),t[4]=be(s,t[4]),t[5]=be(a,t[5]),t[6]=be(c,t[6]),t[7]=be(u,t[7]),t}class Re extends he{constructor(e,t,n){if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(ce);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=re(this.t,this.i,this.K),this.R=Ie,this.g=function(e){return e.slice()},this.B=Te,this.F=function(t,n,r,i){return function(e,t,n,r,i){let o,s;const a=15+(t+65>>>9<<4),c=t+n;for(;e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[a]=4294967295&c,e[a-1]=c/4294967296|0,o=0;o<e.length;o+=16)r=Ie(e.slice(o,o+16),r);return s="SHA-224"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r,s}(t,n,r,i,e)},this.C=Te(e),this.p=512,this.U="SHA-224"===e?224:256,this.v=!1,r.hmacKey&&this.M(de("hmacKey",r.hmacKey,this.K))}}class Pe{constructor(e,t){this.Y=e,this.N=t}}function Me(e,t){let n;return t>32?(n=64-t,new Pe(e.N<<t|e.Y>>>n,e.Y<<t|e.N>>>n)):0!==t?(n=32-t,new Pe(e.Y<<t|e.N>>>n,e.N<<t|e.Y>>>n)):e}function Le(e,t){let n;return t<32?(n=32-t,new Pe(e.Y>>>t|e.N<<n,e.N>>>t|e.Y<<n)):(n=64-t,new Pe(e.N>>>t|e.Y<<n,e.Y>>>t|e.N<<n))}function Ne(e,t){return new Pe(e.Y>>>t,e.N>>>t|e.Y<<32-t)}function je(e,t,n){return new Pe(e.Y&t.Y^e.Y&n.Y^t.Y&n.Y,e.N&t.N^e.N&n.N^t.N&n.N)}function De(e){const t=Le(e,28),n=Le(e,34),r=Le(e,39);return new Pe(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function Ue(e,t){let n,r;n=(65535&e.N)+(65535&t.N),r=(e.N>>>16)+(t.N>>>16)+(n>>>16);const i=(65535&r)<<16|65535&n;return n=(65535&e.Y)+(65535&t.Y)+(r>>>16),r=(e.Y>>>16)+(t.Y>>>16)+(n>>>16),new Pe((65535&r)<<16|65535&n,i)}function qe(e,t,n,r){let i,o;i=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N),o=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(i>>>16);const s=(65535&o)<<16|65535&i;return i=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(o>>>16),o=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(i>>>16),new Pe((65535&o)<<16|65535&i,s)}function $e(e,t,n,r,i){let o,s;o=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N)+(65535&i.N),s=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(i.N>>>16)+(o>>>16);const a=(65535&s)<<16|65535&o;return o=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(65535&i.Y)+(s>>>16),s=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(i.Y>>>16)+(o>>>16),new Pe((65535&s)<<16|65535&o,a)}function Be(e,t){return new Pe(e.Y^t.Y,e.N^t.N)}function Fe(e){const t=Le(e,19),n=Le(e,61),r=Ne(e,6);return new Pe(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function Ye(e){const t=Le(e,1),n=Le(e,8),r=Ne(e,7);return new Pe(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function ze(e){const t=Le(e,14),n=Le(e,18),r=Le(e,41);return new Pe(t.Y^n.Y^r.Y,t.N^n.N^r.N)}const He=[new Pe(oe[0],3609767458),new Pe(oe[1],602891725),new Pe(oe[2],3964484399),new Pe(oe[3],2173295548),new Pe(oe[4],4081628472),new Pe(oe[5],3053834265),new Pe(oe[6],2937671579),new Pe(oe[7],3664609560),new Pe(oe[8],2734883394),new Pe(oe[9],1164996542),new Pe(oe[10],1323610764),new Pe(oe[11],3590304994),new Pe(oe[12],4068182383),new Pe(oe[13],991336113),new Pe(oe[14],633803317),new Pe(oe[15],3479774868),new Pe(oe[16],2666613458),new Pe(oe[17],944711139),new Pe(oe[18],2341262773),new Pe(oe[19],2007800933),new Pe(oe[20],1495990901),new Pe(oe[21],1856431235),new Pe(oe[22],3175218132),new Pe(oe[23],2198950837),new Pe(oe[24],3999719339),new Pe(oe[25],766784016),new Pe(oe[26],2566594879),new Pe(oe[27],3203337956),new Pe(oe[28],1034457026),new Pe(oe[29],2466948901),new Pe(oe[30],3758326383),new Pe(oe[31],168717936),new Pe(oe[32],1188179964),new Pe(oe[33],1546045734),new Pe(oe[34],1522805485),new Pe(oe[35],2643833823),new Pe(oe[36],2343527390),new Pe(oe[37],1014477480),new Pe(oe[38],1206759142),new Pe(oe[39],344077627),new Pe(oe[40],1290863460),new Pe(oe[41],3158454273),new Pe(oe[42],3505952657),new Pe(oe[43],106217008),new Pe(oe[44],3606008344),new Pe(oe[45],1432725776),new Pe(oe[46],1467031594),new Pe(oe[47],851169720),new Pe(oe[48],3100823752),new Pe(oe[49],1363258195),new Pe(oe[50],3750685593),new Pe(oe[51],3785050280),new Pe(oe[52],3318307427),new Pe(oe[53],3812723403),new Pe(oe[54],2003034995),new Pe(oe[55],3602036899),new Pe(oe[56],1575990012),new Pe(oe[57],1125592928),new Pe(oe[58],2716904306),new Pe(oe[59],442776044),new Pe(oe[60],593698344),new Pe(oe[61],3733110249),new Pe(oe[62],2999351573),new Pe(oe[63],3815920427),new Pe(3391569614,3928383900),new Pe(3515267271,566280711),new Pe(3940187606,3454069534),new Pe(4118630271,4000239992),new Pe(116418474,1914138554),new Pe(174292421,2731055270),new Pe(289380356,3203993006),new Pe(460393269,320620315),new Pe(685471733,587496836),new Pe(852142971,1086792851),new Pe(1017036298,365543100),new Pe(1126000580,2618297676),new Pe(1288033470,3409855158),new Pe(1501505948,4234509866),new Pe(1607167915,987167468),new Pe(1816402316,1246189591)];function Ke(e){return"SHA-384"===e?[new Pe(3418070365,se[0]),new Pe(1654270250,se[1]),new Pe(2438529370,se[2]),new Pe(355462360,se[3]),new Pe(1731405415,se[4]),new Pe(41048885895,se[5]),new Pe(3675008525,se[6]),new Pe(1203062813,se[7])]:[new Pe(ae[0],4089235720),new Pe(ae[1],2227873595),new Pe(ae[2],4271175723),new Pe(ae[3],1595750129),new Pe(ae[4],2917565137),new Pe(ae[5],725511199),new Pe(ae[6],4215389547),new Pe(ae[7],327033209)]}function Ve(e,t){let n,r,i,o,s,a,c,u,l,d,h,f;const p=[];for(n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],h=0;h<80;h+=1)h<16?(f=2*h,p[h]=new Pe(e[f],e[f+1])):p[h]=qe(Fe(p[h-2]),p[h-7],Ye(p[h-15]),p[h-16]),l=$e(u,ze(s),(m=a,g=c,new Pe((v=s).Y&m.Y^~v.Y&g.Y,v.N&m.N^~v.N&g.N)),He[h],p[h]),d=Ue(De(n),je(n,r,i)),u=c,c=a,a=s,s=Ue(o,l),o=i,i=r,r=n,n=Ue(l,d);var v,m,g;return t[0]=Ue(n,t[0]),t[1]=Ue(r,t[1]),t[2]=Ue(i,t[2]),t[3]=Ue(o,t[3]),t[4]=Ue(s,t[4]),t[5]=Ue(a,t[5]),t[6]=Ue(c,t[6]),t[7]=Ue(u,t[7]),t}class Ge extends he{constructor(e,t,n){if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(ce);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=re(this.t,this.i,this.K),this.R=Ve,this.g=function(e){return e.slice()},this.B=Ke,this.F=function(t,n,r,i){return function(e,t,n,r,i){let o,s;const a=31+(t+129>>>10<<5),c=t+n;for(;e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[a]=4294967295&c,e[a-1]=c/4294967296|0,o=0;o<e.length;o+=32)r=Ve(e.slice(o,o+32),r);return s="SHA-384"===i?[(r=r)[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N],s}(t,n,r,i,e)},this.C=Ke(e),this.p=1024,this.U="SHA-384"===e?384:512,this.v=!1,r.hmacKey&&this.M(de("hmacKey",r.hmacKey,this.K))}}const We=[new Pe(0,1),new Pe(0,32898),new Pe(2147483648,32906),new Pe(2147483648,2147516416),new Pe(0,32907),new Pe(0,2147483649),new Pe(2147483648,2147516545),new Pe(2147483648,32777),new Pe(0,138),new Pe(0,136),new Pe(0,2147516425),new Pe(0,2147483658),new Pe(0,2147516555),new Pe(2147483648,139),new Pe(2147483648,32905),new Pe(2147483648,32771),new Pe(2147483648,32770),new Pe(2147483648,128),new Pe(0,32778),new Pe(2147483648,2147483658),new Pe(2147483648,2147516545),new Pe(2147483648,32896),new Pe(0,2147483649),new Pe(2147483648,2147516424)],Qe=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function Xe(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=[new Pe(0,0),new Pe(0,0),new Pe(0,0),new Pe(0,0),new Pe(0,0)];return n}function Je(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=e[t].slice();return n}function Ze(e,t){let n,r,i,o;const s=[],a=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=Be(t[(r>>>1)%5][(r>>>1)/5|0],new Pe(e[r+1],e[r]));for(n=0;n<24;n+=1){for(o=Xe(),r=0;r<5;r+=1)s[r]=(c=t[r][0],u=t[r][1],l=t[r][2],d=t[r][3],h=t[r][4],new Pe(c.Y^u.Y^l.Y^d.Y^h.Y,c.N^u.N^l.N^d.N^h.N));for(r=0;r<5;r+=1)a[r]=Be(s[(r+4)%5],Me(s[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)t[r][i]=Be(t[r][i],a[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)o[i][(2*r+3*i)%5]=Me(t[r][i],Qe[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)t[r][i]=Be(o[r][i],new Pe(~o[(r+1)%5][i].Y&o[(r+2)%5][i].Y,~o[(r+1)%5][i].N&o[(r+2)%5][i].N));t[0][0]=Be(t[0][0],We[n])}var c,u,l,d,h;return t}function et(e){let t,n,r=0;const i=[0,0],o=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)n=o[t>>2]>>>8*t&255,0===n&&0===r||(i[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function tt(e){return ue(et(e.binLen),e)}function nt(e,t){let n,r=et(t);r=ue(r,e);const i=t>>>2,o=(i-r.value.length%i)%i;for(n=0;n<o;n++)r.value.push(0);return r.value}class rt extends he{constructor(e,t,n){let r=6,i=0;super(e,t,n);const o=n||{};if(1!==this.numRounds){if(o.kmacKey||o.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=re(this.t,this.i,this.K),this.R=Ze,this.g=Je,this.B=Xe,this.C=Xe(),this.v=!1,e){case"SHA3-224":this.p=i=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=i=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=i=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=i=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":r=31,this.p=i=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":r=31,this.p=i=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":r=4,this.p=i=1344,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":r=4,this.p=i=1088,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=i=1344,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=i=1088,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(ce)}this.F=function(e,t,n,o,s){return function(e,t,n,r,i,o,s){let a,c,u=0;const l=[],d=i>>>5,h=t>>>5;for(a=0;a<h&&t>=i;a+=d)r=Ze(e.slice(a,a+d),r),t-=i;for(e=e.slice(a),t%=i;e.length<d;)e.push(0);for(a=t>>>3,e[a>>2]^=o<<a%4*8,e[d-1]^=2147483648,r=Ze(e,r);32*l.length<s&&(c=r[u%5][u/5|0],l.push(c.N),!(32*l.length>=s));)l.push(c.Y),u+=1,0==64*u%i&&(Ze(null,r),u=0);return l}(e,t,0,o,i,r,s)},o.hmacKey&&this.M(de("hmacKey",o.hmacKey,this.K))}_(e,t){const n=function(e){const t=e||{};return{funcName:de("funcName",t.funcName,1,{value:[],binLen:0}),customization:de("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});t&&(n.funcName=t);const r=ue(tt(n.funcName),tt(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){const e=nt(r,this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(e){const t=function(e){const t=e||{};return{kmacKey:de("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:de("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});this._(e,t.funcName);const n=nt(tt(t.kmacKey),this.p>>>3);for(let r=0;r<n.length;r+=this.p>>>5)this.C=this.R(n.slice(r,r+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(e){const t=ue({value:this.o.slice(),binLen:this.h},function(e){let t,n,r=0;const i=[0,0],o=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)n=o[t>>2]>>>8*t&255,0===n&&0===r||(i[r>>2]|=n<<8*r,r+=1);return r=0!==r?r:1,i[r>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}(e.outputLen));return this.F(t.value,t.binLen,this.l,this.g(this.C),e.outputLen)}}var it=class{constructor(e,t,n){if("SHA-1"==e)this.O=new ke(e,t,n);else if("SHA-224"==e||"SHA-256"==e)this.O=new Re(e,t,n);else if("SHA-384"==e||"SHA-512"==e)this.O=new Ge(e,t,n);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(ce);this.O=new rt(e,t,n)}}update(e){this.O.update(e)}getHash(e,t){return this.O.getHash(e,t)}setHMACKey(e,t,n){this.O.setHMACKey(e,t,n)}getHMAC(e,t){return this.O.getHMAC(e,t)}};class ot{constructor(e,t){this.keyName=e,this.key=t}getToken(e){return this._createToken(Math.floor(Date.now()/1e3)+3600,e)}_createToken(e,t,n){t=encodeURIComponent(t);const r=encodeURIComponent(this.keyName),i=t+"\n"+e;let o;n=n||this.key,H()(n)?(o=new it("SHA-256","ARRAYBUFFER"),o.setHMACKey(n,"ARRAYBUFFER"),o.update(Y["Buffer"].from(i))):(o=new it("SHA-256","TEXT"),o.setHMACKey(n,"TEXT"),o.update(i));const s=encodeURIComponent(o.getHMAC("B64"));return{token:`SharedAccessSignature sr=${t}&sig=${s}&se=${e}&skn=${r}`,expiresOnTimestamp:e}}static fromConnectionString(e){const t=Object(o["f"])(e);return null==t.SharedAccessSignature?new ot(t.SharedAccessKeyName,t.SharedAccessKey):new st(t.SharedAccessSignature)}}class st extends ot{constructor(e){super("",""),this._accessToken={token:e,expiresOnTimestamp:0}}getToken(e){return this._accessToken}}const at=new Map([["MessagingEntityNotFoundError","MessagingEntityNotFound"],["MessageLockLostError","MessageLockLost"],["MessageNotFoundError","MessageNotFound"],["MessageTooLargeError","MessageSizeExceeded"],["MessagingEntityAlreadyExistsError","MessagingEntityAlreadyExists"],["MessagingEntityDisabledError","MessagingEntityDisabled"],["QuotaExceededError","QuotaExceeded"],["ServerBusyError","ServiceBusy"],["OperationTimeoutError","ServiceTimeout"],["ServiceCommunicationError","ServiceCommunicationProblem"],["SessionCannotBeLockedError","SessionCannotBeLocked"],["SessionLockLostError","SessionLockLost"],["UnauthorizedError","UnauthorizedAccess"]]);class ct extends w{constructor(e,t){const n="string"===typeof e?e:e.message;if(super(n),"string"===typeof e)this.code=null!==t&&void 0!==t?t:"GeneralError";else{for(const t in e)this[t]=e[t];this.code=ct.normalizeMessagingCode(e.code),"GeneralError"===this.code&&e.code&&(this.message=`${e.code}: ${this.message}`)}this.name="ServiceBusError"}static normalizeMessagingCode(e){return null!=e&&at.has(e)?at.get(e):"GeneralError"}}function ut(e){if(lt(e))return e;const t=A(e);return b(t)?new ct(t):t}function lt(e){return"ServiceBusError"===(null===e||void 0===e?void 0:e.name)}class dt{constructor(e,t,n,r,i,o){this.baseName=e,this.entityPath=t,this._linkType=r,this._logger=i,this._wasClosedPermanently=!1,this._openLock=Object(l["generate_uuid"])(),o||(o={}),this._context=n,this.address=o.address||"",this.audience=o.audience||"",this.name=Object(W["f"])(e),this._logPrefix=`[${n.connectionId}|${this._linkType}:${this.name}]`}get logPrefix(){return this._logPrefix}isOpen(){const e=!!this._link&&this._link.isOpen();return this._logger.verbose(`${this._logPrefix} is open? ${e}`),e}initLink(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){return yield this._context.readyToOpenLink(),this._logger.verbose(`${this._logPrefix} Attempting to acquire lock token ${this._openLock} for initializing link`),o["a"].acquire(this._openLock,()=>(this._logger.verbose(`${this._logPrefix} Lock ${this._openLock} acquired for initializing link`),this._initLinkImpl(e,t)))}))}_initLinkImpl(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){const n=()=>{if(null===t||void 0===t?void 0:t.aborted)throw new T["a"](W["a"])},r=this._context.connectionId;if(n(),e.name&&(this.name=e.name,this._logPrefix=`[${r}|${this._linkType}:${this.name}]`),this._wasClosedPermanently)throw this._logger.verbose(this._logPrefix+" Link has been permanently closed. Not reopening."),new T["a"]("Link has been permanently closed. Not reopening.");if(this.isOpen())this._logger.verbose(this._logPrefix+" Link is already open. Returning.");else{this._logger.verbose(this._logPrefix+" Is not open and is not currently connecting. Opening.");try{yield this._negotiateClaim(),n(),this.checkIfConnectionReady(),this._logger.verbose(this._logPrefix+" Creating with options %O",e),this._link=yield this.createRheaLink(e),n(),this._ensureTokenRenewal(),this._logger.verbose(this._logPrefix+" Link has been created.")}catch(i){throw this._logger.logError(i,this._logPrefix+" Error thrown when creating the link"),yield this.closeLinkImpl(),i}}}))}close(){return Object(r["c"])(this,void 0,void 0,(function*(){switch(this._wasClosedPermanently=!0,this._logger.verbose(this.logPrefix+" permanently closing this link."),this._linkType){case"s":delete this._context.senders[this.name];break;case"br":case"sr":delete this._context.messageReceivers[this.name];break;case"ms":delete this._context.messageSessions[this.name];break}yield this.closeLink(),this._logger.verbose(this.logPrefix+" permanently closed this link.")}))}closeLink(){return this._logger.verbose(`${this._logPrefix} Attempting to acquire lock token ${this._openLock} for closing link`),o["a"].acquire(this._openLock,()=>(this._logger.verbose(`${this._logPrefix} Lock ${this._openLock} acquired for closing link`),this.closeLinkImpl()))}closeLinkImpl(){return Object(r["c"])(this,void 0,void 0,(function*(){if(this._logger.verbose(this._logPrefix+" closeLinkImpl() called"),clearTimeout(this._tokenRenewalTimer),this._tokenRenewalTimer=void 0,this._link)try{const e=this._link;this._link=void 0,yield e.close(),this._logger.verbose(this._logPrefix+" closed.")}catch(e){this._logger.logError(e,this._logPrefix+" An error occurred while closing the link")}}))}get _type(){let e="LinkEntity";return this.constructor&&this.constructor.name&&(e=this.constructor.name),e}get wasClosedPermanently(){return this._wasClosedPermanently}get link(){return this._link}_negotiateClaim(e){return Object(r["c"])(this,void 0,void 0,(function*(){let t,n;if(this._logger.verbose(this._logPrefix+" negotiateclaim() has been called"),this.checkIfConnectionReady(),this._logger.verbose("%s Acquiring cbs lock: '%s' for creating the cbs session while creating the %s: '%s' with address: '%s'.",this.logPrefix,this._context.cbsSession.cbsLock,this._type,this.name,this.address),yield o["a"].acquire(this._context.cbsSession.cbsLock,()=>Object(r["c"])(this,void 0,void 0,(function*(){return this.checkIfConnectionReady(),this._context.cbsSession.init()}))),this._context.tokenCredential instanceof ot)t=this._context.tokenCredential.getToken(this.audience),n=G.CbsTokenTypeSas,t.expiresOnTimestamp>0&&(this._tokenTimeout=27e5);else{const e=yield this._context.tokenCredential.getToken(h.aadServiceBusScope);if(!e)throw new Error('Failed to get token from the provided "TokenCredential" object');t=e,n=G.CbsTokenTypeJwt,this._tokenTimeout=t.expiresOnTimestamp-Date.now()-12e4}if(this._logger.verbose("%s %s: calling negotiateClaim for audience '%s'.",this.logPrefix,this._type,this.audience),this._logger.verbose("%s Acquiring cbs lock: '%s' for cbs auth for %s: '%s' with address '%s'.",this.logPrefix,this._context.negotiateClaimLock,this._type,this.name,this.address),!t)throw new Error("Token cannot be null");yield o["a"].acquire(this._context.negotiateClaimLock,()=>(this.checkIfConnectionReady(),this._context.cbsSession.negotiateClaim(this.audience,t.token,n))),this._logger.verbose("%s Negotiated claim for %s '%s' with with address: %s",this.logPrefix,this._type,this.name,this.address),e&&this._ensureTokenRenewal()}))}checkIfConnectionReady(){if(!this._context.isConnectionClosing())return;this._logger.verbose(this._logPrefix+" Connection is reopening, aborting link initialization.");const e=new ct("Connection is reopening, aborting link initialization.","GeneralError");throw e.retryable=!0,e}_ensureTokenRenewal(){this._tokenTimeout&&(this._tokenRenewalTimer&&clearTimeout(this._tokenRenewalTimer),this._tokenRenewalTimer=setTimeout(()=>Object(r["c"])(this,void 0,void 0,(function*(){try{yield this._negotiateClaim(!0)}catch(e){this._logger.logError(e,"%s %s '%s' with address %s, an error occurred while renewing the token",this.logPrefix,this._type,this.name,this.address)}})),this._tokenTimeout),this._logger.verbose("%s %s '%s' with address %s, has next token renewal in %d milliseconds @(%s).",this.logPrefix,this._type,this.name,this.address,this._tokenTimeout,new Date(Date.now()+this._tokenTimeout).toString()))}}const ht="The queue or topic name provided does not match the EntityPath in the connection string passed to the ServiceBusClient constructor.",ft="'maxMessageCount' must be a number greater than 0.";function pt(e){if(e&&e.wasConnectionCloseCalled){const t="The underlying AMQP connection is closed.",n=new Error(t);throw c["c"].warning(`[${e.connectionId}] %O`,n),n}}function vt(e){return`The sender for "${e}" has been closed and can no longer be used. Please create a new sender using the "createSender" method on the ServiceBusClient.`}function mt(e,t){return void 0==t?`The receiver for "${e}" has been closed and can no longer be used. Please create a new receiver using the "createReceiver" method on the ServiceBusClient.`:`The receiver for session "${t}" in "${e}" has been closed and can no longer be used. Please create a new receiver using the "acceptSession" or "acceptNextSession" method on the ServiceBusClient.`}function gt(e,t){return void 0==t?`The receiver for "${e}" is already receiving messages.`:`The receiver for session "${t}" for "${e}" is already receiving messages.`}function yt(e,t,n){if(void 0===n||null===n){const n=new TypeError(`Missing parameter "${t}"`);throw c["c"].warning(`[${e}] %O`,n),n}}function _t(e,t,n,r){if(typeof n!==r){const n=new TypeError(`The parameter "${t}" should be of type "${r}"`);throw c["c"].warning(`[${e}] %O`,n),n}}function bt(e,t,n){if(Array.isArray(n))return wt(e,t,n);if(q.a.isLong(n))return;const r=new TypeError(`The parameter "${t}" should be of type "Long"`);throw c["c"].warning(`[${e}] %O`,r),r}function wt(e,t,n){if(n.every(e=>q.a.isLong(e)))return;const r=new TypeError(`The parameter "${t}" should be an array of type "Long"`);throw c["c"].warning(`[${e}] %O`,r),r}function Et(e,t,n){if(""!==n)return;const r=new TypeError(`Empty string not allowed in parameter "${t}"`);throw c["c"].warning(`[${e}] %O`,r),r}const Ot="The operation is not supported in 'receiveAndDelete' receive mode.",St="This operation is not supported for peeked messages. Only messages received using 'receiveMessages()', 'subscribe()' and 'getMessageIterator()' methods on the receiver in 'peekLock' receive mode can be settled.",Ct="The message has either been deleted or already settled";function xt(e,t,n){let r;if("receiveAndDelete"===t?r=new Error(Ot):e.lockToken||(r=new Error(St)),r)throw c["f"].logError(r,"[%s] An error occurred for message with id '%s'",n,e.messageId),r}const At="The fields 'partitionKey' and 'sessionId' cannot have different values.";function kt(e,t){if(!Z(e))throw new TypeError(t);if(e.partitionKey&&e.sessionId&&e.partitionKey!==e.sessionId)throw new TypeError(At)}const Tt=["correlationId","messageId","to","replyTo","subject","sessionId","replyToSessionId","contentType","applicationProperties"];class It extends dt{constructor(e,t,n){super(t+"/$management",t,e,"mgmt",c["d"],{address:n&&n.address?n.address:h.management,audience:n&&n.audience?n.audience:`${e.config.endpoint}${t}/$management`}),this.replyTo=Object(l["generate_uuid"])(),this._lastPeekedSequenceNumber=q.a.ZERO,this._context=e}_init(e){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{const t={source:{address:this.address},name:this.replyTo,target:{address:this.replyTo},onSessionError:e=>{const t=ut(e.session.error);c["d"].logError(t,this.logPrefix+" An error occurred on the session for request/response links for $management")}},n={target:{address:this.address},onError:e=>{const t=ut(e.sender.error);c["d"].logError(t,this.logPrefix+" An error occurred on the $management sender link")}};yield this.initLink({senderOptions:n,receiverOptions:t},e)}catch(t){throw t=ut(t),c["d"].logError(t,this.logPrefix+" An error occurred while establishing the $management links"),t}}))}createRheaLink(e){return Object(r["c"])(this,void 0,void 0,(function*(){const t=yield I.create(this._context.connection,e.senderOptions,e.receiverOptions);return t.receiver.on(l["ReceiverEvents"].receiverError,e=>{const t=ut(e.receiver.error);c["d"].logError(t,this.logPrefix+" An error occurred on the $management receiver link")}),t}))}_safelyGetTypedValueFromArray(e,t){return Array.isArray(e)&&e.length>t&&e[t]?e[t].value:void 0}_makeManagementRequest(e,t,n={}){var i;return Object(r["c"])(this,void 0,void 0,(function*(){const r=null!==(i=n.timeoutInMs)&&void 0!==i?i:h.defaultOperationTimeoutInMs,o=Date.now(),s=()=>{const t=`The request with message_id "${e.message_id}" timed out. Please try again later.`,n={name:"OperationTimeoutError",message:t};throw n},a=setTimeout(s,r);t.verbose(this.logPrefix+" Acquiring lock to get the management req res link.");try{this.isOpen()||(yield this._init(null===n||void 0===n?void 0:n.abortSignal))}finally{clearTimeout(a)}const c=Date.now()-o;n.timeoutInMs=r-c;try{return e.message_id||(e.message_id=Object(l["generate_uuid"])()),yield this.link.sendRequest(e,n)}catch(u){throw u=ut(u),t.logError(u,"%s An error occurred during send on management request-response link with address '%s': %O",this.logPrefix,this.address,u),u}}))}close(){return Object(r["c"])(this,void 0,void 0,(function*(){try{yield this.closeLink(),c["d"].verbose("Successfully closed the management session.")}catch(e){throw c["d"].logError(e,this.logPrefix+" An error occurred while closing the management session"),e}}))}peek(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){return pt(this._context),this.peekBySequenceNumber(this._lastPeekedSequenceNumber.add(1),e,void 0,t)}))}peekMessagesBySession(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){return pt(this._context),this.peekBySequenceNumber(this._lastPeekedSequenceNumber.add(1),t,e,n)}))}peekBySequenceNumber(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);const r=this._context.connectionId;if(yt(r,"fromSequenceNumber",e),bt(r,"fromSequenceNumber",e),yt(this._context.connectionId,"maxMessageCount",t),_t(this._context.connectionId,"maxMessageCount",t,"number"),isNaN(t)||t<1)throw new TypeError(ft);const o=[];try{const r={};r[h.fromSequenceNumber]=l["types"].wrap_long(Y["Buffer"].from(e.toBytesBE())),r[h.messageCount]=l["types"].wrap_int(t),void 0!=n&&(r[h.sessionIdMapKey]=n);const s={body:r,reply_to:this.replyTo,application_properties:{operation:h.operations.peekMessage}};(null===i||void 0===i?void 0:i.associatedLinkName)&&(s.application_properties[h.associatedLinkName]=null===i||void 0===i?void 0:i.associatedLinkName),s.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["f"].verbose("%s Peek by sequence number request body: %O.",this.logPrefix,s.body);const a=yield this._makeManagementRequest(s,c["f"],i);if(204!==a.application_properties.statusCode){const e=a.body.messages;for(const t of e){const e=l["message"].decode(t.message),n=J(e);n.body=K.decode(n.body),o.push(n),this._lastPeekedSequenceNumber=n.sequenceNumber}}}catch(s){const e=ut(s);if(c["f"].logError(e,this.logPrefix+" An error occurred while sending the request to peek messages to $management endpoint"),e.code!==g["com.microsoft:message-not-found"])throw e}return o}))}renewLock(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context),t||(t={}),null==t.timeoutInMs&&(t.timeoutInMs=5e3);try{const n={};n[h.lockTokens]=l["types"].wrap_array([Object(l["string_to_uuid"])(e)],152,void 0);const r={body:n,reply_to:this.replyTo,application_properties:{operation:h.operations.renewLock}};r.application_properties[h.trackingId]=Object(l["generate_uuid"])(),t.associatedLinkName&&(r.application_properties[h.associatedLinkName]=t.associatedLinkName),c["f"].verbose("[%s] Renew message Lock request: %O.",this._context.connectionId,r);const i=yield this._makeManagementRequest(r,c["f"],{abortSignal:null===t||void 0===t?void 0:t.abortSignal,requestName:"renewLock"}),o=new Date(i.body.expirations[0]);return o}catch(n){const e=ut(n);throw c["f"].logError(e,this.logPrefix+" An error occurred while sending the renew lock request to $management endpoint"),e}}))}scheduleMessages(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){if(pt(this._context),!t.length)return[];const r=[];for(let n=0;n<t.length;n++){const o=t[n];o.messageId||(o.messageId=Object(l["generate_uuid"])()),o.scheduledEnqueueTimeUtc=e;const s=X(o);s.body=K.encode(s.body);try{const e={message:l["message"].encode(s),"message-id":o.messageId};o.sessionId&&(e[h.sessionIdMapKey]=o.sessionId),o.partitionKey&&(e["partition-key"]=o.partitionKey);const t=l["types"].wrap_map(e);r.push(t)}catch(i){let e;throw e=i instanceof TypeError||"TypeError"===i.name?ut(Q(o)||i):ut(i),c["g"].logError(e,`${this.logPrefix} An error occurred while encoding the item at position ${n} in the messages array`),e}}try{const e={body:{messages:r},reply_to:this.replyTo,application_properties:{operation:h.operations.scheduleMessage}};(null===n||void 0===n?void 0:n.associatedLinkName)&&(e.application_properties[h.associatedLinkName]=null===n||void 0===n?void 0:n.associatedLinkName),e.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["g"].verbose("%s Schedule messages request body: %O.",this.logPrefix,e.body);const t=yield this._makeManagementRequest(e,c["g"],n),i=t.body[h.sequenceNumbers],o=[];for(let n=0;n<i.length;n++)"number"===typeof i[n]?o.push(q.a.fromNumber(i[n])):o.push(q.a.fromBytesBE(i[n]));return o}catch(i){const e=ut(i);throw c["g"].logError(e,this.logPrefix+" An error occurred while sending the request to schedule messages to $management endpoint"),e}}))}cancelScheduledMessages(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){if(pt(this._context),!e.length)return;const n={};n[h.sequenceNumbers]=[];for(let t=0;t<e.length;t++){const i=e[t];try{n[h.sequenceNumbers].push(Y["Buffer"].from(i.toBytesBE()))}catch(r){const e=ut(r);throw c["g"].logError(e,`${this.logPrefix} An error occurred while encoding the item at position ${t} in the sequenceNumbers array`),e}}try{n[h.sequenceNumbers]=l["types"].wrap_array(n[h.sequenceNumbers],129,void 0);const e={body:n,reply_to:this.replyTo,application_properties:{operation:h.operations.cancelScheduledMessage}};return(null===t||void 0===t?void 0:t.associatedLinkName)&&(e.application_properties[h.associatedLinkName]=null===t||void 0===t?void 0:t.associatedLinkName),e.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["g"].verbose("%s Cancel scheduled messages request body: %O.",this.logPrefix,e.body),void(yield this._makeManagementRequest(e,c["g"],t))}catch(r){const e=ut(r);throw c["g"].logError(e,this.logPrefix+" An error occurred while sending the request to cancel the scheduled message to $management endpoint"),e}}))}receiveDeferredMessages(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){if(pt(this._context),!e.length)return[];const r=[],o={};o[h.sequenceNumbers]=[];for(let t=0;t<e.length;t++){const n=e[t];try{o[h.sequenceNumbers].push(Y["Buffer"].from(n.toBytesBE()))}catch(s){const e=ut(s);throw c["f"].logError(e,`${this.logPrefix} An error occurred while encoding the item at position ${t} in the sequenceNumbers array`),e}}try{o[h.sequenceNumbers]=l["types"].wrap_array(o[h.sequenceNumbers],129,void 0);const e="receiveAndDelete"===t?0:1;o[h.receiverSettleMode]=l["types"].wrap_uint(e),null!=n&&(o[h.sessionIdMapKey]=n);const s={body:o,reply_to:this.replyTo,application_properties:{operation:h.operations.receiveBySequenceNumber}};(null===i||void 0===i?void 0:i.associatedLinkName)&&(s.application_properties[h.associatedLinkName]=null===i||void 0===i?void 0:i.associatedLinkName),s.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["f"].verbose("%s Receive deferred messages request body: %O.",this.logPrefix,s.body);const a=yield this._makeManagementRequest(s,c["f"],i),u=a.body.messages;for(const n of u){const e=l["message"].decode(n.message),i=new ee(e,{tag:n["lock-token"]},!1,t);r.push(i)}return r}catch(s){const e=ut(s);throw c["f"].logError(e,this.logPrefix+" An error occurred while sending the request to receive deferred messages to $management endpoint"),e}}))}updateDispositionStatus(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context),n||(n={});try{let r;if(t===V.abandon)r="abandoned";else if(t===V.complete)r="completed";else if(t===V.defer)r="defered";else{if(t!==V.deadletter)throw new Error(`Provided "dispositionType" - ${t} is invalid`);r="suspended"}const i={},o=[];o.push(Object(l["string_to_uuid"])(e)),i[h.lockTokens]=l["types"].wrap_array(o,152,void 0),i[h.dispositionStatus]=r,null!=n.deadLetterDescription&&(i[h.deadLetterDescription]=n.deadLetterDescription),null!=n.deadLetterReason&&(i[h.deadLetterReason]=n.deadLetterReason),null!=n.propertiesToModify&&(i[h.propertiesToModify]=n.propertiesToModify),null!=n.sessionId&&(i[h.sessionIdMapKey]=n.sessionId);const s={body:i,reply_to:this.replyTo,application_properties:{operation:h.operations.updateDisposition}};n.associatedLinkName&&(s.application_properties[h.associatedLinkName]=n.associatedLinkName),s.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["f"].verbose("%s Update disposition status request body: %O.",this.logPrefix,s.body),yield this._makeManagementRequest(s,c["f"],n)}catch(r){const e=ut(r);throw c["f"].logError(e,this.logPrefix+" An error occurred while sending the request to update disposition status to $management endpoint"),e}}))}renewSessionLock(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{const n={};n[h.sessionIdMapKey]=e;const r={body:n,reply_to:this.replyTo,application_properties:{operation:h.operations.renewSessionLock}};r.application_properties[h.trackingId]=Object(l["generate_uuid"])(),(null===t||void 0===t?void 0:t.associatedLinkName)&&(r.application_properties[h.associatedLinkName]=null===t||void 0===t?void 0:t.associatedLinkName),c["f"].verbose("%s Renew Session Lock request body: %O.",this.logPrefix,r.body);const i=yield this._makeManagementRequest(r,c["f"],t),o=new Date(i.body.expiration);return c["f"].verbose("%s Lock for session '%s' will expire at %s.",this.logPrefix,e,o.toString()),o}catch(n){const e=ut(n);throw c["f"].logError(e,this.logPrefix+" An error occurred while sending the renew lock request to $management endpoint"),e}}))}setSessionState(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{const r={};r[h.sessionIdMapKey]=e,r["session-state"]=Object(W["h"])(t);const i={body:r,reply_to:this.replyTo,application_properties:{operation:h.operations.setSessionState}};(null===n||void 0===n?void 0:n.associatedLinkName)&&(i.application_properties[h.associatedLinkName]=null===n||void 0===n?void 0:n.associatedLinkName),i.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["f"].verbose("%s Set Session state request body: %O.",this.logPrefix,i.body),yield this._makeManagementRequest(i,c["f"],n)}catch(r){const e=ut(r);throw c["f"].logError(e,this.logPrefix+" An error occurred while sending the renew lock request to $management endpoint"),e}}))}getSessionState(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{const n={};n[h.sessionIdMapKey]=e;const r={body:n,reply_to:this.replyTo,application_properties:{operation:h.operations.getSessionState}};(null===t||void 0===t?void 0:t.associatedLinkName)&&(r.application_properties[h.associatedLinkName]=null===t||void 0===t?void 0:t.associatedLinkName),r.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["f"].verbose("%s Get session state request body: %O.",this.logPrefix,r.body);const i=yield this._makeManagementRequest(r,c["f"],t);return i.body["session-state"]?K.decode(i.body["session-state"]):i.body["session-state"]}catch(n){const e=ut(n);throw c["f"].logError(e,this.logPrefix+" An error occurred while sending the renew lock request to $management endpoint"),e}}))}listMessageSessions(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);const r=2592e5;if("number"!==typeof e)throw new Error("'skip' is a required parameter and must be of type 'number'.");if("number"!==typeof t)throw new Error("'top' is a required parameter and must be of type 'number'.");if(n&&!(n instanceof Date))throw new Error("'lastUpdatedTime' must be of type 'Date'.");n||(n=new Date(Date.now()-r));try{const r={};r["last-updated-time"]=n,r["skip"]=l["types"].wrap_int(e),r["top"]=l["types"].wrap_int(t);const o={body:r,reply_to:this.replyTo,application_properties:{operation:h.operations.enumerateSessions}};o.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["d"].verbose("%s List sessions request body: %O.",this.logPrefix,o.body);const s=yield this._makeManagementRequest(o,c["d"],i);return s&&s.body&&s.body["sessions-ids"]||[]}catch(o){const e=ut(o);throw c["d"].logError(e,this.logPrefix+" An error occurred while sending the renew lock request to $management endpoint"),e}}))}getRules(e){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{const t={body:{top:l["types"].wrap_int(u["b"]),skip:l["types"].wrap_int(0)},reply_to:this.replyTo,application_properties:{operation:h.operations.enumerateRules}};t.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["d"].verbose("%s Get rules request body: %O.",this.logPrefix,t.body);const n=yield this._makeManagementRequest(t,c["d"],e);if(204===n.application_properties.statusCode||!n.body||!Array.isArray(n.body.rules))return[];const r=n.body.rules||[],i=[];return r.forEach(e=>{const t=e["rule-description"];if(!t||!t.descriptor||t.descriptor.value!==h.descriptorCodes.ruleDescriptionList||!Array.isArray(t.value)||t.value.length<3)return;const n=t.value[0],r=t.value[1],o={name:t.value[2].value};switch(n.descriptor.value){case h.descriptorCodes.trueFilterList:o.filter="1=1";break;case h.descriptorCodes.falseFilterList:o.filter="1=0";break;case h.descriptorCodes.sqlFilterList:o.filter=this._safelyGetTypedValueFromArray(n.value,0);break;case h.descriptorCodes.correlationFilterList:o.filter={correlationId:this._safelyGetTypedValueFromArray(n.value,0),messageId:this._safelyGetTypedValueFromArray(n.value,1),to:this._safelyGetTypedValueFromArray(n.value,2),replyTo:this._safelyGetTypedValueFromArray(n.value,3),subject:this._safelyGetTypedValueFromArray(n.value,4),sessionId:this._safelyGetTypedValueFromArray(n.value,5),replyToSessionId:this._safelyGetTypedValueFromArray(n.value,6),contentType:this._safelyGetTypedValueFromArray(n.value,7),applicationProperties:this._safelyGetTypedValueFromArray(n.value,8)};break;default:c["d"].warning(`${this.logPrefix} Found unexpected descriptor code for the filter: ${n.descriptor.value}`);break}r.descriptor.value===h.descriptorCodes.sqlRuleActionList&&Array.isArray(r.value)&&r.value.length&&(o.action=this._safelyGetTypedValueFromArray(r.value,0)),i.push(o)}),i}catch(t){const e=ut(t);throw c["d"].logError(e,this.logPrefix+" An error occurred while sending the get rules request to $management endpoint"),e}}))}removeRule(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context),yt(this._context.connectionId,"ruleName",e),e=String(e),Et(this._context.connectionId,"ruleName",e);try{const n={body:{"rule-name":l["types"].wrap_string(e)},reply_to:this.replyTo,application_properties:{operation:h.operations.removeRule}};n.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["d"].verbose("%s Remove Rule request body: %O.",this.logPrefix,n.body),yield this._makeManagementRequest(n,c["d"],t)}catch(n){const e=ut(n);throw c["d"].logError(e,this.logPrefix+" An error occurred while sending the remove rule request to $management endpoint"),e}}))}addRule(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){if(pt(this._context),yt(this._context.connectionId,"ruleName",e),e=String(e),Et(this._context.connectionId,"ruleName",e),yt(this._context.connectionId,"filter",t),"boolean"!==typeof t&&"string"!==typeof t&&!Tt.some(e=>t.hasOwnProperty(e)))throw new TypeError('The parameter "filter" should be either a boolean, string or implement the CorrelationRuleFilter interface.');try{const r={};switch(typeof t){case"boolean":r["sql-filter"]={expression:t?"1=1":"1=0"};break;case"string":r["sql-filter"]={expression:t};break;default:r["correlation-filter"]={"correlation-id":t.correlationId,"message-id":t.messageId,to:t.to,"reply-to":t.replyTo,subject:t.subject,"session-id":t.sessionId,"reply-to-session-id":t.replyToSessionId,"content-type":t.contentType,applicationProperties:t.applicationProperties};break}void 0!==n&&(r["sql-rule-action"]={expression:String(n)});const o={body:{"rule-name":l["types"].wrap_string(e),"rule-description":l["types"].wrap_map(r)},reply_to:this.replyTo,application_properties:{operation:h.operations.addRule}};o.application_properties[h.trackingId]=Object(l["generate_uuid"])(),c["d"].verbose("%s Add Rule request body: %O.",this.logPrefix,o.body),yield this._makeManagementRequest(o,c["d"],i)}catch(r){const e=ut(r);throw c["d"].logError(e,this.logPrefix+" An error occurred while sending the Add rule request to $management endpoint"),e}}))}}function Rt(){const e=window.navigator,t={key:"OS",value:(e.oscpu||e.platform).replace(" ","")};return`${t.key}/${t.value}`}var Pt;function Mt(e,t,n){var r,i;const o=s.create(e);return o.webSocket=null===(r=null===n||void 0===n?void 0:n.webSocketOptions)||void 0===r?void 0:r.webSocket,o.webSocketEndpointPath="$servicebus/websocket",o.webSocketConstructorOptions=null===(i=null===n||void 0===n?void 0:n.webSocketOptions)||void 0===i?void 0:i.webSocketConstructorOptions,Pt.create(o,t,n)}function Lt(e,t={}){const n=ot.fromConnectionString(e);return Mt(e,n,t)}function Nt(e,t,n={}){if("string"!==typeof t)throw new TypeError("`host` parameter is not a string");t.endsWith("/")||(t+="/");const r=`Endpoint=sb://${t};SharedAccessKeyName=defaultKeyName;SharedAccessKey=defaultKeyValue;`;return Mt(r,e,n)}(function(e){function t(e,t,n){var i;n||(n={});const s=`${Object(W["e"])(null===(i=n.userAgentOptions)||void 0===i?void 0:i.userAgentPrefix)} ${Rt()}`,a={config:e,isEntityPathRequired:!1,connectionProperties:{product:"MSJSClient",userAgent:s,version:u["c"].version}},d=D.create(a);let f,p;d.tokenCredential=t,d.senders={},d.messageReceivers={},d.messageSessions={},d.managementClients={},Object.assign(d,{isConnectionClosing(){return Boolean(!this.connection.isOpen()&&this.connection.isRemoteOpen())},readyToOpenLink(){return Object(r["c"])(this,void 0,void 0,(function*(){c["a"].verbose(`[${this.connectionId}] Waiting until the connection is ready to open link.`),this.isConnectionClosing()&&(c["a"].verbose(`[${this.connectionId}] Connection is closing, waiting for disconnected event`),yield this.waitForDisconnectedEvent()),yield this.waitForConnectionReset(),c["a"].verbose(`[${this.connectionId}] Connection is ready to open link.`)}))},waitForDisconnectedEvent(){return new Promise(e=>{c["a"].verbose(`[${this.connectionId}] Attempting to reinitialize connection but the connection is in the process of closing. Waiting for the disconnect event before continuing.`),this.connection.once(l["ConnectionEvents"].disconnected,e)})},waitForConnectionReset(){return p?(c["a"].verbose(`[${this.connectionId}] Waiting for connection reset`),p):(c["a"].verbose(`[${this.connectionId}] Connection not waiting to be reset. Resolving immediately.`),Promise.resolve())},getReceiverFromCache(e,t){if(null!=t&&this.messageSessions[e])return this.messageSessions[e];if(this.messageReceivers[e])return this.messageReceivers[e];let n="";if(null!=t){for(const r of Object.keys(this.messageSessions))if(this.messageSessions[r].sessionId===t){n=this.messageSessions[r].name;break}}else n+=(n?", ":"")+Object.keys(this.messageReceivers).join(",");c["a"].verbose("[%s] Failed to find receiver '%s' among existing receivers: %s",this.connectionId,e,n)},getManagementClient(e){return this.managementClients[e]||(this.managementClients[e]=new It(this,e,{address:e+"/$management"})),this.managementClients[e]}});const v=()=>{d.wasConnectionCloseCalled=!1,c["a"].verbose("[%s] setting 'wasConnectionCloseCalled' property of connection context to %s.",d.connection.id,d.wasConnectionCloseCalled)},m=e=>Object(r["c"])(this,void 0,void 0,(function*(){if(p)return;p=new Promise(e=>{f=e});const t=e.connection&&e.connection.error?e.connection.error:void 0;t&&c["a"].logError(t,"[%s] Error (context.connection.error) occurred on the amqp connection",d.connection.id);const n=e.error;n&&c["a"].logError(n,"[%s] Error (context.error) occurred on the amqp connection",d.connection.id);const r={wasConnectionCloseCalled:d.wasConnectionCloseCalled,numSenders:Object.keys(d.senders).length,numReceivers:Object.keys(d.messageReceivers).length+Object.keys(d.messageSessions).length};d.connection.removeAllSessions(),yield d.cbsSession.close();for(const e of Object.keys(d.managementClients))yield d.managementClients[e].close();if(!r.wasConnectionCloseCalled&&r.numSenders){c["a"].verbose(`[${d.connection.id}] connection.close() was not called from the sdk and there were ${r.numSenders} senders. We should not reconnect.`);const e=[];for(const t of Object.keys(d.senders)){const n=d.senders[t];n&&(c["a"].verbose("[%s] calling detached on sender '%s'.",d.connection.id,n.name),e.push(n.onDetached().catch(e=>{c["a"].logError(e,"[%s] An error occurred while calling onDetached() the sender '%s'",d.connection.id,n.name)})))}yield Promise.all(e)}if(yield _(d),f(),p=void 0,c["a"].verbose("[%s] state: %O",d.connectionId,r),!r.wasConnectionCloseCalled&&r.numReceivers){c["a"].verbose(`[${d.connection.id}] connection.close() was not called from the sdk and there were ${r.numReceivers} receivers. We should reconnect.`),yield Object(o["b"])(h.connectionReconnectDelay);const e=[];for(const r of Object.keys(d.messageReceivers)){const i=d.messageReceivers[r];i&&(c["a"].verbose("[%s] calling detached on %s receiver '%s'.",d.connection.id,i.receiverType,i.name),e.push(i.onDetached(t||n).catch(e=>{c["a"].logError(e,"[%s] An error occurred while calling onDetached() on the %s receiver '%s'",d.connection.id,i.receiverType,i.name)})))}yield Promise.all(e)}})),g=e=>Object(r["c"])(this,void 0,void 0,(function*(){e.connection&&e.connection.error&&c["a"].logError(e.connection.error,"[%s] Error (context.connection.error) occurred on the amqp connection",d.connection.id),e.error&&c["a"].logError(e.error,"[%s] Error (context.error) occurred on the amqp connection",d.connection.id)})),y=e=>Object(r["c"])(this,void 0,void 0,(function*(){e.connection&&e.connection.error&&c["a"].logError(e.connection.error,"[%s] Error (context.connection.error) occurred on the amqp connection",d.connection.id),e.error&&c["a"].logError(e.error,"[%s] Error (context.error) occurred on the amqp connection",d.connection.id)}));function _(e){return Object(r["c"])(this,void 0,void 0,(function*(){const t=e.connectionId;try{yield w(e)}catch(n){c["a"].logError(n,`[${e.connectionId}] There was an error closing the connection before reconnecting`)}e.refreshConnection(),b(e.connection),c["a"].verbose(`The connection "${t}" has been updated to "${e.connectionId}".`)}))}function b(e){e.on(l["ConnectionEvents"].connectionOpen,v),e.on(l["ConnectionEvents"].disconnected,m),e.on(l["ConnectionEvents"].protocolError,g),e.on(l["ConnectionEvents"].error,y)}function w(e){return Object(r["c"])(this,void 0,void 0,(function*(){e.connection.removeListener(l["ConnectionEvents"].connectionOpen,v),e.connection.removeListener(l["ConnectionEvents"].disconnected,m),e.connection.removeListener(l["ConnectionEvents"].protocolError,g),e.connection.removeListener(l["ConnectionEvents"].error,y),yield e.connection.close()}))}return b(d.connection),c["a"].verbose("[%s] Created connection context successfully.",d.connectionId),d}function n(e){return Object(r["c"])(this,void 0,void 0,(function*(){const t=`[${e.connectionId}]`;try{c["a"].verbose(t+" Permanently closing the amqp connection on the client.");const n=Object.keys(e.senders);c["a"].verbose(`${t} Permanently closing ${n.length} senders.`);for(const t of n)yield e.senders[t].close();const r=Object.keys(e.messageReceivers);c["a"].verbose(`${t} Permanently closing ${r.length} receivers.`);for(const t of r)yield e.messageReceivers[t].close();const i=Object.keys(e.messageSessions);c["a"].verbose(`${t} Permanently closing ${i.length} session receivers.`);for(const t of i)yield e.messageSessions[t].close();const o=Object.keys(e.managementClients);c["a"].verbose(`${t} Permanently closing ${o.length} session receivers.`);for(const t of o)yield e.managementClients[t].close();c["a"].verbose(t+" Permanently closing cbsSession"),yield e.cbsSession.close(),c["a"].verbose(t+" Permanently closing internal connection"),yield e.connection.close(),e.wasConnectionCloseCalled=!0,c["a"].verbose(`[${t} Permanently closed the amqp connection on the client.`)}catch(n){const e=n instanceof Error?n:new Error(JSON.stringify(n));throw c["a"].logError(n,t+" An error occurred while closing the connection"),e}}))}e.create=t,e.close=n})(Pt||(Pt={}));var jt=n("d009"),Dt=function(){function e(){}return e.prototype.context=function(){return{spanId:"",traceId:"",traceFlags:jt["TraceFlags"].NONE}},e.prototype.end=function(e){},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.isRecording=function(){return!1},e}(),Ut=function(){function e(){}return e.prototype.startSpan=function(e,t){return new Dt},e.prototype.getCurrentSpan=function(){return new Dt},e.prototype.withSpan=function(e,t){return t()},e.prototype.bind=function(e,t){return e},e}();function qt(){return self}var $t,Bt,Ft,Yt,zt=3,Ht=Symbol.for("@azure/core-tracing.tracerCache2");function Kt(){var e=qt(),t=e[Ht],n=!0;if(t)if(t.version===zt)$t=t;else if(n=!1,t.tracer)throw new Error("Two incompatible versions of @azure/core-tracing have been loaded.\n          This library is "+zt+", existing is "+t.version+".");$t||($t={tracer:void 0,version:zt}),n&&(e[Ht]=$t)}function Vt(){return $t||Kt(),$t}function Gt(){return Bt||(Bt=new Ut),Bt}function Wt(){var e=Vt();return e.tracer?e.tracer:Gt()}function Qt(e){var t;return null===(t=null===e||void 0===e?void 0:e.spanOptions)||void 0===t?void 0:t.parent}function Xt(e,t=[],n,r){const i=t.map(e=>({context:e})),o=Wt(),s=o.startSpan("Azure.ServiceBus.send",{kind:jt["SpanKind"].CLIENT,parent:e,links:i});return s.setAttribute("az.namespace","Microsoft.ServiceBus"),s.setAttribute("message_bus.destination",n),s.setAttribute("peer.address",r),s}function Jt(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){try{const n=yield e();return t.setStatus({code:jt["CanonicalCode"].OK}),n}catch(n){throw t.setStatus({code:jt["CanonicalCode"].UNKNOWN,message:n.message}),n}finally{t.end()}}))}function Zt(e,t,n){if(t){const r=t.id,i=t.remote_state,o=t.remote_settled;if(c["f"].verbose("%s Delivery with id %d, remote_settled: %s, remote_state: %o has been received.",e,r,o,i&&i.error?i.error:i),o&&n.has(r)){const t=n.get(r);clearTimeout(t.timer),c["f"].verbose("%s Found the delivery with id %d in the map and cleared the timer.",e,r);const o=n.delete(r);if(c["f"].verbose("%s Successfully deleted the delivery with id %d from the map.",e,r,o),i&&i.error&&(i.error.condition||i.error.description)){const e=ut(i.error);return t.reject(e)}return t.resolve()}}}class en extends dt{constructor(e,t,n,r){super(t,t,e,n,c["f"],{address:t,audience:`${e.config.endpoint}${t}`}),this._deliveryDispositionMap=new Map,this.receiverType=n,this.receiveMode=r.receiveMode||"peekLock",this.autoComplete=!1!==r.autoCompleteMessages||r.autoCompleteMessages,this._lockRenewer=r.lockRenewer}_createReceiverOptions(e,t){const n=Object.assign({name:e?Object(W["f"])(this.baseName):this.name,autoaccept:"receiveAndDelete"===this.receiveMode,rcv_settle_mode:"receiveAndDelete"===this.receiveMode?0:1,snd_settle_mode:"receiveAndDelete"===this.receiveMode?1:0,source:{address:this.address},credit_window:0,onSettled:e=>Zt(this.logPrefix,e.delivery,this._deliveryDispositionMap)},t);return n}_init(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){try{yield this.initLink(e,t),this._context.messageReceivers[this.name]=this}catch(n){throw n=ut(n),c["f"].logError(n,"%s An error occured while creating the receiver",this.logPrefix),"OperationTimeoutError"===n.code&&(n.message="Failed to create a receiver within allocated time and retry attempts."),n}}))}createRheaLink(e,t){return this._context.connection.createReceiver(e)}close(){const e=Object.create(null,{close:{get:()=>super.close}});var t;return Object(r["c"])(this,void 0,void 0,(function*(){null===(t=this._lockRenewer)||void 0===t||t.stopAll(this),yield e.close.call(this)}))}settleMessage(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){return new Promise((r,i)=>{var o;if(n||(n={}),null==t.match(/^(complete|abandon|defer|deadletter)$/))return i(new Error(`operation: '${t}' is not a valid operation.`));null===(o=this._lockRenewer)||void 0===o||o.stop(this,e);const s=e.delivery,a=setTimeout(()=>{this._deliveryDispositionMap.delete(s.id),c["f"].verbose("%s Disposition for delivery id: %d, did not complete in %d milliseconds. Hence rejecting the promise with timeout error.",this.logPrefix,s.id,h.defaultOperationTimeoutInMs);const e={condition:y.ServiceUnavailableError,description:"Operation to settle the message has timed out. The disposition of the message may or may not be successful"};return i(ut(e))},h.defaultOperationTimeoutInMs);if(this._deliveryDispositionMap.set(s.id,{resolve:r,reject:i,timer:a}),t===V.complete)s.accept();else if(t===V.abandon){const e={undeliverable_here:!1};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),s.modified(e)}else if(t===V.defer){const e={undeliverable_here:!0};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),s.modified(e)}else if(t===V.deadletter){const e={condition:h.deadLetterName,info:Object.assign(Object.assign({},n.propertiesToModify),{DeadLetterReason:n.deadLetterReason,DeadLetterErrorDescription:n.deadLetterDescription})};s.reject(e)}})}))}}class tn{constructor(e){this._getCurrentReceiver=e,this._isSuspended=!1}addCredit(e){const{receiver:t,logPrefix:n}=this._getCurrentReceiver();return this.canReceiveMessages()?(null!=t&&(c["f"].verbose(`${n} Adding ${e} credits`),t.addCredit(e)),!0):(c["f"].verbose(`${n} Asked to add ${e} credits but the receiver is not able to receive messages`),!1)}suspend(){return Object(r["c"])(this,void 0,void 0,(function*(){const{receiver:e,logPrefix:t}=this._getCurrentReceiver();if(this._isSuspended=!0,this._isValidReceiver(e))return c["f"].verbose(t+" User has requested to stop receiving new messages, attempting to drain."),this.drain()}))}resume(){this._isSuspended=!1}canReceiveMessages(){const{receiver:e}=this._getCurrentReceiver();return!this._isSuspended&&this._isValidReceiver(e)}drain(){return Object(r["c"])(this,void 0,void 0,(function*(){const{receiver:e,logPrefix:t}=this._getCurrentReceiver();if(!this._isValidReceiver(e))return;c["f"].verbose(`${t} Receiver is starting drain. Remaining credits; ${e.credit}`);const n=new Promise(n=>{e.once(l["ReceiverEvents"].receiverDrained,()=>{c["f"].verbose(t+" Receiver has been drained."),e.drain=!1,n()}),e.drain=!0,e.addCredit(1)});return n}))}_isValidReceiver(e){return null!=e&&e.isOpen()}}function nn(){return Promise.resolve(window.navigator.onLine)}function rn(e){let t=!1;return e&&"number"===typeof e.id&&"boolean"===typeof e.settled&&"boolean"===typeof e.remote_settled&&"number"===typeof e.format&&(t=!0),t}function on(e){if(!e.operation)throw new TypeError("Missing 'operation' in retry configuration");if(!e.connectionId)throw new TypeError("Missing 'connectionId' in retry configuration");if(!e.operationType)throw new TypeError("Missing 'operationType' in retry configuration")}function sn(e){return d(this,void 0,void 0,(function*(){let t,n;on(e),e.retryOptions||(e.retryOptions={}),(void 0==e.retryOptions.maxRetries||e.retryOptions.maxRetries<0)&&(e.retryOptions.maxRetries=h.defaultMaxRetries),(void 0==e.retryOptions.retryDelayInMs||e.retryOptions.retryDelayInMs<0)&&(e.retryOptions.retryDelayInMs=h.defaultDelayBetweenOperationRetriesInMs),(void 0==e.retryOptions.maxRetryDelayInMs||e.retryOptions.maxRetryDelayInMs<0)&&(e.retryOptions.maxRetryDelayInMs=h.defaultMaxDelayForExponentialRetryInMs),void 0==e.retryOptions.mode&&(e.retryOptions.mode=Ft.Fixed);let r=!1;const i=e.retryOptions.maxRetries+1;for(let a=1;a<=i;a++){p.verbose("[%s] Attempt number: %d",e.connectionId,e.operationType,a);try{n=yield e.operation(),r=!0,p.verbose("[%s] Success for '%s', after attempt number: %d.",e.connectionId,e.operationType,a),n&&!rn(n)&&p.verbose("[%s] Success result for '%s': %O",e.connectionId,e.operationType,n);break}catch(s){let n=s;if(n.translated||(n=A(n)),!n.retryable&&"ServiceCommunicationError"===n.name&&e.connectionHost){const t=yield nn(e.connectionHost);t||(n.name="ConnectionLostError",n.retryable=!0)}t=n,p.verbose("[%s] Error occurred for '%s' in attempt number %d: %O",e.connectionId,e.operationType,a,n);let r=e.retryOptions.retryDelayInMs;if(e.retryOptions.mode===Ft.Exponential){let t=Math.pow(2,a)-1;const n=.8*e.retryOptions.retryDelayInMs+Math.floor(Math.random()*(1.2*e.retryOptions.retryDelayInMs-.8*e.retryOptions.retryDelayInMs));t*=n,r=Math.min(t,e.retryOptions.maxRetryDelayInMs)}if(t&&t.retryable){p.verbose("[%s] Sleeping for %d milliseconds for '%s'.",e.connectionId,r,e.operationType),yield Object(o["b"])(r,e.abortSignal,"The retry operation has been cancelled by the user.");continue}break}}if(r)return n;throw t}))}function an(e){if(!(e&&e.processMessage instanceof Function&&e.processError instanceof Function))throw new TypeError('Invalid "MessageHandlers" provided.')}function cn(e,t){return Object(r["a"])(this,arguments,(function*(){while(1){const n=yield Object(r["b"])(e.receiveMessages(1,t));0!==n.length&&(yield yield Object(r["b"])(n[0]))}}))}function un(e,t=c["f"]){return n=>Object(r["c"])(this,void 0,void 0,(function*(){try{n.error=ut(n.error),yield e.processError(n)}catch(r){t.logError(r,"An error was thrown from the user's processError handler")}}))}function ln(e,t,n){return c["f"].verbose("[%s] Completing the message with id '%s'.",t.connectionId,e.messageId),pn(e,V.complete,t,n)}function dn(e,t,n,r){return c["f"].verbose("[%s] Abandoning the message with id '%s'.",t.connectionId,e.messageId),pn(e,V.abandon,t,n,{propertiesToModify:r})}function hn(e,t,n,r){return c["f"].verbose("[%s] Deferring the message with id '%s'.",t.connectionId,e.messageId),pn(e,V.defer,t,n,{propertiesToModify:r})}function fn(e,t,n,r){c["f"].verbose("[%s] Deadlettering the message with id '%s'.",t.connectionId,e.messageId);const i=Object.assign({},r);delete i.deadLetterErrorDescription,delete i.deadLetterReason;const o={propertiesToModify:i,deadLetterReason:null===r||void 0===r?void 0:r.deadLetterReason,deadLetterDescription:null===r||void 0===r?void 0:r.deadLetterErrorDescription};return pn(e,V.deadletter,t,n,o)}function pn(e,t,n,r,i){const o=!e.delivery.link,s=o?void 0:n.getReceiverFromCache(e.delivery.link.name,e.sessionId),a=null===s||void 0===s?void 0:s.name;let u;if(e.delivery.remote_settled?u=new Error(Ct):o||s&&s.isOpen()||void 0==e.sessionId||(u=ut({description:`Failed to ${t} the message as the AMQP link with which the message was received is no longer alive.`,condition:y.SessionLockLostError})),u)throw c["f"].logError(u,"[%s] An error occurred when settling a message with id '%s'",n.connectionId,e.messageId),u;return!o&&(s&&s.isOpen()||void 0!=e.sessionId)?s.settleMessage(e,t,i).catch(e=>{throw ut(e)}):n.getManagementClient(r).updateDispositionStatus(e.lockToken,t,Object.assign(Object.assign({},i),{associatedLinkName:a,sessionId:e.sessionId})).catch(e=>{throw ut(e)})}(function(e){e[e["Exponential"]=0]="Exponential",e[e["Fixed"]=1]="Fixed"})(Ft||(Ft={})),function(e){e["cbsAuth"]="cbsAuth",e["connection"]="connection",e["management"]="management",e["receiverLink"]="receiverLink",e["senderLink"]="senderLink",e["sendMessage"]="sendMessage",e["receiveMessage"]="receiveMessage",e["session"]="session"}(Yt||(Yt={}));class vn extends en{constructor(e,t,n){super(e,t,"streaming",n),this.maxConcurrentCalls=1,this._isDetaching=!1,"number"===typeof(null===n||void 0===n?void 0:n.maxConcurrentCalls)&&(null===n||void 0===n?void 0:n.maxConcurrentCalls)>0&&(this.maxConcurrentCalls=n.maxConcurrentCalls),this._retryOptions=(null===n||void 0===n?void 0:n.retryOptions)||{},this._retry=sn,this._receiverHelper=new tn(()=>({receiver:this.link,logPrefix:this.logPrefix})),this._onAmqpClose=e=>Object(r["c"])(this,void 0,void 0,(function*(){var t;const n=e.receiver&&e.receiver.error,r=this.link||e.receiver;c["f"].logError(n,this.logPrefix+" 'receiver_close' event occurred. The associated error is"),null===(t=this._lockRenewer)||void 0===t||t.stopAll(this),r&&!r.isItselfClosed()?yield this.onDetached(n):c["f"].verbose("%s 'receiver_close' event occurred on the receiver '%s' with address '%s' because the sdk initiated it. Hence not calling detached from the _onAmqpClose() handler.",this.logPrefix,this.name,this.address)})),this._onSessionClose=e=>Object(r["c"])(this,void 0,void 0,(function*(){var t;const n=this.link||e.receiver,r=e.session&&e.session.error;c["f"].logError(r,this.logPrefix+" 'session_close' event occurred. The associated error is"),null===(t=this._lockRenewer)||void 0===t||t.stopAll(this),n&&!n.isSessionItselfClosed()?yield this.onDetached(r):c["f"].verbose("%s 'session_close' event occurred on the session of receiver '%s' with address '%s' because the sdk initiated it. Hence not calling detached from the _onSessionClose() handler.",this.logPrefix,this.name,this.address)})),this._onAmqpError=e=>{const t=e.receiver&&e.receiver.error;if(t){const e=ut(t);c["f"].logError(e,this.logPrefix+" 'receiver_error' event occurred. The associated error is")}},this._onSessionError=e=>{const t=e.session&&e.session.error;if(t){const e=ut(t);c["f"].logError(e,this.logPrefix+" 'session_error' event occurred. The associated error is")}},this._onAmqpMessage=e=>Object(r["c"])(this,void 0,void 0,(function*(){var n,r;if("peekLock"===this.receiveMode&&(!this.link||!this.link.isOpen()))return void c["f"].verbose("%s Not calling the user's message handler for the current message as the receiver is closed",this.logPrefix);const i=new ee(e.message,e.delivery,!0,this.receiveMode);null===(n=this._lockRenewer)||void 0===n||n.start(this,i,e=>{this._onError&&this._onError({error:e,errorSource:"renewLock",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})});try{yield this._onMessage(i)}catch(o){c["f"].logError(o,"%s An error occurred while running user's message handler for the message with id '%s' on the receiver '%s'",this.logPrefix,i.messageId,this.name),this._onError({error:o,errorSource:"processMessageCallback",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host}),null===(r=this._lockRenewer)||void 0===r||r.stop(this,i);const e=ut(o);if(!i.delivery.remote_settled&&e.code!==g["com.microsoft:message-lock-lost"]&&"peekLock"===this.receiveMode&&this.isOpen())try{c["f"].logError(e,"%s Abandoning the message with id '%s' on the receiver '%s' since an error occured: %O.",this.logPrefix,i.messageId,this.name,e),yield dn(i,this._context,t)}catch(s){const e=ut(s);c["f"].logError(e,"%s An error occurred while abandoning the message with id '%s' on the receiver '%s'",this.logPrefix,i.messageId,this.name),this._onError({error:e,errorSource:"abandon",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}return}finally{this._receiverHelper.addCredit(1)}if(this.autoComplete&&"peekLock"===this.receiveMode&&!i.delivery.remote_settled)try{c["f"].verbose("%s Auto completing the message with id '%s' on the receiver.",this.logPrefix,i.messageId),yield ln(i,this._context,t)}catch(a){const e=ut(a);c["f"].logError(e,"%s An error occurred while completing the message with id '%s' on the receiver '%s'",this.logPrefix,i.messageId,this.name),this._onError({error:e,errorSource:"complete",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}}))}get isReceivingMessages(){return this._receiverHelper.canReceiveMessages()}_getHandlers(){return{onMessage:e=>this._onAmqpMessage(e).catch(()=>{}),onClose:e=>this._onAmqpClose(e).catch(()=>{}),onSessionClose:e=>this._onSessionClose(e).catch(()=>{}),onError:this._onAmqpError,onSessionError:this._onSessionError}}stopReceivingMessages(){return Object(r["c"])(this,void 0,void 0,(function*(){yield this._receiverHelper.suspend()}))}init(e){return Object(r["c"])(this,void 0,void 0,(function*(){let t=0;while(1){++t;const r={operation:()=>this._initOnce(e),connectionId:e.connectionId,operationType:Yt.receiverLink,retryOptions:this._retryOptions,abortSignal:e.abortSignal};try{yield this._retry(r);break}catch(n){if(e.onError({errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host,error:n}),"AbortError"===n.name)throw n;c["f"].logError(n,`${this.logPrefix} Error thrown in retry cycle ${t}, restarting retry cycle with retry options`,this._retryOptions);continue}}}))}_initOnce(e){return Object(r["c"])(this,void 0,void 0,(function*(){const t=this._createReceiverOptions(e.useNewName,this._getHandlers());yield this._init(t,e.abortSignal),this._receiverHelper.resume()}))}subscribe(e,t){pt(this._context),this._onMessage=e,this._onError=t,this._receiverHelper.addCredit(this.maxConcurrentCalls)}onDetached(e){return Object(r["c"])(this,void 0,void 0,(function*(){if(c["f"].verbose(this.logPrefix+" onDetached: reinitializing link."),this.wasClosedPermanently)return void c["f"].verbose(this.logPrefix+" onDetached: link has been closed permanently, not reinitializing. ");if(this._isDetaching)return void c["f"].verbose(`${this.logPrefix} onDetached: Call to detached on streaming receiver '${this.name}' is already in progress.`);this._isDetaching=!0;const t=e?ut(e):e;c["f"].logError(t,this.logPrefix+" onDetached: Reinitializing receiver because of error");try{yield this.closeLink()}catch(n){c["f"].verbose(this.logPrefix+" onDetached: Encountered an error when closing the previous link: ",n)}try{yield this.init({useNewName:!0,connectionId:this._context.connectionId,onError:e=>this._onError&&this._onError(e)}),this._receiverHelper.addCredit(this.maxConcurrentCalls),c["f"].verbose(`${this.logPrefix} onDetached: link has been reestablished, added ${this.maxConcurrentCalls} credits.`)}finally{this._isDetaching=!1}}))}}var mn="00";function gn(e){var t=e.split("-");if(4===t.length){var n=t[0],r=t[1],i=t[2],o=t[3];if(n===mn){var s=parseInt(o,16),a={spanId:i,traceId:r,traceFlags:s};return a}}}function yn(e){var t=[];if(e.traceId||t.push("traceId"),e.spanId||t.push("spanId"),!t.length){var n=e.traceFlags||0,r=n.toString(16),i=1===r.length?"0"+r:r;return mn+"-"+e.traceId+"-"+e.spanId+"-"+i}}const _n="Diagnostic-Id";function bn(e,t){if(e.applicationProperties&&e.applicationProperties[_n])return e;e=Object.assign(Object.assign({},e),{applicationProperties:Object.assign({},e.applicationProperties)});const n=yn(t.context());return n&&(e.applicationProperties[_n]=n),e}function wn(e){if(!e.applicationProperties||!e.applicationProperties[_n])return;const t=e.applicationProperties[_n];return gn(t)}function*En(e){if(Array.isArray(e))for(const t of e)yield t;else yield e}function On(e,t,n,r){var i;const o=[];for(const a of En(e)){const e=wn(a);null!=e&&o.push({context:e,attributes:{enqueuedTime:null===(i=a.enqueuedTimeUtc)||void 0===i?void 0:i.getTime()}})}const s=Wt().startSpan("Azure.ServiceBus.process",{kind:jt["SpanKind"].CONSUMER,links:o,parent:Qt(null===r||void 0===r?void 0:r.tracingOptions)});return s.setAttributes({"az.namespace":"Microsoft.ServiceBus","message_bus.destination":t.entityPath,"peer.address":n.host}),s}function Sn(e,t,n,r){const i=On(e,t,n,r);i.setStatus({code:jt["CanonicalCode"].OK}),i.end()}class Cn extends en{constructor(e,t,n){super(e,t,"batching",n),this._batchingReceiverLite=new An(e,t,e=>Object(r["c"])(this,void 0,void 0,(function*(){let t;const n=this._createReceiverOptions(!1,{onError:e=>{var n;t=null===(n=null===e||void 0===e?void 0:e.receiver)||void 0===n?void 0:n.error},onSessionError:e=>{var n;t=null===(n=null===e||void 0===e?void 0:e.session)||void 0===n?void 0:n.error},onClose:()=>Object(r["c"])(this,void 0,void 0,(function*(){})),onSessionClose:()=>Object(r["c"])(this,void 0,void 0,(function*(){})),onMessage:()=>Object(r["c"])(this,void 0,void 0,(function*(){}))});if(yield this._init(n,e),null!=t)throw t;return this.link})),this.receiveMode)}get isReceivingMessages(){return this._batchingReceiverLite.isReceivingMessages}onDetached(e){return Object(r["c"])(this,void 0,void 0,(function*(){yield this.closeLink(),null==e&&(e=new Error("Unknown error occurred on the AMQP connection while receiving messages.")),yield this._batchingReceiverLite.close(e)}))}receive(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{c["f"].verbose("[%s] Receiver '%s', setting max concurrent calls to 0.",this.logPrefix,this.name);const r=yield this._batchingReceiverLite.receiveMessages(Object.assign({maxMessageCount:e,maxWaitTimeInMs:t,maxTimeAfterFirstMessageInMs:n},i));if(this._lockRenewer)for(const e of r)this._lockRenewer.start(this,e,e=>{});return r}catch(r){throw c["f"].logError(r,"[%s] Rejecting receiveMessages()",this.logPrefix),r}}))}static create(e,t,n){pt(e);const r=new Cn(e,t,n);return e.messageReceivers[r.name]=r,r}}function xn(e,t){const n=Date.now();return()=>{const r=e-(Date.now()-n);return r<0?0:Math.min(r,t)}}class An{constructor(e,t,n,r){this._connectionContext=e,this.entityPath=t,this._getCurrentReceiver=n,this._receiveMode=r,this._createAndEndProcessingSpan=Sn,this._createServiceBusMessage=e=>new ee(e.message,e.delivery,!0,this._receiveMode),this._getRemainingWaitTimeInMsFn=(e,t)=>xn(e,t),this.isReceivingMessages=!1}receiveMessages(e){return Object(r["c"])(this,void 0,void 0,(function*(){try{this.isReceivingMessages=!0;const t=yield this._getCurrentReceiver(e.abortSignal);if(null==t)return[];const n=yield this._receiveMessagesImpl(t,e);return this._createAndEndProcessingSpan(n,this,this._connectionContext.config,e),n}finally{this._closeHandler=void 0,this.isReceivingMessages=!1}}))}close(e){this._closeHandler&&(this._closeHandler(e),this._closeHandler=void 0)}_receiveMessagesImpl(e,t){const n=this._getRemainingWaitTimeInMsFn(t.maxWaitTimeInMs,t.maxTimeAfterFirstMessageInMs),i=[],o=`[${e.connection.id}|r:${e.name}]`;return new Promise((s,a)=>{let u,d;const h=e=>{var t,n,r;d("removeDrainHandler");const i=null!=(null===(t=e.session)||void 0===t?void 0:t.error)?"session_error":"receiver_error";let s=(null===(n=e.session)||void 0===n?void 0:n.error)||(null===(r=e.receiver)||void 0===r?void 0:r.error);s?(s=ut(s),c["f"].logError(s,`${o} '${i}' event occurred. Received an error`)):s=new ct("An error occurred while receiving messages.","GeneralError"),a(s)};this._closeHandler=e=>{if(d("removeDrainHandler"),null==e||"receiveAndDelete"===this._receiveMode&&i.length)return c["f"].verbose(`${o} Closing. Resolving with ${i.length} messages.`),s(i);a(ut(e))};let f=void 0;const p=()=>{d("leaveDrainHandler"),e.isOpen()&&e.credit>0?(c["f"].verbose(`${o} Draining leftover credits(${e.credit}).`),e.drain=!0,e.addCredit(1)):(e.removeListener(l["ReceiverEvents"].receiverDrained,g),c["f"].verbose(`${o} Resolving receiveMessages() with ${i.length} messages.`),s(i))},v=e=>Object(r["c"])(this,void 0,void 0,(function*(){if("peekLock"===this._receiveMode&&0===i.length){u&&clearTimeout(u);const e=n();u=setTimeout(()=>{c["f"].verbose(`${o} Batching, waited for ${e} milliseconds after receiving the first message.`),p()},e)}try{const n=this._createServiceBusMessage(e);i.length<t.maxMessageCount&&i.push(n)}catch(r){const e=r instanceof Error?r:new Error(JSON.stringify(r));c["f"].logError(r,o+" Received an error while converting AmqpMessage to ServiceBusMessage"),a(e)}i.length===t.maxMessageCount&&p()})),m=e=>Object(r["c"])(this,void 0,void 0,(function*(){var t,n,r;const i=null!=(null===(t=e.session)||void 0===t?void 0:t.error)?"session_closed":"receiver_closed",s=(null===(n=e.session)||void 0===n?void 0:n.error)||(null===(r=e.receiver)||void 0===r?void 0:r.error);s&&c["f"].logError(s,`${o} '${i}' event occurred. The associated error`)})),g=()=>{e.removeListener(l["ReceiverEvents"].receiverDrained,g),e.drain=!1,c["f"].verbose(`${o} Drained, resolving receiveMessages() with ${i.length} messages.`),s(i)};d=t=>{null!=e&&(e.removeListener(l["ReceiverEvents"].receiverError,h),e.removeListener(l["ReceiverEvents"].message,v),e.session.removeListener(l["SessionEvents"].sessionError,h),e.removeListener(l["ReceiverEvents"].receiverClose,m),e.session.removeListener(l["SessionEvents"].sessionClose,m),"removeDrainHandler"===t&&e.removeListener(l["ReceiverEvents"].receiverDrained,g)),u&&clearTimeout(u),f&&f(),f=void 0},f=Object(W["c"])(e=>{d("removeDrainHandler"),a(e)},t.abortSignal),c["f"].verbose(`${o} Adding credit for receiving ${t.maxMessageCount} messages.`),e.addCredit(t.maxMessageCount),c["f"].verbose(`${o} Setting the wait timer for ${t.maxWaitTimeInMs} milliseconds.`),u=setTimeout(()=>{c["f"].verbose(`${o} Batching, waited for max wait time ${t.maxWaitTimeInMs} milliseconds.`),p()},t.maxWaitTimeInMs),e.on(l["ReceiverEvents"].message,v),e.on(l["ReceiverEvents"].receiverError,h),e.on(l["ReceiverEvents"].receiverClose,m),e.on(l["ReceiverEvents"].receiverDrained,g),e.session.on(l["SessionEvents"].sessionError,h),e.session.on(l["SessionEvents"].sessionClose,m)})}}n("3c2e");class kn{constructor(e,t){this._context=e,this._maxAutoRenewDurationInMs=t,this._messageRenewLockTimers=new Map,this._calculateRenewAfterDuration=W["b"]}static create(e,t,n){if("peekLock"===n&&!(t<=0))return new kn(e,t)}stopAll(e){c["f"].verbose(e.logPrefix+" Clearing message renew lock timers for all the active messages.");const t=this._messageRenewLockTimers.get(e.name);if(null!=t){for(const n of t.keys())this._stopAndRemoveById(e,t,n);this._messageRenewLockTimers.delete(e.name)}}stop(e,t){const n=t.messageId,r=this._messageRenewLockTimers.get(e.name);null!=r&&this._stopAndRemoveById(e,r,n)}start(e,t,n){try{const i=e.logPrefix;if(null==t.lockToken)throw new Error(`Can't start auto lock renewal for message with message id '${t.messageId}' since it does not have a lock token.`);const o=t.lockToken,s=this._getOrCreateMapForLink(e);s.set(t.messageId,void 0),c["f"].verbose(`${i} message with id '${t.messageId}' is locked until ${t.lockedUntilUtc.toString()}.`);const a=Date.now()+this._maxAutoRenewDurationInMs;c["f"].verbose(`${i} Total autolockrenew duration for message with id '${t.messageId}' is: ${new Date(a).toString()}`);const u=()=>{const l=new Date(a)>t.lockedUntilUtc,d=Date.now()<a;if(l&&d)if(s.has(t.messageId)){const a=this._calculateRenewAfterDuration(t.lockedUntilUtc);c["f"].verbose(`${i} Sleeping for ${a} milliseconds while renewing the lock for message with id '${t.messageId}'`);const l=setTimeout(()=>Object(r["c"])(this,void 0,void 0,(function*(){try{c["f"].verbose(`${i} Attempting to renew the lock for message with id '${t.messageId}'.`),t.lockedUntilUtc=yield this._context.getManagementClient(e.entityPath).renewLock(o,{associatedLinkName:e.name}),c["f"].verbose(`${i} Successfully renewed the lock for message with id '${t.messageId}'. Starting next auto-lock-renew cycle for message.`),u()}catch(r){c["f"].logError(r,`${i} An error occurred while auto renewing the message lock '${t.lockToken}' for message with id '${t.messageId}'`),n(r)}})),a);"function"===typeof l.unref&&l.unref(),s.set(t.messageId,l)}else c["f"].verbose(`${i} Looks like the message lock renew timer has already been cleared for message with id '${t.messageId}'.`);else c["f"].verbose(`${i} Current time ${new Date} exceeds the total autolockrenew duration ${new Date(a)} for message with messageId '${t.messageId}'. Hence we will stop the autoLockRenewTask.`),this.stop(e,t)};u()}catch(i){n(i)}}_getOrCreateMapForLink(e){return this._messageRenewLockTimers.has(e.name)||this._messageRenewLockTimers.set(e.name,new Map),this._messageRenewLockTimers.get(e.name)}_stopAndRemoveById(e,t,n){if(null==n)throw new Error("Failed to stop auto lock renewal - no message ID");t.has(n)&&(clearTimeout(t.get(n)),c["f"].verbose(`${e.logPrefix} Cleared the message renew lock timer for message with id '${n}'.`),t.delete(n))}}class Tn{constructor(e,t,n,r,i={}){this._context=e,this.entityPath=t,this.receiveMode=n,this._isClosed=!1,pt(e),this._retryOptions=i,this._lockRenewer=kn.create(this._context,r,n),this._createProcessingSpan=On}get logPrefix(){return`[${this._context.connectionId}|receiver:${this.entityPath}]`}_throwIfAlreadyReceiving(){if(this._isReceivingMessages()){const e=gt(this.entityPath),t=new Error(e);throw c["f"].logError(t,this.logPrefix+" is already receiving"),t}}_throwIfReceiverOrConnectionClosed(){if(pt(this._context),this.isClosed){const e=mt(this.entityPath),t=new Error(e);throw c["f"].logError(t,this.logPrefix+" is closed"),t}}get isClosed(){return this._isClosed||this._context.wasConnectionCloseCalled}_registerMessageHandler(e,t,n,i){this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving();const o=this._context.connectionId;if(yt(o,"onMessage",t),yt(o,"onError",n),"function"!==typeof t)throw new TypeError("The parameter 'onMessage' must be of type 'function'.");if("function"!==typeof n)throw new TypeError("The parameter 'onError' must be of type 'function'.");this._createStreamingReceiver(Object.assign(Object.assign({},i),{receiveMode:this.receiveMode,retryOptions:this._retryOptions,lockRenewer:this._lockRenewer,onError:n})).then(i=>Object(r["c"])(this,void 0,void 0,(function*(){if(i){this._streamingReceiver=i;try{yield e()}catch(r){n({error:r,errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}this.isClosed?yield i.close():i.subscribe(t,n)}}))).catch(e=>{n({error:e,errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})})}_createStreamingReceiver(e){var t;return Object(r["c"])(this,void 0,void 0,(function*(){return pt(this._context),null==e.autoCompleteMessages&&(e.autoCompleteMessages=!0),this._streamingReceiver=null!==(t=this._streamingReceiver)&&void 0!==t?t:new vn(this._context,this.entityPath,e),this._context.messageReceivers[this._streamingReceiver.name]=this._streamingReceiver,yield this._streamingReceiver.init(Object.assign({connectionId:this._context.connectionId,useNewName:!1},e)),this._streamingReceiver}))}receiveMessages(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){if(this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving(),yt(this._context.connectionId,"maxMessageCount",e),_t(this._context.connectionId,"maxMessageCount",e,"number"),isNaN(e)||e<1)throw new TypeError(ft);const n=()=>Object(r["c"])(this,void 0,void 0,(function*(){var n;if(!this._batchingReceiver||!this._context.messageReceivers[this._batchingReceiver.name]){const e={maxConcurrentCalls:0,receiveMode:this.receiveMode,lockRenewer:this._lockRenewer};this._batchingReceiver=this._createBatchingReceiver(this._context,this.entityPath,e)}const r=yield this._batchingReceiver.receive(e,null!==(n=null===t||void 0===t?void 0:t.maxWaitTimeInMs)&&void 0!==n?n:h.defaultOperationTimeoutInMs,In,null!==t&&void 0!==t?t:{});return r})),i={connectionHost:this._context.config.host,connectionId:this._context.connectionId,operation:n,operationType:Yt.receiveMessage,abortSignal:null===t||void 0===t?void 0:t.abortSignal,retryOptions:this._retryOptions};return sn(i).catch(e=>{throw ut(e)})}))}getMessageIterator(e){return cn(this,e)}receiveDeferredMessages(e,t={}){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),yt(this._context.connectionId,"sequenceNumbers",e),bt(this._context.connectionId,"sequenceNumbers",e);const n=Array.isArray(e)?e:[e],i=()=>Object(r["c"])(this,void 0,void 0,(function*(){const e=yield this._context.getManagementClient(this.entityPath).receiveDeferredMessages(n,this.receiveMode,void 0,Object.assign(Object.assign({},t),{associatedLinkName:this._getAssociatedReceiverName(),requestName:"receiveDeferredMessages",timeoutInMs:this._retryOptions.timeoutInMs}));return e})),o={operation:i,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(o)}))}peekMessages(e,t={}){var n;return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed();const i=Object.assign(Object.assign({},t),{associatedLinkName:this._getAssociatedReceiverName(),requestName:"peekMessages",timeoutInMs:null===(n=this._retryOptions)||void 0===n?void 0:n.timeoutInMs}),o=()=>Object(r["c"])(this,void 0,void 0,(function*(){return t.fromSequenceNumber?yield this._context.getManagementClient(this.entityPath).peekBySequenceNumber(t.fromSequenceNumber,e,void 0,i):yield this._context.getManagementClient(this.entityPath).peek(e,i)})),s={operation:o,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(s)}))}subscribe(e,t){an(e),t=null!==t&&void 0!==t?t:{};const n=un(e),i=e;return this._registerMessageHandler(()=>Object(r["c"])(this,void 0,void 0,(function*(){(null===i||void 0===i?void 0:i.processInitialize)&&(yield i.processInitialize())})),n=>Object(r["c"])(this,void 0,void 0,(function*(){const r=this._createProcessingSpan(n,this,this._context.config,t);return Jt(()=>e.processMessage(n),r)})),n,t),{close:()=>Object(r["c"])(this,void 0,void 0,(function*(){var e;return null===(e=this._streamingReceiver)||void 0===e?void 0:e.stopReceivingMessages()}))}}completeMessage(e){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const t=e;return ln(t,this._context,this.entityPath)}))}abandonMessage(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const n=e;return dn(n,this._context,this.entityPath,t)}))}deferMessage(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const n=e;return hn(n,this._context,this.entityPath,t)}))}deadLetterMessage(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const n=e;return fn(n,this._context,this.entityPath,t)}))}renewMessageLock(e){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const t=e;let n;if(t.delivery.link){const e=this._context.getReceiverFromCache(t.delivery.link.name);n=null===e||void 0===e?void 0:e.name}return this._context.getManagementClient(this.entityPath).renewLock(e.lockToken,{associatedLinkName:n}).then(t=>(e.lockedUntilUtc=t,t))}))}close(){return Object(r["c"])(this,void 0,void 0,(function*(){try{this._isClosed=!0,this._context.connection&&this._context.connection.isOpen()&&(this._streamingReceiver&&(yield this._streamingReceiver.close()),this._batchingReceiver&&(yield this._batchingReceiver.close()))}catch(e){throw c["f"].logError(e,this.logPrefix+" An error occurred while closing the Receiver"),e}}))}_isReceivingMessages(){return!!(this._streamingReceiver&&this._streamingReceiver.isOpen()&&this._streamingReceiver.isReceivingMessages)||!!(this._batchingReceiver&&this._batchingReceiver.isOpen()&&this._batchingReceiver.isReceivingMessages)}_createBatchingReceiver(e,t,n){return Cn.create(e,t,n)}_getAssociatedReceiverName(){return this._streamingReceiver&&this._streamingReceiver.isOpen()?this._streamingReceiver.name:this._batchingReceiver&&this._batchingReceiver.isOpen()&&this._batchingReceiver.isReceivingMessages?this._batchingReceiver.name:void 0}}const In=1e3;class Rn{constructor(e,t,n,r,i={}){this._messageSession=e,this._context=t,this.entityPath=n,this.receiveMode=r,this._retryOptions=i,this._isClosed=!1,pt(t),this.sessionId=e.sessionId,this._createProcessingSpan=On}get logPrefix(){return`[${this._context.connectionId}|session:${this.entityPath}]`}_throwIfReceiverOrConnectionClosed(){if(pt(this._context),this.isClosed){if(this._isClosed){const e=mt(this.entityPath,this.sessionId),t=new Error(e);throw c["f"].logError(t,this.logPrefix+" already closed"),t}const e={condition:y.SessionLockLostError,description:"The session lock has expired on the session with id "+this.sessionId};throw ut(e)}}_throwIfAlreadyReceiving(){if(this._isReceivingMessages()){const e=gt(this.entityPath,this.sessionId),t=new Error(e);throw c["f"].logError(t,this.logPrefix+" is already receiving."),t}}get isClosed(){return this._isClosed||!this._context.messageSessions[this._messageSession.name]||!this._messageSession.isOpen()}get sessionLockedUntilUtc(){return this._messageSession.sessionLockedUntilUtc}renewSessionLock(e){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed();const t=()=>Object(r["c"])(this,void 0,void 0,(function*(){return this._messageSession.sessionLockedUntilUtc=yield this._context.getManagementClient(this.entityPath).renewSessionLock(this.sessionId,Object.assign(Object.assign({},e),{associatedLinkName:this._messageSession.name,requestName:"renewSessionLock",timeoutInMs:this._retryOptions.timeoutInMs})),this._messageSession.sessionLockedUntilUtc})),n={operation:t,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===e||void 0===e?void 0:e.abortSignal};return sn(n)}))}setSessionState(e,t={}){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed();const n=()=>Object(r["c"])(this,void 0,void 0,(function*(){yield this._context.getManagementClient(this.entityPath).setSessionState(this.sessionId,e,Object.assign(Object.assign({},t),{associatedLinkName:this._messageSession.name,requestName:"setState",timeoutInMs:this._retryOptions.timeoutInMs}))})),i={operation:n,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(i)}))}getSessionState(e={}){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed();const t=()=>Object(r["c"])(this,void 0,void 0,(function*(){return this._context.getManagementClient(this.entityPath).getSessionState(this.sessionId,Object.assign(Object.assign({},e),{associatedLinkName:this._messageSession.name,requestName:"getState",timeoutInMs:this._retryOptions.timeoutInMs}))})),n={operation:t,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===e||void 0===e?void 0:e.abortSignal};return sn(n)}))}peekMessages(e,t={}){var n;return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed();const i=Object.assign(Object.assign({},t),{associatedLinkName:this._messageSession.name,requestName:"peekMessages",timeoutInMs:null===(n=this._retryOptions)||void 0===n?void 0:n.timeoutInMs}),o=()=>Object(r["c"])(this,void 0,void 0,(function*(){return t.fromSequenceNumber?yield this._context.getManagementClient(this.entityPath).peekBySequenceNumber(t.fromSequenceNumber,e,this.sessionId,i):yield this._context.getManagementClient(this.entityPath).peekMessagesBySession(this.sessionId,e,i)})),s={operation:o,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(s)}))}receiveDeferredMessages(e,t={}){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),yt(this._context.connectionId,"sequenceNumbers",e),bt(this._context.connectionId,"sequenceNumbers",e);const n=Array.isArray(e)?e:[e],i=()=>Object(r["c"])(this,void 0,void 0,(function*(){const e=yield this._context.getManagementClient(this.entityPath).receiveDeferredMessages(n,this.receiveMode,this.sessionId,Object.assign(Object.assign({},t),{associatedLinkName:this._messageSession.name,requestName:"receiveDeferredMessages",timeoutInMs:this._retryOptions.timeoutInMs}));return e})),o={operation:i,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(o)}))}receiveMessages(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){if(this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving(),yt(this._context.connectionId,"maxMessageCount",e),_t(this._context.connectionId,"maxMessageCount",e,"number"),isNaN(e)||e<1)throw new TypeError(ft);const n=()=>Object(r["c"])(this,void 0,void 0,(function*(){var n;const r=yield this._messageSession.receiveMessages(e,null!==(n=null===t||void 0===t?void 0:t.maxWaitTimeInMs)&&void 0!==n?n:h.defaultOperationTimeoutInMs,In,null!==t&&void 0!==t?t:{});return r})),i={operation:n,connectionId:this._context.connectionId,operationType:Yt.receiveMessage,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(i).catch(e=>{throw ut(e)})}))}subscribe(e,t){an(e),t=null!==t&&void 0!==t?t:{};const n=un(e);return this._registerMessageHandler(n=>Object(r["c"])(this,void 0,void 0,(function*(){const r=this._createProcessingSpan(n,this,this._context.config,t);return Jt(()=>e.processMessage(n),r)})),n,t),{close:()=>Object(r["c"])(this,void 0,void 0,(function*(){var e;return null===(e=this._messageSession)||void 0===e?void 0:e.receiverHelper.suspend()}))}}_registerMessageHandler(e,t,n){this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving();const r=this._context.connectionId;if(yt(r,"onMessage",e),yt(r,"onError",t),"function"!==typeof e)throw new TypeError("The parameter 'onMessage' must be of type 'function'.");if("function"!==typeof t)throw new TypeError("The parameter 'onError' must be of type 'function'.");try{this._messageSession.subscribe(e,t,n)}catch(i){t({error:i,errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}}getMessageIterator(e){return cn(this,e)}completeMessage(e){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const t=e;return ln(t,this._context,this.entityPath)}))}abandonMessage(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const n=e;return dn(n,this._context,this.entityPath,t)}))}deferMessage(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const n=e;return hn(n,this._context,this.entityPath,t)}))}deadLetterMessage(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),xt(e,this.receiveMode,this._context.connectionId);const n=e;return fn(n,this._context,this.entityPath,t)}))}renewMessageLock(){return Object(r["c"])(this,void 0,void 0,(function*(){throw new Error("Renewing message lock is an invalid operation when working with sessions.")}))}close(){return Object(r["c"])(this,void 0,void 0,(function*(){try{yield this._messageSession.close()}catch(e){throw c["f"].logError(e,"%s An error occurred while closing the SessionReceiver for session %s",this.logPrefix,this.sessionId),e}finally{this._isClosed=!0}}))}_isReceivingMessages(){return!!this._messageSession&&this._messageSession.isReceivingMessages}}function Pn(e,t){const n=Wt(),r=n.startSpan("Azure.ServiceBus.message",{kind:jt["SpanKind"].PRODUCER,parent:e});return r.setAttribute("az.namespace","Microsoft.ServiceBus"),t&&(r.setAttribute("message_bus.destination",t.entityPath),r.setAttribute("peer.address",t.host)),r}const Mn=5,Ln=8,Nn=255;class jn{constructor(e,t){this._context=e,this._maxSizeInBytes=t,this._encodedMessages=[],this._spanContexts=[],this._sizeInBytes=0,this._batchMessageProperties={}}get maxSizeInBytes(){return this._maxSizeInBytes}get sizeInBytes(){return this._sizeInBytes}get count(){return this._encodedMessages.length}get _messageSpanContexts(){return this._spanContexts}_generateBatch(e,t,n,r){const i={body:l["message"].data_sections(e),message_annotations:t,application_properties:n};if(r)for(const o of l["messageProperties"])r[o]&&(i[o]=r[o]);return l["message"].encode(i)}_generateMessage(){return this._generateBatch(this._encodedMessages,this._batchAnnotations,this._batchApplicationProperties,this._batchMessageProperties)}tryAddMessage(e,t={}){yt(this._context.connectionId,"message",e),kt(e,"Provided value for 'message' must be of type ServiceBusMessage.");const n=Boolean(e.applicationProperties&&e.applicationProperties[_n]);let r;if(!n){const n=Pn(null===t||void 0===t?void 0:t.parentSpan,this._context.config);e=bn(e,n),r=n.context(),n.end()}const i=X(e);let o;i.body=K.encode(e.body);try{o=l["message"].encode(i)}catch(u){if(u instanceof TypeError||"TypeError"===u.name)throw Q(e)||u;throw u}let s=this._sizeInBytes;if(0===this.count){i.message_annotations&&(this._batchAnnotations=i.message_annotations),i.application_properties&&(this._batchApplicationProperties=i.application_properties);for(const e of l["messageProperties"])i[e]&&(this._batchMessageProperties[e]=i[e]);s+=this._generateBatch([],this._batchAnnotations,this._batchApplicationProperties,this._batchMessageProperties).length}const a=o.length,c=a<=Nn?Mn:Ln;return s+=a+c,!(s>this._maxSizeInBytes)&&(this._encodedMessages.push(o),r&&this._spanContexts.push(r),this._sizeInBytes=s,!0)}}class Dn extends dt{constructor(e,t,n){super(t,t,e,"sender",c["g"],{address:t,audience:`${e.config.endpoint}${t}`}),this._retryOptions=n,this._onAmqpError=e=>{const t=e.sender&&e.sender.error;c["g"].logError(t,"%s 'sender_error' event occurred on the sender '%s' with address '%s'. The associated error",this.logPrefix,this.name,this.address)},this._onSessionError=e=>{const t=e.session&&e.session.error;c["g"].logError(t,"%s 'session_error' event occurred on the session of sender '%s' with address '%s'. The associated error",this.logPrefix,this.name,this.address)},this._onAmqpClose=e=>Object(r["c"])(this,void 0,void 0,(function*(){const t=e.sender&&e.sender.error;c["g"].logError(t,this.logPrefix+" 'sender_close' event occurred. The associated error is"),yield this.onDetached().catch(e=>{c["g"].logError(e,this.logPrefix+" error when closing sender after 'sender_close' event")})})),this._onSessionClose=e=>Object(r["c"])(this,void 0,void 0,(function*(){const t=e.session&&e.session.error;c["g"].logError(t,this.logPrefix+" 'session_close' event occurred. The associated error is"),yield this.onDetached().catch(e=>{c["g"].logError(e,this.logPrefix+" error when closing sender after 'session_close' event")})}))}_createSenderOptions(e,t){t&&(this.name=Object(W["f"])(this.baseName));const n={name:this.name,target:{address:this.address},onError:this._onAmqpError,onClose:this._onAmqpClose,onSessionError:this._onSessionError,onSessionClose:this._onSessionClose,sendTimeoutInSeconds:e/1e3};return c["g"].verbose(this.logPrefix+" Creating sender with options: %O",n),n}_trySend(e,t,n){const i=null===n||void 0===n?void 0:n.abortSignal,s=void 0==this._retryOptions.timeoutInMs?h.defaultOperationTimeoutInMs:this._retryOptions.timeoutInMs,a=()=>new Promise((i,a)=>Object(r["c"])(this,void 0,void 0,(function*(){var r,u,l,d,h,f,p,v,m,g;const _=Date.now();if(!this.isOpen())try{yield Object(W["i"])({actionFn:()=>this.open(void 0,null===n||void 0===n?void 0:n.abortSignal),abortSignal:null===n||void 0===n?void 0:n.abortSignal,timeoutMs:s,timeoutMessage:`[${this._context.connectionId}] Sender "${this.name}" with address "${this.address}", was not able to send the message right now, due to operation timeout.`})}catch(b){return b=ut(b),c["g"].logError(b,"%s An error occurred while creating the sender",this.logPrefix,this.name),a(b)}try{const n=Date.now()-_;if(c["g"].verbose("%s Sender '%s', credit: %d available: %d",this.logPrefix,this.name,null===(r=this.link)||void 0===r?void 0:r.credit,null===(d=null===(l=null===(u=this.link)||void 0===u?void 0:u.session)||void 0===l?void 0:l.outgoing)||void 0===d?void 0:d.available()),(null===(h=this.link)||void 0===h?void 0:h.sendable())||(c["g"].verbose("%s Sender '%s', waiting for 1 second for sender to become sendable",this.logPrefix,this.name),yield Object(o["b"])(1e3),c["g"].verbose("%s Sender '%s' after waiting for a second, credit: %d available: %d",this.logPrefix,this.name,null===(f=this.link)||void 0===f?void 0:f.credit,null===(m=null===(v=null===(p=this.link)||void 0===p?void 0:p.session)||void 0===v?void 0:v.outgoing)||void 0===m?void 0:m.available())),null===(g=this.link)||void 0===g?void 0:g.sendable()){if(s<=n){const e=`${this.logPrefix} Sender "${this.name}" with address "${this.address}", was not able to send the message right now, due to operation timeout.`;c["g"].warning(e);const t={condition:y.ServiceUnavailableError,description:e};return a(ut(t))}try{this.link.sendTimeoutInSeconds=(s-n)/1e3;const r=yield this.link.send(e,void 0,t?2147563264:0);return c["g"].verbose("%s Sender '%s', sent message with delivery id: %d",this.logPrefix,this.name,r.id),i()}catch(w){return w=ut(w.innerError||w),c["g"].logError(w,this.logPrefix+" An error occurred while sending the message"),a(w)}}else{const e=`[${this.logPrefix}] Sender "${this.name}", cannot send the message right now. Please try later.`;c["g"].warning(e);const t={condition:y.SenderBusyError,description:e};a(ut(t))}}catch(b){a(b)}}))),u={operation:a,connectionId:this._context.connectionId,operationType:Yt.sendMessage,retryOptions:this._retryOptions,abortSignal:i};return sn(u)}createRheaLink(e){return Object(r["c"])(this,void 0,void 0,(function*(){const t=yield this._context.connection.createAwaitableSender(e);return t.setMaxListeners(1e3),t}))}open(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){try{e||(e=this._createSenderOptions(h.defaultOperationTimeoutInMs)),yield this.initLink(e,t)}catch(n){throw n=ut(n),c["g"].logError(n,this.logPrefix+" An error occurred while creating the sender"),"OperationTimeoutError"===n.code&&(n.message="Failed to create a sender within allocated time and retry attempts."),n}}))}onDetached(){return Object(r["c"])(this,void 0,void 0,(function*(){yield this.closeLink()}))}isOpen(){const e=null!=this.link&&this.link.isOpen();return c["g"].verbose("%s Sender '%s' with address '%s' is open? -> %s",this.logPrefix,this.name,this.address,e),e}send(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{const r=X(e);let i;r.body=K.encode(e.body);try{i=l["message"].encode(r)}catch(n){if(n instanceof TypeError||"TypeError"===n.name)throw Q(e)||n;throw n}return c["g"].verbose("%s Sender '%s', trying to send message: %O",this.logPrefix,this.name,e),yield this._trySend(i,!1,t)}catch(r){throw c["g"].logError(r,"%s An error occurred while sending the message: %O\nError",this.logPrefix,e),r}}))}sendMessages(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{Array.isArray(e)||(e=[e]),c["g"].verbose("%s Sender '%s', trying to send Message[]: %O",this.logPrefix,this.name,e);const r=[],i=[];for(let t=0;t<e.length;t++){const o=X(e[t]);o.body=K.encode(e[t].body),r[t]=o;try{i[t]=l["message"].encode(o)}catch(n){if(n instanceof TypeError||"TypeError"===n.name)throw Q(e[t])||n;throw n}}const o={body:l["message"].data_sections(i)};r[0].message_annotations&&(o.message_annotations=r[0].message_annotations),r[0].application_properties&&(o.application_properties=r[0].application_properties);for(const e of l["messageProperties"])r[0][e]&&(o[e]=r[0][e]);const s=l["message"].encode(o);return c["g"].verbose("%s Sender '%s', sending encoded batch message.",this.logPrefix,this.name,s),yield this._trySend(s,!0,t)}catch(r){throw c["g"].logError(r,"%s Sender '%s': An error occurred while sending the messages: %O\nError",this.logPrefix,this.name,e),r}}))}getMaxMessageSize(e={}){return Object(r["c"])(this,void 0,void 0,(function*(){const t=e.retryOptions||{};return this.isOpen()?this.link.maxMessageSize:new Promise((n,i)=>Object(r["c"])(this,void 0,void 0,(function*(){try{const r={operation:()=>this.open(void 0,null===e||void 0===e?void 0:e.abortSignal),connectionId:this._context.connectionId,operationType:Yt.senderLink,retryOptions:t,abortSignal:null===e||void 0===e?void 0:e.abortSignal};return yield sn(r),n(this.link.maxMessageSize)}catch(r){i(r)}})))}))}createBatch(e){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);let t=yield this.getMaxMessageSize({retryOptions:this._retryOptions,abortSignal:null===e||void 0===e?void 0:e.abortSignal});if(null===e||void 0===e?void 0:e.maxSizeInBytes){if(e.maxSizeInBytes>t){const n=new Error(`Max message size (${e.maxSizeInBytes} bytes) is greater than maximum message size (${t} bytes) on the AMQP sender link.`);throw n}t=e.maxSizeInBytes}return new jn(this._context,t)}))}sendBatch(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){pt(this._context);try{return c["g"].verbose("%s Sender '%s', sending encoded batch message.",this.logPrefix,this.name,e),yield this._trySend(e._generateMessage(),!0,t)}catch(n){throw c["g"].logError(n,"%s Sender '%s': An error occurred while sending the messages: %O\nError",this.logPrefix,this.name,e),n}}))}static create(e,t,n){pt(e);const r=new Dn(e,t,n);return e.senders[r.name]=r,r}}class Un{constructor(e,t,n={}){this._context=e,this._entityPath=t,this._isClosed=!1,pt(e),this.entityPath=t,this._sender=Dn.create(this._context,t,n),this._retryOptions=n}get logPrefix(){return`[${this._context.connectionId}|sender:${this.entityPath}]`}_throwIfSenderOrConnectionClosed(){if(pt(this._context),this.isClosed){const e=vt(this._entityPath),t=new Error(e);throw c["g"].logError(t,`[${this._context.connectionId}] is closed`),t}}get isClosed(){return this._isClosed||this._context.wasConnectionCloseCalled}sendMessages(e,t){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfSenderOrConnectionClosed(),yt(this._context.connectionId,"messages",e);const n="Provided value for 'messages' must be of type ServiceBusMessage, ServiceBusMessageBatch or an array of type ServiceBusMessage.";let r;if(qn(e))r=e;else{Array.isArray(e)||(e=[e]),r=yield this.createMessageBatch(t);for(const i of e)if(kt(i,n),!r.tryAddMessage(i,{parentSpan:Qt(null===t||void 0===t?void 0:t.tracingOptions)}))throw new ct("Messages were too big to fit in a single batch. Remove some messages and try again or create your own batch using createBatch(), which gives more fine-grained control.","MessageSizeExceeded")}const i=Xt(Qt(null===t||void 0===t?void 0:t.tracingOptions),r._messageSpanContexts,this.entityPath,this._context.config.host);try{const e=yield this._sender.sendBatch(r,t);return i.setStatus({code:jt["CanonicalCode"].OK}),e}catch(o){throw i.setStatus({code:jt["CanonicalCode"].UNKNOWN,message:o.message}),o}finally{i.end()}}))}createMessageBatch(e){return Object(r["c"])(this,void 0,void 0,(function*(){return this._throwIfSenderOrConnectionClosed(),this._sender.createBatch(e)}))}scheduleMessages(e,t,n={}){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfSenderOrConnectionClosed(),yt(this._context.connectionId,"scheduledEnqueueTimeUtc",t),yt(this._context.connectionId,"messages",e);const i=Array.isArray(e)?e:[e];for(const e of i)kt(e,"Provided value for 'messages' must be of type ServiceBusMessage or an array of type ServiceBusMessage.");const o=()=>Object(r["c"])(this,void 0,void 0,(function*(){return this._context.getManagementClient(this._entityPath).scheduleMessages(t,i,Object.assign(Object.assign({},n),{associatedLinkName:this._sender.name,requestName:"scheduleMessages",timeoutInMs:this._retryOptions.timeoutInMs}))})),s={operation:o,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===n||void 0===n?void 0:n.abortSignal};return sn(s)}))}cancelScheduledMessages(e,t={}){return Object(r["c"])(this,void 0,void 0,(function*(){this._throwIfSenderOrConnectionClosed(),yt(this._context.connectionId,"sequenceNumbers",e),bt(this._context.connectionId,"sequenceNumbers",e);const n=Array.isArray(e)?e:[e],i=()=>Object(r["c"])(this,void 0,void 0,(function*(){return this._context.getManagementClient(this._entityPath).cancelScheduledMessages(n,Object.assign(Object.assign({},t),{associatedLinkName:this._sender.name,requestName:"cancelScheduledMessages",timeoutInMs:this._retryOptions.timeoutInMs}))})),o={operation:i,connectionId:this._context.connectionId,operationType:Yt.management,retryOptions:this._retryOptions,abortSignal:null===t||void 0===t?void 0:t.abortSignal};return sn(o)}))}close(){return Object(r["c"])(this,void 0,void 0,(function*(){try{this._isClosed=!0,yield this._sender.close()}catch(e){throw c["g"].logError(e,this.logPrefix+" An error occurred while closing the Sender"),e}}))}}function qn(e){if(null==e)return!1;const t=e;return"function"===typeof t.tryAddMessage&&"number"===typeof t.maxSizeInBytes&&"number"===typeof t.sizeInBytes}class $n extends dt{constructor(e,t,n,i){super(t,t,e,"session",c["f"],{address:t,audience:`${e.config.endpoint}${t}`}),this._providedSessionId=n,this.maxConcurrentCalls=1,this._deliveryDispositionMap=new Map,this._receiverHelper=new tn(()=>({receiver:this.link,logPrefix:this.logPrefix})),i||(i={}),this.autoComplete=!1,void 0!=this._providedSessionId&&(this.sessionId=this._providedSessionId),this.receiveMode=i.receiveMode||"peekLock",this.maxAutoRenewDurationInMs=null!=i.maxAutoLockRenewalDurationInMs?i.maxAutoLockRenewalDurationInMs:3e5,this._totalAutoLockRenewDuration=Date.now()+this.maxAutoRenewDurationInMs,this.autoRenewLock=this.maxAutoRenewDurationInMs>0&&"peekLock"===this.receiveMode,this._isReceivingMessagesForSubscriber=!1,this._batchingReceiverLite=new An(e,t,e=>Object(r["c"])(this,void 0,void 0,(function*(){return this.link})),this.receiveMode),this._onSettled=e=>{const t=e.delivery;Zt(this.logPrefix,t,this._deliveryDispositionMap)},this._notifyError=e=>{this._onError&&(this._onError(e),c["f"].verbose("%s Notified the user's error handler about the error received by the Receiver",this.logPrefix))},this._onAmqpError=e=>{const t=e.receiver&&e.receiver.error;if(t){const e=ut(t);"SessionLockLostError"===e.code&&(e.message=`The session lock has expired on the session with id ${this.sessionId}.`),c["f"].logError(e,"%s An error occurred for Receiver",this.logPrefix),this._notifyError({error:e,errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}},this._onSessionError=e=>{const t=this._context.connectionId,n=e.session&&e.session.error;if(n){const e=ut(n);c["f"].logError(e,"[%s] An error occurred on the session for Receiver '%s': %O.",t,this.name,e),this._notifyError({error:e,errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}},this._onAmqpClose=e=>Object(r["c"])(this,void 0,void 0,(function*(){const t=this._context.connectionId,n=e.receiver&&e.receiver.error,r=this.link||e.receiver;if(n){const e=ut(n);c["f"].logError(e,"[%s] 'receiver_close' event occurred for receiver '%s' for sessionId '%s'. The associated error is: %O",t,this.name,this.sessionId,e)}if(r&&!r.isItselfClosed()){c["f"].verbose("%s 'receiver_close' event occurred on the receiver for sessionId '%s' and the sdk did not initiate this. Hence, let's gracefully close the receiver.",this.logPrefix,this.sessionId);try{yield this.close()}catch(i){c["f"].logError(i,"%s An error occurred while closing the receiver for sessionId '%s'.",this.logPrefix,this.sessionId)}}else c["f"].verbose("%s 'receiver_close' event occurred on the receiver for sessionId '%s' because the sdk initiated it. Hence no need to gracefully close the receiver",this.logPrefix,this.sessionId)})),this._onSessionClose=e=>Object(r["c"])(this,void 0,void 0,(function*(){const t=this.link||e.receiver,n=e.session&&e.session.error;if(n){const e=ut(n);c["f"].logError(e,"%s 'session_close' event occurred for receiver for sessionId '%s'. The associated error is",this.logPrefix,this.sessionId)}if(t&&!t.isSessionItselfClosed()){c["f"].verbose("%s 'session_close' event occurred on the receiver for sessionId '%s' and the sdk did not initiate this. Hence, let's gracefully close the receiver.",this.logPrefix,this.sessionId);try{yield this.close()}catch(r){c["f"].logError(r,"%s An error occurred while closing the receiver for sessionId '%s'",this.logPrefix,this.sessionId)}}else c["f"].verbose("%s 'session_close' event occurred on the receiver for sessionId'%s' because the sdk initiated it. Hence no need to gracefully close the receiver",this.logPrefix,this.sessionId)}))}get isReceivingMessages(){return this._batchingReceiverLite.isReceivingMessages||this._isReceivingMessagesForSubscriber}get receiverHelper(){return this._receiverHelper}_ensureSessionLockRenewal(){if(this.autoRenewLock&&new Date(this._totalAutoLockRenewDuration)>this.sessionLockedUntilUtc&&Date.now()<this._totalAutoLockRenewDuration&&this.isOpen()){const e=Object(W["b"])(this.sessionLockedUntilUtc);this._sessionLockRenewalTimer=setTimeout(()=>Object(r["c"])(this,void 0,void 0,(function*(){try{c["f"].verbose("%s Attempting to renew the session lock for MessageSession '%s' with name '%s'.",this.logPrefix,this.sessionId,this.name),this.sessionLockedUntilUtc=yield this._context.getManagementClient(this.entityPath).renewSessionLock(this.sessionId,{associatedLinkName:this.name,timeoutInMs:1e4}),c["f"].verbose("%s Successfully renewed the session lock for MessageSession '%s' with name '%s'.",this.logPrefix,this.sessionId,this.name),c["f"].verbose("%s Calling _ensureSessionLockRenewal() again for MessageSession '%s'.",this.logPrefix,this.sessionId),this._ensureSessionLockRenewal()}catch(e){c["f"].logError(e,"%s An error occurred while renewing the session lock for MessageSession '%s'",this.logPrefix,this.sessionId)}})),e),c["f"].verbose("%s MessageSession '%s' has next session lock renewal in %d milliseconds @(%s).",this.logPrefix,this.sessionId,e,new Date(Date.now()+e).toString())}}createRheaLink(e,t){return this._context.connection.createReceiver(e)}_init(e){return Object(r["c"])(this,void 0,void 0,(function*(){try{const t=this._createMessageSessionOptions();if(yield this.initLink(t,e),null==this.link)throw new Error("INTERNAL ERROR: failed to create receiver but without an error.");const n=this.link.source&&this.link.source.filter&&this.link.source.filter[h.sessionFilterName];let r="";if(null==this._providedSessionId&&null==n?r="Failed to create a receiver. No unlocked sessions available.":null!=this._providedSessionId&&n!==this._providedSessionId&&(r=`Failed to create a receiver for the requested session '${this._providedSessionId}'. It may be locked by another receiver.`),r){const e=ut({description:r,condition:y.SessionCannotBeLockedError});throw c["f"].logError(e,this.logPrefix),e}null==this._providedSessionId&&(this.sessionId=n),this.sessionLockedUntilUtc=Object(W["d"])(this.link.properties["com.microsoft:locked-until-utc"]),c["f"].verbose("%s Session with id '%s' is locked until: '%s'.",this.logPrefix,this.sessionId,this.sessionLockedUntilUtc.toISOString()),c["f"].verbose("%s Receiver created with receiver options: %O",this.logPrefix,t),this._context.messageSessions[this.name]||(this._context.messageSessions[this.name]=this),this._totalAutoLockRenewDuration=Date.now()+this.maxAutoRenewDurationInMs,this._ensureSessionLockRenewal()}catch(t){const e=ut(t);throw c["f"].logError(e,"%s An error occured while creating the receiver",this.logPrefix),"OperationTimeoutError"===e.code&&(this._providedSessionId?e.message=`Failed to create a receiver for the requested session '${this._providedSessionId}' within allocated time and retry attempts.`:e.message="Failed to create a receiver within allocated time and retry attempts."),e}}))}_createMessageSessionOptions(){const e={name:this.name,autoaccept:!1,rcv_settle_mode:"receiveAndDelete"===this.receiveMode?0:1,snd_settle_mode:"receiveAndDelete"===this.receiveMode?1:0,source:{address:this.address,filter:{}},credit_window:0,onClose:e=>this._onAmqpClose(e).catch(()=>{}),onSessionClose:e=>this._onSessionClose(e).catch(()=>{}),onError:this._onAmqpError,onSessionError:this._onSessionError,onSettled:this._onSettled};return e.source.filter[h.sessionFilterName]=this.sessionId,e}close(){const e=Object.create(null,{close:{get:()=>super.close}});return Object(r["c"])(this,void 0,void 0,(function*(){try{this._isReceivingMessagesForSubscriber=!1,this._sessionLockRenewalTimer&&clearTimeout(this._sessionLockRenewalTimer),c["f"].verbose("%s Cleared the timers for 'no new message received' task and 'session lock renewal' task.",this.logPrefix),yield e.close.call(this),yield this._batchingReceiverLite.close()}catch(t){c["f"].logError(t,"%s An error occurred while closing the message session with id '%s'",this.logPrefix,this.sessionId)}}))}isOpen(){const e=this.link&&this.link.isOpen();return c["f"].verbose("%s Receiver for sessionId '%s' is open? -> %s",this.logPrefix,this.sessionId,e),e}subscribe(e,t,n){var i;if(n||(n={}),null===(i=n.abortSignal)||void 0===i?void 0:i.aborted)throw new T["a"](W["a"]);if(this._isReceivingMessagesForSubscriber=!0,"number"===typeof n.maxConcurrentCalls&&n.maxConcurrentCalls>0&&(this.maxConcurrentCalls=n.maxConcurrentCalls),this.autoComplete=!1!==n.autoCompleteMessages||n.autoCompleteMessages,this._onMessage=e,this._onError=t,this.link&&this.link.isOpen()){const e=e=>Object(r["c"])(this,void 0,void 0,(function*(){if("peekLock"===this.receiveMode&&(!this.link||!this.link.isOpen()))return void c["f"].verbose("%s Not calling the user's message handler for the current message as the receiver is closed",this.logPrefix);const t=new ee(e.message,e.delivery,!0,this.receiveMode);try{yield this._onMessage(t)}catch(n){c["f"].logError(n,"%s An error occurred while running user's message handler for the message with id '%s' on the receiver",this.logPrefix,t.messageId),this._onError({error:n,errorSource:"processMessageCallback",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host});const e=ut(n);if(!t.delivery.remote_settled&&"peekLock"===this.receiveMode&&this.isOpen())try{c["f"].logError(e,"%s Abandoning the message with id '%s' on the receiver since an error occured",this.logPrefix,t.messageId),yield dn(t,this._context,this.entityPath)}catch(r){const e=ut(r);c["f"].logError(e,"%s An error occurred while abandoning the message with id '%s' on the receiver",this.logPrefix,t.messageId,e),this._notifyError({error:e,errorSource:"abandon",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}return}finally{this.receiverHelper.addCredit(1)}if(this.autoComplete&&"peekLock"===this.receiveMode&&!t.delivery.remote_settled)try{c["f"].verbose("%s Auto completing the message with id '%s' on the receiver.",this.logPrefix,t.messageId),yield ln(t,this._context,this.entityPath)}catch(i){const e=ut(i);c["f"].logError(e,"%s An error occurred while completing the message with id '%s' on the receiver",this.logPrefix,t.messageId),this._notifyError({error:e,errorSource:"complete",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}}));this.link.on(l["ReceiverEvents"].message,e),this.receiverHelper.addCredit(this.maxConcurrentCalls)}else{this._isReceivingMessagesForSubscriber=!1;const e=`MessageSession with sessionId '${this.sessionId}' and name '${this.name}' has either not been created or is not open.`;c["f"].verbose("[%s] %s",this._context.connectionId,e),this._notifyError({error:new Error(e),errorSource:"receive",entityPath:this.entityPath,fullyQualifiedNamespace:this._context.config.host})}}receiveMessages(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){try{return yield this._batchingReceiverLite.receiveMessages(Object.assign({maxMessageCount:e,maxWaitTimeInMs:t,maxTimeAfterFirstMessageInMs:n},i))}catch(r){throw c["f"].logError(r,this.logPrefix+" Rejecting receiveMessages() with error"),r}}))}settleMessage(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){return new Promise((r,i)=>{if(n||(n={}),null==t.match(/^(complete|abandon|defer|deadletter)$/))return i(new Error(`operation: '${t}' is not a valid operation.`));const o=e.delivery,s=setTimeout(()=>{this._deliveryDispositionMap.delete(o.id),c["f"].verbose("[%s] Disposition for delivery id: %d, did not complete in %d milliseconds. Hence rejecting the promise with timeout error",this._context.connectionId,o.id,h.defaultOperationTimeoutInMs);const e={condition:y.ServiceUnavailableError,description:"Operation to settle the message has timed out. The disposition of the message may or may not be successful"};return i(ut(e))},h.defaultOperationTimeoutInMs);if(this._deliveryDispositionMap.set(o.id,{resolve:r,reject:i,timer:s}),t===V.complete)o.accept();else if(t===V.abandon){const e={undeliverable_here:!1};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),o.modified(e)}else if(t===V.defer){const e={undeliverable_here:!0};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),o.modified(e)}else if(t===V.deadletter){const e={condition:h.deadLetterName,info:Object.assign(Object.assign({},n.propertiesToModify),{DeadLetterReason:n.deadLetterReason,DeadLetterErrorDescription:n.deadLetterDescription})};o.reject(e)}})}))}static create(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){pt(e);const r=new $n(e,t,n,i);return yield r._init(null===i||void 0===i?void 0:i.abortSignal),r}))}}class Bn{constructor(e,t,n){if(i(t)){const r=e,i=t;this._clientOptions=n||{},this._connectionContext=Nt(i,r,this._clientOptions)}else{const n=e;this._clientOptions=t||{},this._connectionContext=Lt(n,this._clientOptions)}this.fullyQualifiedNamespace=this._connectionContext.config.host,this._clientOptions.retryOptions=this._clientOptions.retryOptions||{};const r=this._clientOptions.retryOptions.timeoutInMs;if(void 0!=r&&("number"!==typeof r||!isFinite(r)||r<=0))throw new Error(r+" is an invalid value for retryOptions.timeoutInMs")}createReceiver(e,t,n){Yn(this._connectionContext.config,e);const{entityPath:r,receiveMode:i,options:o}=Fn(e,t,n);let s=r;if(null===o||void 0===o?void 0:o.subQueueType)switch(null===o||void 0===o?void 0:o.subQueueType){case"deadLetter":s+="/$DeadLetterQueue";break;case"transferDeadLetter":s+="/$Transfer/$DeadLetterQueue";break;default:throw new Error(`Invalid subQueueType '${null===o||void 0===o?void 0:o.subQueueType}' provided. Valid values are 'deadLetter' and 'transferDeadLetter'`)}const a=null!=(null===o||void 0===o?void 0:o.maxAutoLockRenewalDurationInMs)?o.maxAutoLockRenewalDurationInMs:3e5;return new Tn(this._connectionContext,s,i,a,this._clientOptions.retryOptions)}acceptSession(e,t,n,i){return Object(r["c"])(this,void 0,void 0,(function*(){let r,o,s,a;if(Yn(this._connectionContext.config,e),"string"===typeof e&&"string"===typeof t&&"string"===typeof n)r=n,({entityPath:o,receiveMode:s,options:a}=Fn(e,t,i));else{if("string"!==typeof e||"string"!==typeof t||"string"===typeof n)throw new Error("Unhandled set of parameters");r=t,({entityPath:o,receiveMode:s,options:a}=Fn(e,n,void 0))}const c=yield $n.create(this._connectionContext,o,r,{maxAutoLockRenewalDurationInMs:null===a||void 0===a?void 0:a.maxAutoLockRenewalDurationInMs,receiveMode:s,abortSignal:null===a||void 0===a?void 0:a.abortSignal}),u=new Rn(c,this._connectionContext,o,s,this._clientOptions.retryOptions);return u}))}acceptNextSession(e,t,n){return Object(r["c"])(this,void 0,void 0,(function*(){Yn(this._connectionContext.config,e);const{entityPath:r,receiveMode:i,options:o}=Fn(e,t,n),s=yield $n.create(this._connectionContext,r,void 0,{maxAutoLockRenewalDurationInMs:null===o||void 0===o?void 0:o.maxAutoLockRenewalDurationInMs,receiveMode:i,abortSignal:null===o||void 0===o?void 0:o.abortSignal}),a=new Rn(s,this._connectionContext,r,i,this._clientOptions.retryOptions);return a}))}createSender(e){return Yn(this._connectionContext.config,e),new Un(this._connectionContext,e,this._clientOptions.retryOptions)}close(){return Pt.close(this._connectionContext)}}function Fn(e,t,n){let r,i,o;if("string"===typeof t){const o=e,s=t;r=`${o}/Subscriptions/${s}`,i=n}else r=e,i=t;if(void 0==(null===i||void 0===i?void 0:i.receiveMode)||"peekLock"===i.receiveMode)o="peekLock";else{if("receiveAndDelete"!==i.receiveMode)throw new TypeError(`Invalid receiveMode '${null===i||void 0===i?void 0:i.receiveMode}' provided. Valid values are 'peekLock' and 'receiveAndDelete'`);o="receiveAndDelete"}return null===i||void 0===i||delete i.receiveMode,{entityPath:r,receiveMode:o,options:i}}function Yn(e,t){if(e.entityPath&&e.entityPath!==t)throw new Error(ht)}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c3a9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("faa1");class i extends r.EventEmitter{constructor(){super(),this.actionInitiated=0}}t.Entity=i},c430:function(e,t){e.exports=!1},c510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=function(){function e(e){this._currentContext=e?new Map(e):new Map}return e.createKey=function(e){return Symbol(e)},e.prototype.getValue=function(e){return this._currentContext.get(e)},e.prototype.setValue=function(t,n){var r=new e(this._currentContext);return r._currentContext.set(t,n),r},e.prototype.deleteValue=function(t){var n=new e(this._currentContext);return n._currentContext.delete(t),n},e.ROOT_CONTEXT=new e,e.TODO=e.ROOT_CONTEXT,e}();t.Context=r},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOperationTimeoutInSeconds=60},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c8d2:function(e,t,n){var r=n("d039"),i=n("5899"),o="​᠎";e.exports=function(e){return r((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},cadb:function(e,t,n){"use strict";(function(t){var r=n("a991"),i={allocate_buffer:function(e){return t.alloc?t.alloc(e):new t(e)},generate_uuid:function(){return i.uuid_to_string(i.uuid4())},uuid4:function(){for(var e=i.allocate_buffer(16),t=0;t<e.length;t++)e[t]=255*Math.random()|0;return e[7]&=15,e[7]|=64,e[8]&=63,e[8]|=128,e},uuid_to_string:function(e){if(16===e.length){var t=[e.slice(0,4),e.slice(4,6),e.slice(6,8),e.slice(8,10),e.slice(10,16)];return t.map((function(e){return e.toString("hex")})).join("-")}throw new r.TypeError("Not a UUID, expecting 16 byte buffer")}},o=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;i.string_to_uuid=function(e){var n=o.exec(e.toLowerCase());if(n)return t.from(n.slice(1).join(""),"hex");throw new r.TypeError("Not a valid UUID string: "+e)},i.clone=function(e){for(var t=Object.create(e.prototype||{}),n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},i.and=function(e,t){return void 0===t?e:function(n){return e(n)&&t(n)}},i.is_sender=function(e){return e.is_sender()},i.is_receiver=function(e){return e.is_receiver()},i.sender_filter=function(e){return i.and(i.is_sender,e)},i.receiver_filter=function(e){return i.and(i.is_receiver,e)},i.is_defined=function(e){return void 0!==e&&null!==e},e.exports=i}).call(this,n("b639").Buffer)},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d009:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=t.metrics=t.trace=t.context=void 0,i(n("b7f1"),t),i(n("e453"),t),i(n("950c"),t),i(n("b3ac"),t),i(n("12d3"),t),i(n("564d"),t),i(n("68ed"),t),i(n("182b"),t),i(n("8a9c"),t),i(n("0b1c"),t),i(n("5f0b"),t),i(n("73f8"),t),i(n("abb3"),t),i(n("a6bc"),t),i(n("4fd2"),t),i(n("751e"),t),i(n("97e2"),t),i(n("39e0"),t),i(n("72f6"),t),i(n("41a3"),t),i(n("5d2f"),t),i(n("932c"),t),i(n("4a9b"),t),i(n("e168"),t),i(n("b624"),t),i(n("a91d"),t),i(n("dc66"),t),i(n("6561"),t),i(n("74e4"),t),i(n("686f"),t),i(n("d309"),t),i(n("6695"),t),i(n("b497"),t),i(n("72a9"),t),i(n("5c8a"),t),i(n("a02d"),t),i(n("3b4b"),t);var o=n("6381");Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return o.Context}});var s=n("b322");t.context=s.ContextAPI.getInstance();var a=n("2832");t.trace=a.TraceAPI.getInstance();var c=n("db05");t.metrics=c.MetricsAPI.getInstance();var u=n("7fe2");t.propagation=u.PropagationAPI.getInstance(),t.default={trace:t.trace,metrics:t.metrics,context:t.context,propagation:t.propagation}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d07e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_BACKWARDS_COMPATIBILITY_VERSION=t.makeGetter=t._global=t.GLOBAL_TRACE_API_KEY=t.GLOBAL_PROPAGATION_API_KEY=t.GLOBAL_METRICS_API_KEY=t.GLOBAL_CONTEXT_MANAGER_API_KEY=void 0;var r=n("3399");function i(e,t,n){return function(r){return r===e?t:n}}t.GLOBAL_CONTEXT_MANAGER_API_KEY=Symbol.for("io.opentelemetry.js.api.context"),t.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics"),t.GLOBAL_PROPAGATION_API_KEY=Symbol.for("io.opentelemetry.js.api.propagation"),t.GLOBAL_TRACE_API_KEY=Symbol.for("io.opentelemetry.js.api.trace"),t._global=r._globalThis,t.makeGetter=i,t.API_BACKWARDS_COMPATIBILITY_VERSION=0},d1bc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("2f9e"),i=n("ac86"),o=n("305b"),s=n("371b"),a=n("1d38"),c=n("c3a9"),u=n("5921"),l=n("0c17");var d;(function(e){e["sender"]="sender",e["AwaitableSender"]="AwaitableSender"})(d||(d={}));class h extends c.Entity{constructor(e,t){super(),this._connection=e,this._session=t,this._initializeEventListeners()}get connection(){return this._connection}get outgoing(){return this._session.outgoing}get error(){return this._session.error}get id(){let e="";const t=this._session;return t.local&&(e+=`local-${t.local.channel}_`),t.remote&&(e+=`remote-${t.remote.channel}_`),e&&(e+=""+this._connection.id),e}isOpen(){let e=!1;return this._connection.isOpen()&&this._session.is_open()&&(e=!0),e}isClosed(){return this._session.is_closed()}isItselfClosed(){return this._session.is_itself_closed()}remove(){this._session&&(this.removeAllListeners(),this._session.removeAllListeners(),this._session.remove())}begin(){this._session&&this._session.begin()}close(){return this.removeAllListeners(),new Promise((e,t)=>{if(r.error("[%s] The amqp session '%s' is open ? -> %s",this.connection.id,this.id,this.isOpen()),!this.isOpen())return e();{let n,i,o,a;const c=()=>{clearTimeout(a),this.actionInitiated--,this._session.removeListener(s.SessionEvents.sessionError,n),this._session.removeListener(s.SessionEvents.sessionClose,i),this._session.connection.removeListener(s.ConnectionEvents.disconnected,o)};i=t=>(c(),r.session("[%s] Resolving the promise as the amqp session '%s' has been closed.",this.connection.id,this.id),e()),n=e=>{c(),r.error("[%s] Error occurred while closing amqp session '%s'.",this.connection.id,this.id,e.session.error),t(e.session.error)},o=e=>{c();const t=e.connection&&e.connection.error?e.connection.error:e.error;r.error("[%s] Connection got disconnected while closing amqp session '%s': %O.",this.connection.id,this.id,t)};const l=()=>{c();const e=`Unable to close the amqp session ${this.id} due to operation timeout.`;r.error("[%s] %s",this.connection.id,e),t(new u.OperationTimeoutError(e))};this._session.once(s.SessionEvents.sessionClose,i),this._session.once(s.SessionEvents.sessionError,n),this._session.connection.once(s.ConnectionEvents.disconnected,o),r.session("[%s] Calling session.close() for amqp session '%s'.",this.connection.id,this.id),a=setTimeout(l,1e3*this.connection.options.operationTimeoutInSeconds),this._session.close(),this.actionInitiated++}})}createReceiver(e){return new Promise((t,n)=>{if(e&&(e.onMessage&&!e.onError||e.onError&&!e.onMessage)&&0!==e.credit_window)return n(new Error("Either provide both 'onMessage' and 'onError' handlers, or please set the credit_window to 0, if you want to provide only the 'onError' handler. This ensures no messages are lost between the receiver getting created  and the 'onMessage' handler being added."));e&&e.onSessionError&&(this.on(s.SessionEvents.sessionError,e.onSessionError),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session: %s', while creating the 'receiver'.",this.connection.id,s.SessionEvents.sessionError,this.id)),e&&e.onSessionClose&&(this.on(s.SessionEvents.sessionClose,e.onSessionClose),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session: %s',  while creating the 'receiver'.",this.connection.id,s.SessionEvents.sessionClose,this.id));const o=this._session.attach_receiver(e),a=new i.Receiver(this,o,e);let c,l,d,h;a.actionInitiated++,e&&e.onMessage&&(a.on(s.ReceiverEvents.message,e.onMessage),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.message)),e&&e.onError&&(a.on(s.ReceiverEvents.receiverError,e.onError),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.receiverError)),e&&e.onClose&&(a.on(s.ReceiverEvents.receiverClose,e.onClose),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.receiverClose)),e&&e.onSettled&&(a.on(s.ReceiverEvents.settled,e.onSettled),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.settled));const f=()=>{clearTimeout(h),a.actionInitiated--,o.removeListener(s.ReceiverEvents.receiverOpen,c),o.removeListener(s.ReceiverEvents.receiverClose,l),o.session.connection.removeListener(s.ConnectionEvents.disconnected,d)};c=e=>(f(),r.receiver("[%s] Resolving the promise with amqp receiver '%s' on amqp session '%s'.",this.connection.id,a.name,this.id),t(a)),l=e=>(f(),r.error("[%s] Error occurred while creating the amqp receiver '%s' on amqp session '%s' over amqp connection: %O.",this.connection.id,a.name,this.id,e.receiver.error),n(e.receiver.error)),d=e=>{f();const t=e.connection&&e.connection.error?e.connection.error:e.error;return r.error("[%s] Connection got disconnected while creating amqp receiver '%s' on amqp session '%s': %O.",this.connection.id,a.name,this.id,t),n(t)};const p=()=>{f();const e=`Unable to create the amqp receiver '${a.name}' on amqp session '${this.id}' due to operation timeout.`;return r.error("[%s] %s",this.connection.id,e),n(new u.OperationTimeoutError(e))};o.once(s.ReceiverEvents.receiverOpen,c),o.once(s.ReceiverEvents.receiverClose,l),o.session.connection.on(s.ConnectionEvents.disconnected,d),h=setTimeout(p,1e3*this.connection.options.operationTimeoutInSeconds)})}createSender(e){return this._createSender(d.sender,e)}createAwaitableSender(e){return this._createSender(d.AwaitableSender,e)}_createSender(e,t){return new Promise((n,i)=>{t&&t.onSessionError&&(this.on(s.SessionEvents.sessionError,t.onSessionError),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session: %s', while creating the sender.",this.connection.id,s.SessionEvents.sessionError,this.id)),t&&t.onSessionClose&&(this.on(s.SessionEvents.sessionClose,t.onSessionClose),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session: %s', while creating the sender.",this.connection.id,s.SessionEvents.sessionClose,this.id));const a=this._session.attach_sender(t);let c,h,f,p,v;c=e===d.sender?new o.Sender(this,a,t):new l.AwaitableSender(this,a,t),c.actionInitiated++,t&&(t.onError&&c.on(s.SenderEvents.senderError,t.onError),t.onClose&&c.on(s.SenderEvents.senderClose,t.onClose),e===d.sender&&(t.onAccepted&&c.on(s.SenderEvents.accepted,t.onAccepted),t.onRejected&&c.on(s.SenderEvents.rejected,t.onRejected),t.onReleased&&c.on(s.SenderEvents.released,t.onReleased),t.onModified&&c.on(s.SenderEvents.modified,t.onModified)));const m=()=>{clearTimeout(v),c.actionInitiated--,a.removeListener(s.SenderEvents.senderOpen,h),a.removeListener(s.SenderEvents.senderClose,f),a.session.connection.removeListener(s.ConnectionEvents.disconnected,p)};h=e=>(m(),r.sender("[%s] Resolving the promise with amqp sender '%s' on amqp session '%s'.",this.connection.id,c.name,this.id),n(c)),f=e=>(m(),r.error("[%s] Error occurred while creating the amqp sender '%s' on amqp session '%s' over amqp connection: %O.",this.connection.id,c.name,this.id,e.sender.error),i(e.sender.error)),p=e=>{m();const t=e.connection&&e.connection.error?e.connection.error:e.error;return r.error("[%s] Connection got disconnected while creating amqp sender '%s' on amqp session '%s': %O.",this.connection.id,c.name,this.id,t),i(t)};const g=()=>{m();const e=`Unable to create the amqp sender '${c.name}' on amqp session '${this.id}' due to operation timeout.`;return r.error("[%s] %s",this.connection.id,e),i(new u.OperationTimeoutError(e))};a.once(s.SenderEvents.sendable,h),a.once(s.SenderEvents.senderClose,f),a.session.connection.on(s.ConnectionEvents.disconnected,p),v=setTimeout(g,1e3*this.connection.options.operationTimeoutInSeconds)})}_initializeEventListeners(){for(const e in s.SessionEvents)this._session.on(s.SessionEvents[e],t=>{const n={rheaContext:t,emitter:this,eventName:s.SessionEvents[e],emitterType:"session",connectionId:this.connection.id};a.emitEvent(n)});this._session.on(s.SenderEvents.senderError,e=>{const t={rheaContext:e,emitter:this,eventName:s.SenderEvents.senderError,emitterType:"session",connectionId:this.connection.id};a.emitEvent(t)}),this._session.on(s.SenderEvents.senderClose,e=>{const t={rheaContext:e,emitter:this,eventName:s.SenderEvents.senderClose,emitterType:"session",connectionId:this.connection.id};a.emitEvent(t)}),this._session.on(s.ReceiverEvents.receiverError,e=>{const t={rheaContext:e,emitter:this,eventName:s.ReceiverEvents.receiverError,emitterType:"session",connectionId:this.connection.id};a.emitEvent(t)}),this._session.on(s.ReceiverEvents.receiverClose,e=>{const t={rheaContext:e,emitter:this,eventName:s.ReceiverEvents.receiverClose,emitterType:"session",connectionId:this.connection.id};a.emitEvent(t)}),"function"===typeof this._session.eventNames&&r.eventHandler("[%s] rhea-promise 'session' object '%s' is listening for events: %o emitted by rhea's 'session' object.",this.connection.id,this.id,this._session.eventNames())}}t.Session=h},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9263"),a=n("9112"),c=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var p=o(e),v=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=v&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!v||!m||"replace"===e&&(!u||!l||h)||"split"===e&&!f){var g=/./[p],y=n(p,""[e],(function(e,t,n,r,i){return t.exec===s?v&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=y[0],b=y[1];r(String.prototype,e,_),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&a(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),a=o("map"),c=s("map");r({target:"Array",proto:!0,forced:!a||!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da5a:function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e["__isLong__"])}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},s={};function a(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=s[e],r)?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=o[e],r)?r:(n=u(e,e<0?-1:0,!1),i&&(o[e]=n),n))}function c(e,t){if(isNaN(e))return t?b:_;if(t){if(e<0)return b;if(e>=m)return C}else{if(e<=-g)return x;if(e+1>=g)return S}return e<0?c(-e,t).neg():u(e%v|0,e/v|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=c,r.fromBits=u;var l=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return _;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var i=c(l(n,8)),o=_,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),n);if(a<8){var h=c(l(n,a));o=o.mul(h).add(c(u))}else o=o.mul(i),o=o.add(c(u))}return o.unsigned=t,o}function h(e,t){return"number"===typeof e?c(e,t):"string"===typeof e?d(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=h;var f=65536,p=1<<24,v=f*f,m=v*v,g=m/2,y=a(p),_=a(0);r.ZERO=_;var b=a(0,!0);r.UZERO=b;var w=a(1);r.ONE=w;var E=a(1,!0);r.UONE=E;var O=a(-1);r.NEG_ONE=O;var S=u(-1,2147483647,!1);r.MAX_VALUE=S;var C=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=C;var x=u(0,-2147483648,!1);r.MIN_VALUE=x;var A=r.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*v+(this.low>>>0):this.high*v+(this.low>>>0)},A.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}var i=c(l(e,6),this.unsigned),o=this,s="";while(1){var a=o.div(i),u=o.sub(a.mul(i)).toInt()>>>0,d=u.toString(e);if(o=a,o.isZero())return d+s;while(d.length<6)d="0"+d;s=""+d+s}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1===(1&this.low)},A.isEven=function(){return 0===(1&this.low)},A.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},A.eq=A.equals,A.notEquals=function(e){return!this.eq(e)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(e){return this.comp(e)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(e){return this.comp(e)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(e){return this.comp(e)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(e){return this.comp(e)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(w)},A.neg=A.negate,A.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,c=e.low>>>16,l=65535&e.low,d=0,f=0,p=0,v=0;return v+=o+l,p+=v>>>16,v&=65535,p+=r+c,f+=p>>>16,p&=65535,f+=n+a,d+=f>>>16,f&=65535,d+=t+s,d&=65535,u(p<<16|v,d<<16|f,this.unsigned)},A.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},A.sub=A.subtract,A.multiply=function(e){if(this.isZero())return _;if(i(e)||(e=h(e)),n){var t=n.mul(this.low,this.high,e.low,e.high);return u(t,n.get_high(),this.unsigned)}if(e.isZero())return _;if(this.eq(x))return e.isOdd()?x:_;if(e.eq(x))return this.isOdd()?x:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return c(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,l=e.high>>>16,d=65535&e.high,f=e.low>>>16,p=65535&e.low,v=0,m=0,g=0,b=0;return b+=a*p,g+=b>>>16,b&=65535,g+=s*p,m+=g>>>16,g&=65535,g+=a*f,m+=g>>>16,g&=65535,m+=o*p,v+=m>>>16,m&=65535,m+=s*f,v+=m>>>16,m&=65535,m+=a*d,v+=m>>>16,m&=65535,v+=r*p+o*f+s*d+a*l,v&=65535,u(g<<16|b,v<<16|m,this.unsigned)},A.mul=A.multiply,A.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;var t=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high);return u(t,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?b:_;var r,o,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return E;s=b}else{if(this.eq(x)){if(e.eq(w)||e.eq(O))return x;if(e.eq(x))return w;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(_)?e.isNegative()?w:O:(o=this.sub(e.mul(r)),s=r.add(o.div(e)),s)}if(e.eq(x))return this.unsigned?b:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=_}o=this;while(o.gte(e)){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));var d=Math.ceil(Math.log(r)/Math.LN2),f=d<=48?1:l(2,d-48),p=c(r),v=p.mul(e);while(v.isNegative()||v.gt(o))r-=f,p=c(r,this.unsigned),v=p.mul(e);p.isZero()&&(p=w),s=s.add(p),o=o.sub(v)}return s},A.div=A.divide,A.modulo=function(e){if(i(e)||(e=h(e)),n){var t=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high);return u(t,n.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return u(~this.low,~this.high,this.unsigned)},A.and=function(e){return i(e)||(e=h(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},A.or=function(e){return i(e)||(e=h(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},A.xor=function(e){return i(e)||(e=h(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},A.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),e&=63,0===e)return this;var t=this.high;if(e<32){var n=this.low;return u(n>>>e|t<<32-e,t>>>e,this.unsigned)}return u(32===e?t:t>>>e-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},A.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},A.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},da72:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("f0f3");const i=d("service-bus"),o=d("service-bus:receiver"),s=d("service-bus:sender"),a=d("service-bus:connection"),c=(d("service-bus:administration"),d("service-bus:messages")),u=d("service-bus:management");function l(e,t){t&&t.stack&&e.verbose(t.stack)}function d(e){const t=Object(r["a"])(e);return t["logError"]=(e,...n)=>{let r;r=h(e)&&"AbortError"===e.name?t.info:t.warning,n.push(":",e),r(...n),e&&e.stack&&t.verbose(e.stack)},t}function h(e){return null!=e&&null!=e.name}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},db05:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;var r=n("4fd2"),i=n("d07e"),o=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return i._global[i.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(i._global[i.GLOBAL_METRICS_API_KEY]=i.makeGetter(i.API_BACKWARDS_COMPATIBILITY_VERSION,e,r.NOOP_METER_PROVIDER),e)},e.prototype.getMeterProvider=function(){var e,t;return null!==(t=null===(e=i._global[i.GLOBAL_METRICS_API_KEY])||void 0===e?void 0:e.call(i._global,i.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:r.NOOP_METER_PROVIDER},e.prototype.getMeter=function(e,t){return this.getMeterProvider().getMeter(e,t)},e.prototype.disable=function(){delete i._global[i.GLOBAL_METRICS_API_KEY]},e}();t.MetricsAPI=o},dc66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e["NOT_RECORD"]=0]="NOT_RECORD",e[e["RECORD"]=1]="RECORD",e[e["RECORD_AND_SAMPLED"]=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},ddff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var r=n("c510"),i=function(){function e(){}return e.prototype.active=function(){return r.Context.ROOT_CONTEXT},e.prototype.with=function(e,t){return t()},e.prototype.bind=function(e,t){return e},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();t.NoopContextManager=i},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e144:function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return y})),n.d(t,"v3",(function(){return q})),n.d(t,"v4",(function(){return B})),n.d(t,"v5",(function(){return V})),n.d(t,"NIL",(function(){return G})),n.d(t,"version",(function(){return Q})),n.d(t,"validate",(function(){return c})),n.d(t,"stringify",(function(){return p})),n.d(t,"parse",(function(){return b}));var r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function a(e){return"string"===typeof e&&s.test(e)}for(var c=a,u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n}var h,f,p=d,v=0,m=0;function g(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var s=e.node||h,a=void 0!==e.clockseq?e.clockseq:f;if(null==s||null==a){var c=e.random||(e.rng||o)();null==s&&(s=h=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=f=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:m+1,d=u-v+(l-m)/1e4;if(d<0&&void 0===e.clockseq&&(a=a+1&16383),(d<0||u>v)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=u,m=l,f=a,u+=122192928e5;var g=(1e4*(268435455&u)+l)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;var y=u/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var _=0;_<6;++_)i[r+_]=s[_];return t||p(i)}var y=g;function _(e){if(!c(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var b=_;function w(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var E="6ba7b810-9dad-11d1-80b4-00c04fd430c8",O="6ba7b811-9dad-11d1-80b4-00c04fd430c8",S=function(e,t,n){function r(e,r,i,o){if("string"===typeof e&&(e=w(e)),"string"===typeof r&&(r=b(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),s=n(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return p(s)}try{r.name=e}catch(i){}return r.DNS=E,r.URL=O,r};function C(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return x(k(T(e),8*e.length))}function x(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t}function A(e){return 14+(e+64>>>9<<4)+1}function k(e,t){e[t>>5]|=128<<t%32,e[A(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,u=i,l=o;n=M(n,r,i,o,e[s],7,-680876936),o=M(o,n,r,i,e[s+1],12,-389564586),i=M(i,o,n,r,e[s+2],17,606105819),r=M(r,i,o,n,e[s+3],22,-1044525330),n=M(n,r,i,o,e[s+4],7,-176418897),o=M(o,n,r,i,e[s+5],12,1200080426),i=M(i,o,n,r,e[s+6],17,-1473231341),r=M(r,i,o,n,e[s+7],22,-45705983),n=M(n,r,i,o,e[s+8],7,1770035416),o=M(o,n,r,i,e[s+9],12,-1958414417),i=M(i,o,n,r,e[s+10],17,-42063),r=M(r,i,o,n,e[s+11],22,-1990404162),n=M(n,r,i,o,e[s+12],7,1804603682),o=M(o,n,r,i,e[s+13],12,-40341101),i=M(i,o,n,r,e[s+14],17,-1502002290),r=M(r,i,o,n,e[s+15],22,1236535329),n=L(n,r,i,o,e[s+1],5,-165796510),o=L(o,n,r,i,e[s+6],9,-1069501632),i=L(i,o,n,r,e[s+11],14,643717713),r=L(r,i,o,n,e[s],20,-373897302),n=L(n,r,i,o,e[s+5],5,-701558691),o=L(o,n,r,i,e[s+10],9,38016083),i=L(i,o,n,r,e[s+15],14,-660478335),r=L(r,i,o,n,e[s+4],20,-405537848),n=L(n,r,i,o,e[s+9],5,568446438),o=L(o,n,r,i,e[s+14],9,-1019803690),i=L(i,o,n,r,e[s+3],14,-187363961),r=L(r,i,o,n,e[s+8],20,1163531501),n=L(n,r,i,o,e[s+13],5,-1444681467),o=L(o,n,r,i,e[s+2],9,-51403784),i=L(i,o,n,r,e[s+7],14,1735328473),r=L(r,i,o,n,e[s+12],20,-1926607734),n=N(n,r,i,o,e[s+5],4,-378558),o=N(o,n,r,i,e[s+8],11,-2022574463),i=N(i,o,n,r,e[s+11],16,1839030562),r=N(r,i,o,n,e[s+14],23,-35309556),n=N(n,r,i,o,e[s+1],4,-1530992060),o=N(o,n,r,i,e[s+4],11,1272893353),i=N(i,o,n,r,e[s+7],16,-155497632),r=N(r,i,o,n,e[s+10],23,-1094730640),n=N(n,r,i,o,e[s+13],4,681279174),o=N(o,n,r,i,e[s],11,-358537222),i=N(i,o,n,r,e[s+3],16,-722521979),r=N(r,i,o,n,e[s+6],23,76029189),n=N(n,r,i,o,e[s+9],4,-640364487),o=N(o,n,r,i,e[s+12],11,-421815835),i=N(i,o,n,r,e[s+15],16,530742520),r=N(r,i,o,n,e[s+2],23,-995338651),n=j(n,r,i,o,e[s],6,-198630844),o=j(o,n,r,i,e[s+7],10,1126891415),i=j(i,o,n,r,e[s+14],15,-1416354905),r=j(r,i,o,n,e[s+5],21,-57434055),n=j(n,r,i,o,e[s+12],6,1700485571),o=j(o,n,r,i,e[s+3],10,-1894986606),i=j(i,o,n,r,e[s+10],15,-1051523),r=j(r,i,o,n,e[s+1],21,-2054922799),n=j(n,r,i,o,e[s+8],6,1873313359),o=j(o,n,r,i,e[s+15],10,-30611744),i=j(i,o,n,r,e[s+6],15,-1560198380),r=j(r,i,o,n,e[s+13],21,1309151649),n=j(n,r,i,o,e[s+4],6,-145523070),o=j(o,n,r,i,e[s+11],10,-1120210379),i=j(i,o,n,r,e[s+2],15,718787259),r=j(r,i,o,n,e[s+9],21,-343485551),n=I(n,a),r=I(r,c),i=I(i,u),o=I(o,l)}return[n,r,i,o]}function T(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(A(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}function I(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function R(e,t){return e<<t|e>>>32-t}function P(e,t,n,r,i,o){return I(R(I(I(t,e),I(r,o)),i),n)}function M(e,t,n,r,i,o,s){return P(t&n|~t&r,e,t,i,o,s)}function L(e,t,n,r,i,o,s){return P(t&r|n&~r,e,t,i,o,s)}function N(e,t,n,r,i,o,s){return P(t^n^r,e,t,i,o,s)}function j(e,t,n,r,i,o,s){return P(n^(t|~r),e,t,i,o,s)}var D=C,U=S("v3",48,D),q=U;function $(e,t,n){e=e||{};var r=e.random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return p(r)}var B=$;function F(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Y(e,t){return e<<t|e>>>32-t}function z(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];a[c]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=a[d][f];for(var p=16;p<80;++p)h[p]=Y(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var v=n[0],m=n[1],g=n[2],y=n[3],_=n[4],b=0;b<80;++b){var w=Math.floor(b/20),E=Y(v,5)+F(w,m,g,y)+_+t[w]+h[b]>>>0;_=y,y=g,g=Y(m,30)>>>0,m=v,v=E}n[0]=n[0]+v>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}var H=z,K=S("v5",80,H),V=K,G="00000000-0000-0000-0000-000000000000";function W(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Q=W},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_TRACER=t.NoopTracer=void 0;var r=n("4a9b"),i=function(){function e(){}return e.prototype.getCurrentSpan=function(){return r.NOOP_SPAN},e.prototype.startSpan=function(e,t){return r.NOOP_SPAN},e.prototype.withSpan=function(e,t){return t()},e.prototype.bind=function(e,t){return e},e}();t.NoopTracer=i,t.NOOP_TRACER=new i},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),d=n("fea9"),h=n("6eeb"),f=n("e2cc"),p=n("d44e"),v=n("2626"),m=n("861d"),g=n("1c0b"),y=n("19aa"),_=n("8925"),b=n("2266"),w=n("1c7e"),E=n("4840"),O=n("2cf4").set,S=n("b575"),C=n("cdf9"),x=n("44de"),A=n("f069"),k=n("e667"),T=n("69f3"),I=n("94ca"),R=n("b622"),P=n("605d"),M=n("2d00"),L=R("species"),N="Promise",j=T.get,D=T.set,U=T.getterFor(N),q=d,$=u.TypeError,B=u.document,F=u.process,Y=l("fetch"),z=A.f,H=z,K=!!(B&&B.createEvent&&u.dispatchEvent),V="function"==typeof PromiseRejectionEvent,G="unhandledrejection",W="rejectionhandled",Q=0,X=1,J=2,Z=1,ee=2,te=I(N,(function(){var e=_(q)!==String(q);if(!e){if(66===M)return!0;if(!P&&!V)return!0}if(c&&!q.prototype["finally"])return!0;if(M>=51&&/native code/.test(q))return!1;var t=q.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[L]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){q.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){var r=e.value,i=e.state==X,o=0;while(n.length>o){var s,a,c,u=n[o++],l=i?u.ok:u.fail,d=u.resolve,h=u.reject,f=u.domain;try{l?(i||(e.rejection===ee&&ce(e),e.rejection=Z),!0===l?s=r:(f&&f.enter(),s=l(r),f&&(f.exit(),c=!0)),s===u.promise?h($("Promise-chain cycle")):(a=re(s))?a.call(s,d,h):d(s)):h(r)}catch(p){f&&!c&&f.exit(),h(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},oe=function(e,t,n){var r,i;K?(r=B.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!V&&(i=u["on"+e])?i(r):e===G&&x("Unhandled promise rejection",n)},se=function(e){O.call(u,(function(){var t,n=e.facade,r=e.value,i=ae(e);if(i&&(t=k((function(){P?F.emit("unhandledRejection",r,n):oe(G,n,r)})),e.rejection=P||ae(e)?ee:Z,t.error))throw t.value}))},ae=function(e){return e.rejection!==Z&&!e.parent},ce=function(e){O.call(u,(function(){var t=e.facade;P?F.emit("rejectionHandled",t):oe(W,t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=J,ie(e,!0))},de=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw $("Promise can't be resolved itself");var r=re(t);r?S((function(){var n={done:!1};try{r.call(t,ue(de,n,e),ue(le,n,e))}catch(i){le(n,i,e)}})):(e.value=t,e.state=X,ie(e,!1))}catch(i){le({done:!1},i,e)}}};te&&(q=function(e){y(this,q,N),g(e),r.call(this);var t=j(this);try{e(ue(de,t),ue(le,t))}catch(n){le(t,n)}},r=function(e){D(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Q,value:void 0})},r.prototype=f(q.prototype,{then:function(e,t){var n=U(this),r=z(E(this,q));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?F.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Q&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=j(e);this.promise=e,this.resolve=ue(de,t),this.reject=ue(le,t)},A.f=z=function(e){return e===q||e===o?new i(e):H(e)},c||"function"!=typeof d||(s=d.prototype.then,h(d.prototype,"then",(function(e,t){var n=this;return new q((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Y&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(q,Y.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:q}),p(q,N,!1,!0),v(N),o=l(N),a({target:N,stat:!0,forced:te},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:N,stat:!0,forced:c||te},{resolve:function(e){return C(c&&this===o?q:this,e)}}),a({target:N,stat:!0,forced:ne},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,o=k((function(){var n=g(t.resolve),o=[],s=0,a=1;b(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=k((function(){var i=g(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},eb69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9ab4"),i=n("371b"),o=n("faa1"),s=n("ab8d");class a extends o.EventEmitter{constructor(e){e||(e={}),super(),e.createdInstance?(this._container=e.createdInstance,delete e.createdInstance):this._container=i.create_container(e),this.options=this._container.options}get id(){return this._container.id}get filter(){return this._container.filter}get types(){return this._container.types}get message(){return this._container.message}get sasl(){return this._container.sasl}get saslServerMechanisms(){return this._container.sasl_server_mechanisms}createConnection(e){const t=this._container.create_connection(e);return new s.Connection({rheaConnection:t,container:this})}connect(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.createConnection(e).open()}))}listen(e){return this._container.listen(e)}generateUUid(){return this._container.generate_uuid()}stringToUuid(e){return this._container.string_to_uuid(e)}uuidToString(e){return this._container.uuid_to_string(e)}websocketAccept(e,t){return this._container.websocket_accept(e,t)}websocketConnect(e){return this._container.websocket_connect(e)}static create(e){return new a(e)}static copyFromContainerInstance(e){return new a({createdInstance:e})}}t.Container=a},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f0f3:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r,i=n("9ab4"),o=n("2c4c"),s=new Set,a="undefined"!==typeof e&&Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"})&&Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).AZURE_LOG_LEVEL||void 0,c=Object(o["a"])("azure");c.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o["a"].log.apply(o["a"],Object(i["__spread"])(e))};var u=["verbose","info","warning","error"];function l(e){var t,n;if(e&&!m(e))throw new Error("Unknown log level '"+e+"'. Acceptable values: "+u.join(","));r=e;var a=[];try{for(var c=Object(i["__values"])(s),l=c.next();!l.done;l=c.next()){var d=l.value;v(d)&&a.push(d.namespace)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}o["a"].enable(a.join(","))}a&&(m(a)?l(a):console.error("AZURE_LOG_LEVEL set to unknown log level '"+a+"'; logging is not enabled. Acceptable values: "+u.join(", ")+"."));var d={verbose:400,info:300,warning:200,error:100};function h(e){var t=c.extend(e);return f(c,t),{error:p(t,"error"),warning:p(t,"warning"),info:p(t,"info"),verbose:p(t,"verbose")}}function f(e,t){t.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.log.apply(e,Object(i["__spread"])(t))}}function p(e,t){var n=Object.assign(e.extend(t),{level:t});if(f(e,n),v(n)){var r=o["a"].disable();o["a"].enable(r+","+n.namespace)}return s.add(n),n}function v(e){return!!(r&&d[e.level]<=d[r])}function m(e){return u.includes(e)}}).call(this,n("4362"))},f27a:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return E}));var r=n("05b9"),i=n("da5a"),o=n.n(i),s=n("da72"),a=n("3b1f"),c=n("9f19"),u=n.n(c),l=n("b639"),d=n("a3d6"),h=n("2325");function f(e){return`${e}-${Object(a["generate_uuid"])()}`}function p(e){return e&&l["Buffer"].isBuffer(e)?l["Buffer"].from([e[3],e[2],e[1],e[0],e[5],e[4],e[7],e[6],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]):e}function v(e){const t=Date.now(),n=e.getTime(),r=n-t;if(s["f"].verbose("Locked until utc  : %d",n),s["f"].verbose("Current time is   : %d",t),s["f"].verbose("Remaining time is : %d",r),r<1e3)return 0;const i=Math.min(r/2,1e4),o=r-i;return s["f"].verbose("Renew after       : %d",o),o}function m(e){const t=621355968e9,n=o.a.fromBytesBE(e),r=n.sub(t).div(1e4).toNumber(),i=new Date(r);return s["c"].verbose("The converted date is: %s",i.toString()),i}function g(e){let t;if(s["e"].verbose("[utils.toBuffer] The given message body that needs to be converted to buffer is: ",e),u()(e))t=e;else{void 0===e&&(e=null);try{const n=JSON.stringify(e);t=l["Buffer"].from(n,"utf8")}catch(n){const t="An error occurred while executing JSON.stringify() on the given input "+e+(n instanceof Error?n.stack:JSON.stringify(n));throw s["e"].warning("[utils.toBuffer] "+t),n instanceof Error?n:new Error(t)}}return s["e"].verbose("[utils.toBuffer] The converted buffer is: %O.",t),t}const y="The operation was aborted.";function _(e){return Object(r["c"])(this,void 0,void 0,(function*(){if(e.abortSignal&&e.abortSignal.aborted)throw new h["a"](y);let t=void 0,n=void 0;const r=()=>{var r,i;(null!==(i=null===(r=e.timeoutFunctions)||void 0===r?void 0:r.clearTimeoutFn)&&void 0!==i?i:clearTimeout)(t),n&&n()},i=new Promise((r,i)=>{var o,s;n=b(i,e.abortSignal),t=(null!==(s=null===(o=e.timeoutFunctions)||void 0===o?void 0:o.setTimeoutFn)&&void 0!==s?s:setTimeout)(()=>{i(new a["OperationTimeoutError"](e.timeoutMessage))},e.timeoutMs)});try{return yield Promise.race([i,e.actionFn()])}finally{r()}}))}function b(e,t){if(null==t)return()=>{};if(t.aborted)throw new h["a"](y);const n=()=>{t.removeEventListener("abort",n),e(new h["a"](y))};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)}const w="azsdk-js-azureservicebus/"+d["c"].version;function E(e){let t=""+(e||"").replace(" ","");return t=t.length>0?t+" ":"",`${t}${w}`}}).call(this,n("4362"))},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},faa1:function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function s(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,e.exports.once=b,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,a;if(l(n),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=d(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function v(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?_(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function b(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return d(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,r,i,o,s;if(l(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():y(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return v(this,e,!0)},c.prototype.rawListeners=function(e){return v(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.d2c735d8.js.map