(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"0454":function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),c=n("c04e"),a=n("5135"),u=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t,!0),u)try{return d(e,t)}catch(n){}if(a(e,t))return o(!i.f.call(e,t),e[t])}},"07aa":function(e,t,n){"use strict";var r,i,o,s;(function(e){e["message"]="message",e["receiverOpen"]="receiver_open",e["receiverDrained"]="receiver_drained",e["receiverFlow"]="receiver_flow",e["receiverError"]="receiver_error",e["receiverClose"]="receiver_close",e["settled"]="settled"})(r||(r={})),function(e){e["sendable"]="sendable",e["senderOpen"]="sender_open",e["senderDraining"]="sender_draining",e["senderFlow"]="sender_flow",e["senderError"]="sender_error",e["senderClose"]="sender_close",e["accepted"]="accepted",e["released"]="released",e["rejected"]="rejected",e["modified"]="modified",e["settled"]="settled"}(i||(i={})),function(e){e["sessionOpen"]="session_open",e["sessionError"]="session_error",e["sessionClose"]="session_close",e["settled"]="settled"}(o||(o={})),function(e){e["connectionOpen"]="connection_open",e["connectionClose"]="connection_close",e["connectionError"]="connection_error",e["protocolError"]="protocol_error",e["error"]="error",e["disconnected"]="disconnected",e["settled"]="settled"}(s||(s={})),e.exports={ReceiverEvents:r,SenderEvents:i,SessionEvents:o,ConnectionEvents:s}},"0901":function(e,t,n){"use strict";(function(t){function n(e){return e}function r(e){return e instanceof ArrayBuffer?t.from(new Uint8Array(e)):t.from(e)}function i(e){return new Uint8Array(e)}function o(e){var t=n,o=n;return e.binaryType&&(e.binaryType="arraybuffer",t=r,o=i),{end:function(){e.close()},write:function(t){try{e.send(o(t),{binary:!0})}catch(n){e.onerror(n)}},on:function(n,r){"data"===n?e.onmessage=function(e){r(t(e.data))}:"end"===n?e.onclose=r:"error"===n?e.onerror=r:console.error("ERROR: Attempt to set unrecognised handler on websocket wrapper: "+n)},get_id_string:function(){return e.url}}}e.exports={connect:function(e){return function(t,n,r){return function(){return{connect:function(i,s,c,a){var u=new e(t,n,r);return u.onopen=a,o(u)}}}}},wrap:o}}).call(this,n("b639").Buffer)},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0efd":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("9ab4"),i=n("4c8d"),o=n("bb0f"),s=n("3b1f"),c=n("5f8b"),a=n("39ea");class u{constructor(e,t,n){this.session=e,this.sender=t,this.receiver=n,this.session=e,this.sender=t,this.receiver=n}get connection(){return this.session.connection}isOpen(){return this.session.isOpen()&&this.sender.isOpen()&&this.receiver.isOpen()}sendRequest(e,t){t||(t={}),t.timeoutInSeconds||(t.timeoutInSeconds=i["defaultOperationTimeoutInSeconds"]);let n=0;const r=()=>new Promise((r,o)=>{let u,d=!1;n++,1!==n?e.message_id=Object(s["generate_uuid"])():e.message_id||(e.message_id=Object(s["generate_uuid"])());const h=e=>(e||(e={}),{statusCode:e[i["statusCode"]]||e.statusCode,statusDescription:e[i["statusDescription"]]||e.statusDescription,errorCondition:e[i["errorCondition"]]||e.errorCondition}),l=t=>{const n=h(t.message.application_properties),i=t.message.correlation_id;if(a["e"]("[%s] %s response: ",this.connection.id,e.to||"$management",t.message),e.message_id===i||e.correlation_id===i){if(this.receiver.removeListener(s["ReceiverEvents"].message,l),d||clearTimeout(u),n.statusCode>199&&n.statusCode<300)return a["e"]("[%s] request-messageId | '%s' == '%s' | response-correlationId.",this.connection.id,e.message_id,i),r(t.message);{const e=n.errorCondition||c["b"][n.statusCode]||"amqp:internal-error",t={condition:e,description:n.statusDescription},r=Object(c["e"])(t);return a["b"](r),o(r)}}a["b"]("[%s] request-messageId | '%s' != '%s' | response-correlationId. Hence dropping this response and waiting for the next one.",this.connection.id,e.message_id,i)},f=()=>{d=!0,this.receiver.removeListener(s["ReceiverEvents"].message,l);const t=this.receiver.source&&this.receiver.source.address,n=`The request with message_id "${e.message_id}" to "${t||"unknown"}" endpoint timed out. Please try again later.`,r={condition:c["b"][408],description:n};if(null!=t)return o(Object(c["e"])(r));this.close().catch(()=>{o(Object(c["e"])(r))}).then(()=>o(Object(c["e"])(r)))};this.receiver.on(s["ReceiverEvents"].message,l),u=setTimeout(f,1e3*t.timeoutInSeconds),a["e"]("[%s] %s request sent: %O",this.connection.id,e.to||"$managment",e),this.sender.send(e)}),u={operation:r,connectionId:this.connection.id,operationType:e.to&&e.to===i["cbsEndpoint"]?o["a"].cbsAuth:o["a"].management,delayInSeconds:t.delayInSeconds,times:t.times};return Object(o["b"])(u)}close(){return Object(r["__awaiter"])(this,void 0,void 0,(function*(){yield this.sender.close(),yield this.receiver.close(),yield this.session.close()}))}remove(){this.sender.remove(),this.receiver.remove(),this.session.remove()}static create(e,t,n){return Object(r["__awaiter"])(this,void 0,void 0,(function*(){const r=yield e.createSession(),i=yield r.createSender(t),o=yield r.createReceiver(n);return a["e"]("[%s] Successfully created the sender and receiver links on the same session.",e.id),new u(r,i,o)}))}}},"10fc":function(e,t,n){"use strict";var r=n("9fca");r.formatters&&(r.formatters.h=function(e){return e.toString("hex")}),e.exports={config:r("rhea:config"),frames:r("rhea:frames"),raw:r("rhea:raw"),reconnect:r("rhea:reconnect"),events:r("rhea:events"),message:r("rhea:message"),flow:r("rhea:flow"),io:r("rhea:io")}},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),c=n("4840"),a=n("8aa5"),u=n("50c4"),d=n("14c3"),h=n("9263"),l=n("d039"),f=[].push,p=Math.min,m=4294967295,v=!l((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var c,a,u,d=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=new RegExp(e.source,l+"g");while(c=h.call(v,r)){if(a=v.lastIndex,a>p&&(d.push(r.slice(p,c.index)),c.length>1&&c.index<r.length&&f.apply(d,c.slice(1)),u=c[0].length,p=a,d.length>=o))break;v.lastIndex===c.index&&v.lastIndex++}return p===r.length?!u&&v.test("")||d.push(""):d.push(r.slice(p)),d.length>o?d.slice(0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var h=o(e),l=String(this),f=c(h,RegExp),_=h.unicode,g=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),y=new f(v?h:"^(?:"+h.source+")",g),b=void 0===i?m:i>>>0;if(0===b)return[];if(0===l.length)return null===d(y,l)?[l]:[];var w=0,C=0,x=[];while(C<l.length){y.lastIndex=v?C:0;var E,S=d(y,v?l:l.slice(C));if(null===S||(E=p(u(y.lastIndex+(v?0:C)),l.length))===w)C=a(l,C,_);else{if(x.push(l.slice(w,C)),x.length===b)return x;for(var O=1;O<=S.length-1;O++)if(x.push(S[O]),x.length===b)return x;C=w=E}}return x.push(l.slice(w)),x}]}),!v)},1468:function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,c=365.25*o;function a(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),u=(t[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function u(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function d(e){var t=Math.abs(e);return t>=o?h(e,t,o,"day"):t>=i?h(e,t,i,"hour"):t>=r?h(e,t,r,"minute"):t>=n?h(e,t,n,"second"):e+" ms"}function h(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return a(e);if("number"===n&&isFinite(e))return t.long?d(e):u(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var c in i){var a=r[c],u=a&&a.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(d){u.forEach=o}}},"165e":function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,c=Number(new Date),a=c-(n||c);o.diff=a,o.prev=n,o.curr=c,n=c,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var i=r.formatters[n];if("function"===typeof i){var s=t[u];e=i.call(o,s),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var d=o.log||r.log;d.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function c(){r.enable("")}function a(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=u,r.disable=c,r.enable=s,r.enabled=a,r.humanize=n("1468"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),s=i("forEach"),c=o("forEach");e.exports=s&&c?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},1980:function(e,t,n){"use strict";(function(t,r){var i=n("a991"),o=n("3e48"),s=n("10fc"),c=n("6203"),a=n("cadb"),u=n("4921"),d=n("3e29"),h=n("6e71"),l=n(3),f=n("3c43"),p=n("df7c"),m=n(0),v=n(1),_=n("faa1").EventEmitter,g=0;function y(){var e;e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).MESSAGING_CONNECT_FILE?[Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).MESSAGING_CONNECT_FILE]:[t.cwd(),p.join(f.homedir(),".config/messaging"),"/etc/messaging"].map((function(e){return p.join(e,"/connect.json")}));for(var n=0;n<e.length;n++)if(l.existsSync(e[n])){var r=JSON.parse(l.readFileSync(e[n],"utf8"));return s.config("using config from %s: %j",e[n],r),r}return{}}function b(){var e=y(),t={};return"amqps"===e.scheme&&(t.transport="tls"),e.host&&(t.host=e.host),"amqp"===e.port?t.port=5672:"amqps"===e.port?t.port=5671:t.port=e.port,e.sasl&&!1===e.sasl.enabled||(e.user?t.username=e.user:t.username="anonymous",e.password&&(t.password=e.password),e.sasl_mechanisms&&(t.sasl_mechanisms=e.sasl_mechanisms)),e.tls&&(e.tls.key&&(t.key=l.readFileSync(e.tls.key)),e.tls.cert&&(t.cert=l.readFileSync(e.tls.cert)),e.tls.ca&&(t.ca=[l.readFileSync(e.tls.ca)]),!1!==e.verify&&!1!==e.tls.verify||(t.rejectUnauthorized=!1)),"tls"===t.transport&&(t.servername=t.host),t}function w(e){return e.get_id_string?e.get_id_string():e.localAddress+":"+e.localPort+" -> "+e.remoteAddress+":"+e.remotePort}function C(e){var t=null;return{get_session:function(){return t||(t=e.create_session(),t.observers.on("session_close",(function(){t=null})),t.begin()),t}}}function x(e,t){if(e){var n,r=e;return function(i){return n!==i&&(r=e,n=i),r--?t(i):-1}}return t}function E(e,t){var n,r=e;return function(i){n!==i&&(r=e,n=i);var o=r,s=2*r;return r=t>s?s:t,o}}function S(e){if(void 0===e.transport||"tcp"===e.transport)return m.connect;if("tls"===e.transport||"ssl"===e.transport)return v.connect;throw Error("Unrecognised transport: "+e.transport)}function O(e){var t={};return t.connect=e.connect?e.connect:S(e),t.host=e.host?e.host:"localhost",t.port=e.port?e.port:5672,t.options=e,t}var k=["container_id","hostname","max_frame_size","channel_max","idle_time_out","outgoing_locales","incoming_locales","offered_capabilities","desired_capabilities","properties"];function I(e){return function(){return this.remote.open?this.remote.open[e]:void 0}}function A(e){var t={};return k.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}function T(e,t){if("boolean"===typeof e)if(e){var n=t.get_option("initial_reconnect_delay",100),r=t.get_option("max_reconnect_delay",6e4);t.options.reconnect=x(t.get_option("reconnect_limit"),E(n,r))}else t.options.reconnect=!1;else if("number"===typeof e){var i=t.options.reconnect;t.options.reconnect=x(t.get_option("reconnect_limit"),(function(){return i}))}}var R=1,j=function(e,t){if(this.options={},e){for(var n in e)this.options[n]=e[n];"tls"!==e.transport&&"ssl"!==e.transport||void 0!==e.servername||void 0===e.host||(this.options.servername=e.host)}else this.options=b();if(this.container=t,this.options.id||(this.options.id="connection-"+R++),this.options.container_id||(this.options.container_id=t?t.id:a.generate_uuid()),!this.options.connection_details){var r=this;this.options.connection_details=function(){return O(r.options)}}var i=this.get_option("reconnect",!0);T(i,this),this.registered=!1,this.state=new u,this.local_channel_map={},this.remote_channel_map={},this.local={},this.remote={},this.local.open=o.open(A(this.options)),this.local.close=o.close({}),this.session_policy=C(this),this.amqp_transport=new h(this.options.id,g,o.TYPE_AMQP,this),this.sasl_transport=void 0,this.transport=this.amqp_transport,this.conn_established_counter=0,this.heartbeat_out=void 0,this.heartbeat_in=void 0,this.abort_idle=!1,this.socket_ready=!1,this.scheduled_reconnect=void 0,this.default_sender=void 0,this.closed_with_non_fatal_error=!1;r=this;k.forEach((function(e){Object.defineProperty(r,e,{get:I(e)})})),Object.defineProperty(this,"error",{get:function(){return this.remote.close?this.remote.close.error:void 0}})};function L(e){return e<16?"0x0"+Number(e).toString(16):"0x"+Number(e).toString(16)}function M(e){for(var t=[],n=0;n<e.length;n++)t.push(L(e[n]));return t.join(",")}function P(e){j.prototype["on_"+e]=function(t){var n=this.remote_channel_map[t.channel];if(!n)throw new i.ProtocolError(e+" received on invalid channel "+t.channel);n["on_"+e](t)}}j.prototype=Object.create(_.prototype),j.prototype.constructor=j,j.prototype.dispatch=function(e){return s.events("[%s] Connection got event: %s",this.options.id,e),this.listeners(e).length?(_.prototype.emit.apply(this,arguments),!0):!!this.container&&this.container.dispatch.apply(this.container,arguments)},j.prototype._disconnect=function(){for(var e in this.state.disconnected(),this.local_channel_map)this.local_channel_map[e]._disconnect();this.socket_ready=!1},j.prototype._reconnect=function(){this.abort_idle&&(this.abort_idle=!1,this.local.close.error=void 0,this.state=new u,this.state.open()),this.state.reconnect(),this._reset_remote_state()},j.prototype._reset_remote_state=function(){for(var e in this.amqp_transport=new h(this.options.id,g,o.TYPE_AMQP,this),this.sasl_transport=void 0,this.transport=this.amqp_transport,this.remote={},this.remote_channel_map={},this.local_channel_map)this.local_channel_map[e]._reconnect()},j.prototype.connect=function(){return this.is_server=!1,this.abort_idle=!1,this._reset_remote_state(),this._connect(this.options.connection_details(this.conn_established_counter)),this.open(),this},j.prototype.reconnect=function(){return this.scheduled_reconnect=void 0,s.reconnect("[%s] reconnecting...",this.options.id),this._reconnect(),this._connect(this.options.connection_details(this.conn_established_counter)),t.nextTick(this._process.bind(this)),this},j.prototype.set_reconnect=function(e){T(e,this)},j.prototype._connect=function(e){return e.connect?this.init(e.connect(e.port,e.host,e.options,this.connected.bind(this))):this.init(S(e)(e.port,e.host,e.options,this.connected.bind(this))),this},j.prototype.accept=function(e){return this.is_server=!0,s.io("[%s] client accepted: %s",this.id,w(e)),this.socket_ready=!0,this.init(e)},j.prototype.abort_socket=function(e){e===this.socket&&(s.io("[%s] aborting socket",this.options.id),this.socket.end(),this.socket.removeAllListeners&&(this.socket.removeAllListeners("data"),this.socket.removeAllListeners("error"),this.socket.removeAllListeners("end")),"function"===typeof this.socket.destroy&&this.socket.destroy(),this._disconnected())},j.prototype.init=function(e){if(this.socket=e,this.get_option("tcp_no_delay",!1)&&this.socket.setNoDelay&&this.socket.setNoDelay(!0),this.socket.on("data",this.input.bind(this)),this.socket.on("error",this.on_error.bind(this)),this.socket.on("end",this.eof.bind(this)),this.is_server){var t;if(this.container&&Object.getOwnPropertyNames(this.container.sasl_server_mechanisms).length&&(t=this.container.sasl_server_mechanisms),this.socket.encrypted&&this.socket.authorized&&this.get_option("enable_sasl_external",!1)&&(t=c.server_add_external(t?a.clone(t):{})),t)void 0===t.ANONYMOUS||this.get_option("require_sasl",!1)?this.sasl_transport=new c.Server(this,t):this.sasl_transport=new c.Selective(this,t);else if(!this.get_option("disable_sasl",!1)){var n=c.server_mechanisms();n.enable_anonymous(),this.sasl_transport=new c.Selective(this,n)}}else{var r=this.get_option("sasl_mechanisms");if(!r){var i=this.get_option("username"),o=this.get_option("password"),s=this.get_option("token");i&&(r=c.client_mechanisms(),o?r.enable_plain(i,o):s?r.enable_xoauth2(i,s):r.enable_anonymous(i))}this.socket.encrypted&&this.options.cert&&this.get_option("enable_sasl_external",!1)&&(r||(r=c.client_mechanisms()),r.enable_external()),r&&(this.sasl_transport=new c.Client(this,r,this.options.sasl_init_hostname||this.options.servername||this.options.host))}return this.transport=this.sasl_transport?this.sasl_transport:this.amqp_transport,this},j.prototype.attach_sender=function(e){return this.session_policy.get_session().attach_sender(e)},j.prototype.open_sender=j.prototype.attach_sender,j.prototype.attach_receiver=function(e){return this.get_option("tcp_no_delay",!0)&&this.socket.setNoDelay&&this.socket.setNoDelay(!0),this.session_policy.get_session().attach_receiver(e)},j.prototype.open_receiver=j.prototype.attach_receiver,j.prototype.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:this.container?this.container.get_option(e,t):t},j.prototype.send=function(e){return void 0===this.default_sender&&(this.default_sender=this.open_sender({target:{}})),this.default_sender.send(e)},j.prototype.connected=function(){this.socket_ready=!0,this.conn_established_counter++,s.io("[%s] connected %s",this.options.id,w(this.socket)),this.output()},j.prototype.sasl_failed=function(e,t){this.transport_error=new i.ConnectionError(e,t||"amqp:unauthorized-access",this),this._handle_error(),this.socket.end()},j.prototype._is_fatal=function(e){var t=this.get_option("non_fatal_errors",["amqp:connection:forced"]);return t.indexOf(e)<0},j.prototype._handle_error=function(){var e=this.get_error();if(e){var t=this.dispatch("connection_error",this._context({error:e}));return t=this.dispatch("connection_close",this._context({error:e}))||t,this._is_fatal(e.condition)?t||this.dispatch("error",new i.ConnectionError(e.description,e.condition,this)):this.closed_with_non_fatal_error=!0,!0}return!1},j.prototype.get_error=function(){return this.transport_error?this.transport_error:this.remote.close&&this.remote.close.error?new i.ConnectionError(this.remote.close.error.description,this.remote.close.error.condition,this):void 0},j.prototype._get_peer_details=function(){var e="";return this.remote.open&&this.remote.open.container&&(e+=this.remote.open.container+" "),this.remote.open&&this.remote.open.properties&&(e+=JSON.stringify(this.remote.open.properties)),e},j.prototype.output=function(){try{this.socket&&this.socket_ready&&(this.heartbeat_out&&clearTimeout(this.heartbeat_out),this.transport.write(this.socket),(this.is_closed()&&this.state.has_settled()||this.abort_idle||this.transport_error)&&!this.transport.has_writes_pending()?this.socket.end():this.is_open()&&this.remote.open.idle_time_out&&(this.heartbeat_out=setTimeout(this._write_frame.bind(this),this.remote.open.idle_time_out/2)),this.local.open.idle_time_out&&void 0===this.heartbeat_in&&(this.heartbeat_in=setTimeout(this.idle.bind(this),this.local.open.idle_time_out)))}catch(e){this.saved_error=e,"ProtocolError"===e.name?(console.error("["+this.options.id+"] error on write: "+e+" "+this._get_peer_details()+" "+e.name),this.dispatch("protocol_error",e)||console.error("["+this.options.id+"] error on write: "+e+" "+this._get_peer_details())):this.dispatch("error",e),this.socket.end()}},j.prototype.input=function(e){var t;try{this.heartbeat_in&&clearTimeout(this.heartbeat_in),s.io("[%s] read %d bytes",this.options.id,e.length),this.previous_input?(t=r.concat([this.previous_input,e],this.previous_input.length+e.length),this.previous_input=null):t=e;var n=this.transport.read(t,this);n<t.length&&(this.previous_input=t.slice(n)),this.local.open.idle_time_out&&(this.heartbeat_in=setTimeout(this.idle.bind(this),this.local.open.idle_time_out)),this.transport.has_writes_pending()?this.output():this.is_closed()&&this.state.has_settled()?this.socket.end():this.is_open()&&this.remote.open.idle_time_out&&!this.heartbeat_out&&(this.heartbeat_out=setTimeout(this._write_frame.bind(this),this.remote.open.idle_time_out/2))}catch(i){this.saved_error=i,"ProtocolError"===i.name?this.dispatch("protocol_error",i)||console.error("["+this.options.id+"] error on read: "+i+" "+this._get_peer_details()+" (buffer:"+M(t)+")"):this.dispatch("error",i),this.socket.end()}},j.prototype.idle=function(){this.is_closed()||(this.abort_idle=!0,this.closed_with_non_fatal_error=!0,this.local.close.error={condition:"amqp:resource-limit-exceeded",description:"max idle time exceeded"},this.close(),setTimeout(this.abort_socket.bind(this,this.socket),1e3))},j.prototype.on_error=function(e){this._disconnected(e)},j.prototype.eof=function(e){var t=e||this.saved_error;this.saved_error=void 0,this._disconnected(t)},j.prototype._disconnected=function(e){this.heartbeat_out&&(clearTimeout(this.heartbeat_out),this.heartbeat_out=void 0),this.heartbeat_in&&(clearTimeout(this.heartbeat_in),this.heartbeat_in=void 0);var t=this.closed_with_non_fatal_error;if(this.closed_with_non_fatal_error&&(this.closed_with_non_fatal_error=!1,this.options.reconnect&&this.open()),(!this.is_closed()||t)&&void 0===this.scheduled_reconnect){this._disconnect();var n={};if(e&&(n.error=e),!this.is_server&&!this.transport_error&&this.options.reconnect){var r=this.options.reconnect(this.conn_established_counter);r>=0?(s.reconnect("[%s] Scheduled reconnect in "+r+"ms",this.options.id),this.scheduled_reconnect=setTimeout(this.reconnect.bind(this),r),n.reconnecting=!0):n.reconnecting=!1}this.dispatch("disconnected",this._context(n))||console.warn("["+this.options.id+"] disconnected %s",n.error||"")}},j.prototype.open=function(){this.state.open()&&this._register()},j.prototype.close=function(e){e&&(this.local.close.error=e),this.state.close()&&this._register()},j.prototype.is_open=function(){return this.state.is_open()},j.prototype.is_remote_open=function(){return this.state.remote_open},j.prototype.is_closed=function(){return this.state.is_closed()},j.prototype.create_session=function(){var e=0;while(this.local_channel_map[e])e++;var t=new d(this,e);return this.local_channel_map[e]=t,t},j.prototype.find_sender=function(e){return this.find_link(a.sender_filter(e))},j.prototype.find_receiver=function(e){return this.find_link(a.receiver_filter(e))},j.prototype.find_link=function(e){for(var t in this.local_channel_map){var n=this.local_channel_map[t],r=n.find_link(e);if(r)return r}},j.prototype.each_receiver=function(e,t){this.each_link(e,a.receiver_filter(t))},j.prototype.each_sender=function(e,t){this.each_link(e,a.sender_filter(t))},j.prototype.each_link=function(e,t){for(var n in this.local_channel_map){var r=this.local_channel_map[n];r.each_link(e,t)}},j.prototype.on_open=function(e){if(!this.state.remote_opened())throw new i.ProtocolError("Open already received");this.remote.open=e.performative,this.open(),this.dispatch("connection_open",this._context())},j.prototype.on_close=function(e){if(!this.state.remote_closed())throw new i.ProtocolError("Close already received");this.remote.close=e.performative,this.remote.close.error?this._handle_error():this.dispatch("connection_close",this._context()),this.heartbeat_out&&clearTimeout(this.heartbeat_out);var n=this;t.nextTick((function(){n.close()}))},j.prototype._register=function(){this.registered||(this.registered=!0,t.nextTick(this._process.bind(this)))},j.prototype._process=function(){this.registered=!1;do{for(var e in this.state.need_open()&&this._write_open(),this.local_channel_map)this.local_channel_map[e]._process();this.state.need_close()&&this._write_close()}while(!this.state.has_settled())},j.prototype._write_frame=function(e,t,n){this.amqp_transport.encode(o.amqp_frame(e,t,n)),this.output()},j.prototype._write_open=function(){this._write_frame(0,this.local.open)},j.prototype._write_close=function(){this._write_frame(0,this.local.close)},j.prototype.on_begin=function(e){var t;if(null===e.performative.remote_channel||void 0===e.performative.remote_channel)t=this.create_session(),t.local.begin.remote_channel=e.channel;else if(t=this.local_channel_map[e.performative.remote_channel],!t)throw new i.ProtocolError("Invalid value for remote channel "+e.performative.remote_channel);t.on_begin(e),this.remote_channel_map[e.channel]=t},j.prototype.get_peer_certificate=function(){return this.socket&&this.socket.getPeerCertificate?this.socket.getPeerCertificate():void 0},j.prototype.get_tls_socket=function(){return!this.socket||"tls"!==this.options.transport&&"ssl"!==this.options.transport?void 0:this.socket},j.prototype._context=function(e){var t=e||{};return t.connection=this,this.container&&(t.container=this.container),t},j.prototype.remove_session=function(e){this.remote_channel_map[e.remote.channel]===e&&delete this.remote_channel_map[e.remote.channel],this.local_channel_map[e.local.channel]===e&&delete this.local_channel_map[e.local.channel]},j.prototype.remove_all_sessions=function(){this.remote_channel_map={},this.local_channel_map={}},P("end"),P("attach"),P("detach"),P("transfer"),P("disposition"),P("flow"),e.exports=j}).call(this,n("4362"),n("b639").Buffer)},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1abd":function(e,t,n){"use strict";var r=n("1c90");e.exports={selector:function(e){return{"jms-selector":r.wrap_described(e,77567109365764)}}}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,c={next:function(){return{done:!!s++}},return:function(){o=!0}};c[i]=function(){return this},Array.from(c,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(a){}return n}},"1c90":function(e,t,n){"use strict";(function(t){var r=n("a991"),i=n("cadb"),o=1,s=2,c=3,a=4;function u(e,t,n,r){this.type=e,this.value=t,n&&(this.array_constructor={typecode:n},r&&(this.array_constructor.descriptor=r))}function d(e,t,n,r){this.name=e,this.typecode=t;var i=t>>>4;switch(i){case 4:this.width=0,this.category=o;break;case 5:this.width=1,this.category=o;break;case 6:this.width=2,this.category=o;break;case 7:this.width=4,this.category=o;break;case 8:this.width=8,this.category=o;break;case 9:this.width=16,this.category=o;break;case 10:this.width=1,this.category=s;break;case 11:this.width=4,this.category=s;break;case 12:this.width=1,this.category=c;break;case 13:this.width=4,this.category=c;break;case 14:this.width=1,this.category=a;break;case 15:this.width=4,this.category=a;break;default:break}n&&(n.read&&(this.read=n.read),n.write&&(this.write=n.write),n.encoding&&(this.encoding=n.encoding));var d=this;this.create=4===i?function(){return new u(d,r)}:14===i||15===i?function(e,t,n){return new u(d,e,t,n)}:function(e){return new u(d,e)}}function h(e){return Number(e).toString(16)}u.prototype.toString=function(){return this.value?this.value.toString():null},u.prototype.toLocaleString=function(){return this.value?this.value.toLocaleString():null},u.prototype.valueOf=function(){return this.value},u.prototype.toJSON=function(){return this.value&&this.value.toJSON?this.value.toJSON():this.value},d.prototype.toString=function(){return this.name+"#"+h(this.typecode)};var l={by_code:{}};function f(e,t,n,r){var i=new d(e,t,n,r);i.create.typecode=i.typecode,l.by_code[i.typecode]=i,l[e]=i.create}function p(){return{read:function(e,t){return e.readUInt8(t)},write:function(e,t,n){e.writeUInt8(t,n)}}}function m(){return{read:function(e,t){return e.readUInt16BE(t)},write:function(e,t,n){e.writeUInt16BE(t,n)}}}function v(){return{read:function(e,t){return e.readUInt32BE(t)},write:function(e,t,n){e.writeUInt32BE(t,n)}}}function _(){return{read:function(e,t){return e.readInt8(t)},write:function(e,t,n){e.writeInt8(t,n)}}}function g(){return{read:function(e,t){return e.readInt16BE(t)},write:function(e,t,n){e.writeInt16BE(t,n)}}}function y(){return{read:function(e,t){return e.readInt32BE(t)},write:function(e,t,n){e.writeInt32BE(t,n)}}}function b(){return{read:function(e,t){return e.readFloatBE(t)},write:function(e,t,n){e.writeFloatBE(t,n)}}}function w(){return{read:function(e,t){return e.readDoubleBE(t)},write:function(e,t,n){e.writeDoubleBE(t,n)}}}Object.defineProperty(l,"MAX_UINT",{value:4294967295,writable:!1,configurable:!1}),Object.defineProperty(l,"MAX_USHORT",{value:65535,writable:!1,configurable:!1});var C=4294967296,x=-2147483647;function E(e,t,n){if("number"===typeof t||t instanceof Number){var r=Math.floor(t/C),i=t%C;e.writeUInt32BE(r,n),e.writeUInt32BE(i,n+4)}else t.copy(e,n)}function S(e,t){var n=e.readUInt32BE(t),r=e.readUInt32BE(t+4);return n<2097153?n*C+r:e.slice(t,t+8)}function O(e,t,n){if("number"===typeof t||t instanceof Number){var r=Math.abs(t),i=Math.floor(r/C),o=r%C;if(e.writeInt32BE(i,n),e.writeUInt32BE(o,n+4),t<0)for(var s=1,c=0;c<8;c++){var a=n+(7-c),u=(255^e[a])+s;e[a]=255&u,s=u>>8}}else t.copy(e,n)}function k(e,t){var n=e.readInt32BE(t),r=e.readUInt32BE(t+4);return n<2097153&&n>-2097153?n*C+r:e.slice(t,t+8)}function I(e,t){for(var n=0;n<t.length;n++)if(e.type.typecode===t[n].typecode)return!0;return!1}function A(e,t,n){for(var r=0;r<t&&r<e.length;r++)if(e[r]!==(n?255:0))return!1;return!0}function T(e){for(var t={},n=0;n+1<e.length;)t[e[n++]]=e[n++];return t}f("Null",64,void 0,null),f("Boolean",86,p()),f("True",65,void 0,!0),f("False",66,void 0,!1),f("Ubyte",80,p()),f("Ushort",96,m()),f("Uint",112,v()),f("SmallUint",82,p()),f("Uint0",67,void 0,0),f("Ulong",128,{write:E,read:S}),f("SmallUlong",83,p()),f("Ulong0",68,void 0,0),f("Byte",81,_()),f("Short",97,g()),f("Int",113,y()),f("SmallInt",84,_()),f("Long",129,{write:O,read:k}),f("SmallLong",85,_()),f("Float",114,b()),f("Double",130,w()),f("Decimal32",116),f("Decimal64",132),f("Decimal128",148),f("CharUTF32",115,v()),f("Timestamp",131,{write:O,read:k}),f("Uuid",152),f("Vbin8",160),f("Vbin32",176),f("Str8",161,{encoding:"utf8"}),f("Str32",177,{encoding:"utf8"}),f("Sym8",163,{encoding:"ascii"}),f("Sym32",179,{encoding:"ascii"}),f("List0",69,void 0,[]),f("List8",192),f("List32",208),f("Map8",193),f("Map32",209),f("Array8",224),f("Array32",240),l.is_ulong=function(e){return I(e,[l.Ulong,l.Ulong0,l.SmallUlong])},l.is_string=function(e){return I(e,[l.Str8,l.Str32])},l.is_symbol=function(e){return I(e,[l.Sym8,l.Sym32])},l.is_list=function(e){return I(e,[l.List0,l.List8,l.List32])},l.is_map=function(e){return I(e,[l.Map8,l.Map32])},l.wrap_boolean=function(e){return e?l.True():l.False()},l.wrap_ulong=function(e){return t.isBuffer(e)?A(e,8,!1)?l.Ulong0():A(e,7,!1)?l.SmallUlong(e[7]):l.Ulong(e):0===e?l.Ulong0():e>255?l.Ulong(e):l.SmallUlong(e)},l.wrap_uint=function(e){return 0===e?l.Uint0():e>255?l.Uint(e):l.SmallUint(e)},l.wrap_ushort=function(e){return l.Ushort(e)},l.wrap_ubyte=function(e){return l.Ubyte(e)},l.wrap_long=function(e){if(t.isBuffer(e)){var n=0!==(128&e[0]);return A(e,7,n)&&(128&e[7])===(n?128:0)?l.SmallLong(n?-(1+(255^e[7])):e[7]):l.Long(e)}return e>127||e<-128?l.Long(e):l.SmallLong(e)},l.wrap_int=function(e){return e>127||e<-128?l.Int(e):l.SmallInt(e)},l.wrap_short=function(e){return l.Short(e)},l.wrap_byte=function(e){return l.Byte(e)},l.wrap_float=function(e){return l.Float(e)},l.wrap_double=function(e){return l.Double(e)},l.wrap_timestamp=function(e){return l.Timestamp(e)},l.wrap_char=function(e){return l.CharUTF32(e)},l.wrap_uuid=function(e){return l.Uuid(e)},l.wrap_binary=function(e){return e.length>255?l.Vbin32(e):l.Vbin8(e)},l.wrap_string=function(e){return t.byteLength(e)>255?l.Str32(e):l.Str8(e)},l.wrap_symbol=function(e){return t.byteLength(e)>255?l.Sym32(e):l.Sym8(e)},l.wrap_list=function(e){if(0===e.length)return l.List0();var t=e.map(l.wrap);return l.List32(t)},l.wrap_map=function(e,t){var n=[];for(var r in e)n.push(t?t(r):l.wrap(r)),n.push(l.wrap(e[r]));return l.Map32(n)},l.wrap_symbolic_map=function(e){return l.wrap_map(e,l.wrap_symbol)},l.wrap_array=function(e,t,n){if(t)return l.Array32(e,t,n);throw console.trace("An array must specify a type for its elements"),new r.TypeError("An array must specify a type for its elements")},l.wrap=function(e){var n=typeof e;return"string"===n?l.wrap_string(e):"boolean"===n?e?l.True():l.False():"number"===n||e instanceof Number?isNaN(e)?l.Null():Math.floor(e)-e!==0?l.Double(e):e>0?e<C?l.wrap_uint(e):l.wrap_ulong(e):e>x?l.wrap_int(e):l.wrap_long(e):e instanceof Date?l.wrap_timestamp(e.getTime()):e instanceof u?e:e instanceof t||e instanceof Uint8Array?l.wrap_binary(e):"undefined"===n||null===e?l.Null():Array.isArray(e)?l.wrap_list(e):l.wrap_map(e)},l.wrap_described=function(e,t){var n=l.wrap(e);return t&&("string"===typeof t?n=l.described(l.wrap_symbol(t),n):("number"===typeof t||t instanceof Number)&&(n=l.described(l.wrap_ulong(t),n))),n},l.wrap_message_id=function(e){var n=typeof e;if("string"===n)return l.wrap_string(e);if("number"===n||e instanceof Number)return l.wrap_ulong(e);if(t.isBuffer(e))return l.wrap_uuid(e);throw new r.TypeError("invalid message id:"+e)};var R={};function j(e){var t=l.by_code[e];if(!t)throw new r.TypeError("Unrecognised typecode: "+h(e));return t}function L(e,t){return e>t?e:t}function M(e){if("symbol"===e)return{typecode:l.Sym8.typecode};throw new r.TypeError("TODO: Array of type "+e+" not yet supported")}function P(e,t){if(void 0!==t&&null!==t){if(Array.isArray(t)){if(!e.multiple)throw new r.TypeError("Field "+e.name+" does not support multiple values, got "+JSON.stringify(t));var n=M(e.type);return l.wrap_array(t,n.typecode,n.descriptor)}if("*"===e.type)return t;var i=l["wrap_"+e.type];if(i)return i(t);throw new r.TypeError("No wrapper for field "+e.name+" of type "+e.type)}if(e.mandatory)throw new r.TypeError("Field "+e.name+" is mandatory");return l.Null()}function q(e,t){var n;n="*"===t.type?function(){return this.value[e]}:function(){return l.unwrap(this.value[e])};var r=function(n){this.value[e]=P(t,n)};return{get:n,set:r,enumerable:!0,configurable:!1}}function F(e){var t=l.define_composite(e);l["wrap_"+e.name]=function(e){return t.create(e).described()},R[Number(t.descriptor.numeric).toString(10)]=t,R[t.descriptor.symbolic]=t}l.unwrap_map_simple=function(e){return T(e.value.map((function(e){return l.unwrap(e,!0)})))},l.unwrap=function(e,t){if(e instanceof u){if(e.descriptor){var n=R[e.descriptor.value];if(n)return new n(e.value);if(t)return e}var r=l.unwrap(e.value,!0);return l.is_map(e)?T(r):r}return Array.isArray(e)?e.map((function(e){return l.unwrap(e,!0)})):e},l.described_nc=function(e,t){return e.length?(t.descriptor=e.shift(),l.described(e,t)):(t.descriptor=e,t)},l.described=l.described_nc,l.Reader=function(e){this.buffer=e,this.position=0},l.Reader.prototype.read_typecode=function(){return this.read_uint(1)},l.Reader.prototype.read_uint=function(e){var t=this.position;if(this.position+=e,1===e)return this.buffer.readUInt8(t);if(2===e)return this.buffer.readUInt16BE(t);if(4===e)return this.buffer.readUInt32BE(t);throw new r.TypeError("Unexpected width for uint "+e)},l.Reader.prototype.read_fixed_width=function(e){var t=this.position;return this.position+=e.width,e.read?e.read(this.buffer,t):this.buffer.slice(t,this.position)},l.Reader.prototype.read_variable_width=function(e){var t=this.read_uint(e.width),n=this.read_bytes(t);return e.encoding?n.toString(e.encoding):n},l.Reader.prototype.read=function(){var e=this.read_constructor(),t=this.read_value(j(e.typecode));return e.descriptor?l.described_nc(e.descriptor,t):t},l.Reader.prototype.read_constructor=function(){var e=this.read_typecode();if(0===e){var t=[];t.push(this.read());var n=this.read_constructor();while(n.descriptor)t.push(n.descriptor),n=this.read_constructor();return{typecode:n.typecode,descriptor:1===t.length?t[0]:t}}return{typecode:e}},l.Reader.prototype.read_value=function(e){if(0===e.width)return e.create();if(e.category===o)return e.create(this.read_fixed_width(e));if(e.category===s)return e.create(this.read_variable_width(e));if(e.category===c)return this.read_compound(e);if(e.category===a)return this.read_array(e);throw new r.TypeError("Invalid category for type: "+e)},l.Reader.prototype.read_array_items=function(e,t){var n=[];while(n.length<e)n.push(this.read_value(t));return n},l.Reader.prototype.read_n=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.read();return t},l.Reader.prototype.read_size_count=function(e){return{size:this.read_uint(e),count:this.read_uint(e)}},l.Reader.prototype.read_compound=function(e){var t=this.read_size_count(e.width);return e.create(this.read_n(t.count))},l.Reader.prototype.read_array=function(e){var t=this.read_size_count(e.width),n=this.read_constructor();return e.create(this.read_array_items(t.count,j(n.typecode)),n.typecode,n.descriptor)},l.Reader.prototype.toString=function(){var e="buffer@"+this.position;this.position&&(e+=": ");for(var t=this.position;t<this.buffer.length;t++)t>0&&(e+=","),e+="0x"+Number(this.buffer[t]).toString(16);return e},l.Reader.prototype.reset=function(){this.position=0},l.Reader.prototype.skip=function(e){this.position+=e},l.Reader.prototype.read_bytes=function(e){var t=this.position;return this.position+=e,this.buffer.slice(t,this.position)},l.Reader.prototype.remaining=function(){return this.buffer.length-this.position},l.Writer=function(e){this.buffer=e||i.allocate_buffer(1024),this.position=0},l.Writer.prototype.toBuffer=function(){return this.buffer.slice(0,this.position)},l.Writer.prototype.ensure=function(e){if(this.buffer.length<e){var t=i.allocate_buffer(L(2*this.buffer.length,e));this.buffer.copy(t),this.buffer=t}},l.Writer.prototype.write_typecode=function(e){this.write_uint(e,1)},l.Writer.prototype.write_uint=function(e,t){var n=this.position;if(this.ensure(this.position+t),this.position+=t,1===t)return this.buffer.writeUInt8(e,n);if(2===t)return this.buffer.writeUInt16BE(e,n);if(4===t)return this.buffer.writeUInt32BE(e,n);throw new r.TypeError("Unexpected width for uint "+t)},l.Writer.prototype.write_fixed_width=function(e,t){var n=this.position;if(this.ensure(this.position+e.width),this.position+=e.width,e.write)e.write(this.buffer,t,n);else{if(!t.copy)throw new r.TypeError("Cannot handle write for "+e);t.copy(this.buffer,n)}},l.Writer.prototype.write_variable_width=function(e,n){var r=e.encoding?t.from(n,e.encoding):t.from(n);this.write_uint(r.length,e.width),this.write_bytes(r)},l.Writer.prototype.write_bytes=function(e){var t=this.position;this.ensure(this.position+e.length),this.position+=e.length,e.copy(this.buffer,t)},l.Writer.prototype.write_constructor=function(e,t){t&&(this.write_typecode(0),this.write(t)),this.write_typecode(e)},l.Writer.prototype.write=function(e){if(void 0===e.type){if(!e.described)throw new r.TypeError("Cannot write "+JSON.stringify(e));this.write(e.described())}else this.write_constructor(e.type.typecode,e.descriptor),this.write_value(e.type,e.value,e.array_constructor)},l.Writer.prototype.write_value=function(e,t,n){if(0!==e.width)if(e.category===o)this.write_fixed_width(e,t);else if(e.category===s)this.write_variable_width(e,t);else if(e.category===c)this.write_compound(e,t);else{if(e.category!==a)throw new r.TypeError("Invalid category "+e.category+" for type: "+e);this.write_array(e,t,n)}},l.Writer.prototype.backfill_size=function(e,t){var n=this.position-t;this.position=t,this.write_uint(n-e,e),this.position+=n-e},l.Writer.prototype.write_compound=function(e,t){var n=this.position;this.position+=e.width,this.write_uint(t.length,e.width);for(var r=0;r<t.length;r++)void 0===t[r]||null===t[r]?this.write(l.Null()):this.write(t[r]);this.backfill_size(e.width,n)},l.Writer.prototype.write_array=function(e,t,n){var r=this.position;this.position+=e.width,this.write_uint(t.length,e.width),this.write_constructor(n.typecode,n.descriptor);for(var i=j(n.typecode),o=0;o<t.length;o++)this.write_value(i,t[o]);this.backfill_size(e.width,r)},l.Writer.prototype.toString=function(){var e="buffer@"+this.position;this.position&&(e+=": ");for(var t=0;t<this.position;t++)t>0&&(e+=","),e+=("00"+Number(this.buffer[t]).toString(16)).slice(-2);return e},l.Writer.prototype.skip=function(e){this.ensure(this.position+e),this.position+=e},l.Writer.prototype.clear=function(){this.buffer.fill(0),this.position=0},l.Writer.prototype.remaining=function(){return this.buffer.length-this.position},l.define_composite=function(e){var t=function(e){this.value=e||[]};t.descriptor={numeric:e.code,symbolic:"amqp:"+e.name+":list"},t.prototype.dispatch=function(t,n){t["on_"+e.name](n)};for(var n=0;n<e.fields.length;n++){var r=e.fields[n];Object.defineProperty(t.prototype,r.name,q(n,r))}return t.toString=function(){return e.name+"#"+Number(e.code).toString(16)},t.prototype.toJSON=function(){var e={};for(var t in this)"value"!==t&&this[t]&&(e[t]=this[t]);return e},t.create=function(e){var n=new t;for(var r in e)n[r]=e[r];return n},t.prototype.described=function(){return l.described_nc(l.wrap_ulong(t.descriptor.numeric),l.wrap_list(this.value))},t},F({name:"error",code:29,fields:[{name:"condition",type:"symbol",mandatory:!0},{name:"description",type:"string"},{name:"info",type:"map"}]}),e.exports=l}).call(this,n("b639").Buffer)},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d38":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("2f9e"),i=n("9411");function o(e){if(!e||"object"!==typeof e)throw new Error("err is a required parameter and must be of type 'object'.");let t=!1;return(e.condition&&"string"===typeof e.condition&&e.description&&"string"===typeof e.description||e.value&&Array.isArray(e.value)||e.constructor&&"c"===e.constructor.name)&&(t=!0),t}function s(e,t){return new Promise(n=>setTimeout(()=>n(t),e))}function c(e,t){t||(t={});const n=t.entitySeperator||";",r=t.keyValueSeparator||"=";return e.split(n).reduce((e,t)=>{const n=t.indexOf(r);return Object.assign({},e,{[t.substring(0,n)]:t.substring(n+1)})},{})}function a(e){const t=()=>{r[e.emitterType]("[%s] %s got event: '%s'. Re-emitting the translated context.",e.connectionId,e.emitterType,e.eventName),e.emitter.emit(e.eventName,i.EventContext.translate(e.rheaContext,e.emitter,e.eventName))};-1!==e.eventName.indexOf("error")&&e.emitter.actionInitiated>0?(r[e.emitterType]("[%s] %s got event: '%s'. Will re-emit in the next tick, since this happened before the promise for create/close was resolved.",e.connectionId,e.emitterType,e.eventName),setTimeout(t)):t()}(function(e){e[e["Continue"]=100]="Continue",e[e["SwitchingProtocols"]=101]="SwitchingProtocols",e[e["OK"]=200]="OK",e[e["Created"]=201]="Created",e[e["Accepted"]=202]="Accepted",e[e["NonAuthoritativeInformation"]=203]="NonAuthoritativeInformation",e[e["NoContent"]=204]="NoContent",e[e["ResetContent"]=205]="ResetContent",e[e["PartialContent"]=206]="PartialContent",e[e["Ambiguous"]=300]="Ambiguous",e[e["MultipleChoices"]=300]="MultipleChoices",e[e["Moved"]=301]="Moved",e[e["MovedPermanently"]=301]="MovedPermanently",e[e["Found"]=302]="Found",e[e["Redirect"]=302]="Redirect",e[e["RedirectMethod"]=303]="RedirectMethod",e[e["SeeOther"]=303]="SeeOther",e[e["NotModified"]=304]="NotModified",e[e["UseProxy"]=305]="UseProxy",e[e["Unused"]=306]="Unused",e[e["RedirectKeepVerb"]=307]="RedirectKeepVerb",e[e["TemporaryRedirect"]=307]="TemporaryRedirect",e[e["BadRequest"]=400]="BadRequest",e[e["Unauthorized"]=401]="Unauthorized",e[e["PaymentRequired"]=402]="PaymentRequired",e[e["Forbidden"]=403]="Forbidden",e[e["NotFound"]=404]="NotFound",e[e["MethodNotAllowed"]=405]="MethodNotAllowed",e[e["NotAcceptable"]=406]="NotAcceptable",e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired",e[e["RequestTimeout"]=408]="RequestTimeout",e[e["Conflict"]=409]="Conflict",e[e["Gone"]=410]="Gone",e[e["LengthRequired"]=411]="LengthRequired",e[e["PreconditionFailed"]=412]="PreconditionFailed",e[e["RequestEntityTooLarge"]=413]="RequestEntityTooLarge",e[e["RequestUriTooLong"]=414]="RequestUriTooLong",e[e["UnsupportedMediaType"]=415]="UnsupportedMediaType",e[e["RequestedRangeNotSatisfiable"]=416]="RequestedRangeNotSatisfiable",e[e["ExpectationFailed"]=417]="ExpectationFailed",e[e["UpgradeRequired"]=426]="UpgradeRequired",e[e["InternalServerError"]=500]="InternalServerError",e[e["NotImplemented"]=501]="NotImplemented",e[e["BadGateway"]=502]="BadGateway",e[e["ServiceUnavailable"]=503]="ServiceUnavailable",e[e["GatewayTimeout"]=504]="GatewayTimeout",e[e["HttpVersionNotSupported"]=505]="HttpVersionNotSupported"})(t.AmqpResponseStatusCode||(t.AmqpResponseStatusCode={})),t.messageProperties=["message_id","reply_to","to","correlation_id","content_type","absolute_expiry_time","group_id","group_sequence","reply_to_group_id","content_encoding","creation_time","subject","user_id"],t.messageHeader=["first_acquirer","delivery_count","ttl","durable","priority"],t.isAmqpError=o,t.delay=s,t.parseConnectionString=c,t.emitEvent=a},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7");function r(e,t,n,r,i,o,s){try{var c=e[o](s),a=c.value}catch(u){return void n(u)}c.done?t(a):Promise.resolve(a).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function c(e){r(s,i,o,c,a,"next",e)}function a(e){r(s,i,o,c,a,"throw",e)}c(void 0)}))}}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb5":function(e,t,n){"use strict";t.byteLength=d,t.toByteArray=l,t.fromByteArray=m;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,a=s.length;c<a;++c)r[c]=s[c],i[s.charCodeAt(c)]=c;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function d(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function h(e,t,n){return 3*(t+n)/4-n}function l(e){var t,n,r=u(e),s=r[0],c=r[1],a=new o(h(e,s,c)),d=0,l=c>0?s-4:s;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],a[d++]=t>>16&255,a[d++]=t>>8&255,a[d++]=255&t;return 2===c&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,a[d++]=255&t),1===c&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,a[d++]=t>>8&255,a[d++]=255&t),a}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],s=16383,c=0,a=n-i;c<a;c+=s)o.push(p(e,c,c+s>a?a:c+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),c=n("35a1"),a=n("2a62"),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var d,h,l,f,p,m,v,_=n&&n.that,g=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),w=s(t,_,1+g+b),C=function(e){return d&&a(d),new u(!0,e)},x=function(e){return g?(r(e),b?w(e[0],e[1],C):w(e[0],e[1])):b?w(e,C):w(e)};if(y)d=e;else{if(h=c(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(l=0,f=o(e.length);f>l;l++)if(p=x(e[l]),p&&p instanceof u)return p;return new u(!1)}d=h.call(e)}m=d.next;while(!(v=m.call(d)).done){try{p=x(v.value)}catch(E){throw a(d),E}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},"231b":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r,i=n("3b1f"),o=n("6163"),s=n("bae7"),c=n("eaed"),a=n("281e"),u=n("4c8d"),d=n("3c43"),h=n("58f2");(function(t){function n(t){c["a"].validate(t.config,{isEntityPathRequired:t.isEntityPathRequired||!1});const n=t.connectionProperties.userAgent;if(n.length>u["maxUserAgentLength"])throw new Error(`The user-agent string cannot be more than ${u["maxUserAgentLength"]} characters in length.The given user-agent string is: ${n} with length: ${n.length}`);const r={transport:u["TLS"],host:t.config.host,hostname:t.config.host,username:t.config.sharedAccessKeyName,port:5671,reconnect:!1,properties:{product:t.connectionProperties.product,version:t.connectionProperties.version,"user-agent":n,platform:`(${d["arch"]()}-${d["type"]()}-${d["release"]()})`,framework:"Node/"+e.version},operationTimeoutInSeconds:t.operationTimeoutInSeconds,idle_time_out:u["defaultConnectionIdleTimeoutInMs"]};if(t.config.webSocket||!h["d"]&&"undefined"!==typeof window&&window.WebSocket){const e=t.config.webSocket||window.WebSocket,n=t.config.host,i=t.config.webSocketEndpointPath||"",o=t.config.webSocketConstructorOptions||{};r.webSocketOptions={webSocket:e,url:`wss://${n}:443/${i}`,protocol:["AMQPWSB10"],options:o}}const l=new i["Connection"](r),f=`${u["establishConnection"]}-${Object(i["generate_uuid"])()}`,p={wasConnectionCloseCalled:!1,connectionLock:f,negotiateClaimLock:`${u["negotiateClaim"]}-${Object(i["generate_uuid"])()}`,connection:l,connectionId:l.id,cbsSession:new o["a"](l,f),config:t.config,tokenProvider:t.tokenProvider||new a["a"](t.config.endpoint,t.config.sharedAccessKeyName,t.config.sharedAccessKey),dataTransformer:t.dataTransformer||new s["a"],refreshConnection(){const e=new i["Connection"](r),t=`${u["establishConnection"]}-${Object(i["generate_uuid"])()}`;this.wasConnectionCloseCalled=!1,this.connectionLock=t,this.negotiateClaimLock=`${u["negotiateClaim"]} - ${Object(i["generate_uuid"])()}`,this.connection=e,this.connectionId=e.id,this.cbsSession=new o["a"](e,t)}};return p}t.create=n})(r||(r={}))}).call(this,n("4362"))},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),c=n("ce4e"),a=n("e893"),u=n("94ca");e.exports=function(e,t){var n,d,h,l,f,p,m=e.target,v=e.global,_=e.stat;if(d=v?r:_?r[m]||c(m,{}):(r[m]||{}).prototype,d)for(h in t){if(f=t[h],e.noTargetGet?(p=i(d,h),l=p&&p.value):l=d[h],n=u(v?h:m+(_?".":"#")+h,e.forced),!n&&void 0!==l){if(typeof f===typeof l)continue;a(f,l)}(e.sham||l&&l.sham)&&o(f,"sham",!0),s(d,h,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),c=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},"281e":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("9ab4"),i=n("58f2"),o=n("6346"),s=n("b639"),c=n("0454"),a=n.n(c),u=n("c53e"),d=n.n(u);class h{constructor(e,t,n,r,i){if(this.namespace=e,this.keyName=t,this.key=n,this.tokenValidTimeInSeconds=r||3600,this.tokenRenewalMarginInSeconds=i||900,this.tokenValidTimeInSeconds<=this.tokenRenewalMarginInSeconds)throw new Error("tokenRenewalMarginInSeconds must be less than tokenValidTimeInSeconds")}getToken(e){return Object(r["__awaiter"])(this,void 0,void 0,(function*(){return this._createToken(Math.floor(Date.now()/1e3)+this.tokenValidTimeInSeconds,e)}))}_createToken(e,t,n){t||(t=this.namespace),t=encodeURIComponent(t);const r=encodeURIComponent(this.keyName),i=t+"\n"+e;let c;n=n||this.key,a()(n)?(c=new d.a("SHA-256","ARRAYBUFFER"),c.setHMACKey(n,"ARRAYBUFFER"),c.update(s["Buffer"].from(i))):(c=new d.a("SHA-256","TEXT"),c.setHMACKey(n,"TEXT"),c.update(i));const u=encodeURIComponent(c.getHMAC("B64"));return{token:`SharedAccessSignature sr=${t}&sig=${u}&se=${e}&skn=${r}`,tokenType:o["a"].CbsTokenTypeSas,expiry:e}}static fromConnectionString(e){const t=Object(i["e"])(e);return new h(t.Endpoint,t.SharedAccessKeyName,t.SharedAccessKey)}}},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,c){var a,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=a):i&&(a=c?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(u.functional){u._injectStyles=a;var d=u.render;u.render=function(e,t){return a.call(t),d(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,a):[a]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2b0e":function(e,t,n){"use strict";(function(e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function c(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function a(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function d(e){return"[object Object]"===u.call(e)}function h(e){return"[object RegExp]"===u.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var _=v("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function w(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var C=/-(\w)/g,x=w((function(e){return e.replace(C,(function(e,t){return t?t.toUpperCase():""}))})),E=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),S=/\B([A-Z])/g,O=w((function(e){return e.replace(S,"-$1").toLowerCase()}));function k(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function I(e,t){return e.bind(t)}var A=Function.prototype.bind?I:k;function T(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function R(e,t){for(var n in t)e[n]=t[n];return e}function j(e){for(var t={},n=0;n<e.length;n++)e[n]&&R(t,e[n]);return t}function L(e,t,n){}var M=function(e,t,n){return!1},P=function(e){return e};function q(e,t){if(e===t)return!0;var n=a(e),r=a(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return q(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),c=Object.keys(t);return s.length===c.length&&s.every((function(n){return q(e[n],t[n])}))}catch(u){return!1}}function F(e,t){for(var n=0;n<e.length;n++)if(q(e[n],t))return n;return-1}function N(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var $="data-server-rendered",U=["component","directive","filter"],D=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:L,parsePlatformTagName:P,mustUseProp:M,async:!0,_lifecycleHooks:D},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Y(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^"+H.source+".$_\\d]");function V(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var W,G="__proto__"in{},J="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,X=Q&&WXEnvironment.platform.toLowerCase(),Z=J&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ne=Z&&Z.indexOf("edge/")>0,re=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===X),ie=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),oe={}.watch,se=!1;if(J)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){se=!0}}),window.addEventListener("test-passive",null,ce)}catch(xs){}var ae=function(){return void 0===W&&(W=!J&&!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),W},ue=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function de(e){return"function"===typeof e&&/native code/.test(e.toString())}var he,le="undefined"!==typeof Symbol&&de(Symbol)&&"undefined"!==typeof Reflect&&de(Reflect.ownKeys);he="undefined"!==typeof Set&&de(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var fe=L,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){g(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},me.target=null;var ve=[];function _e(e){ve.push(e),me.target=e}function ge(){ve.pop(),me.target=ve[ve.length-1]}var ye=function(e,t,n,r,i,o,s,c){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(ye.prototype,be);var we=function(e){void 0===e&&(e="");var t=new ye;return t.text=e,t.isComment=!0,t};function Ce(e){return new ye(void 0,void 0,void 0,String(e))}function xe(e){var t=new ye(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ee=Array.prototype,Se=Object.create(Ee),Oe=["push","pop","shift","unshift","splice","sort","reverse"];Oe.forEach((function(e){var t=Ee[e];Y(Se,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var ke=Object.getOwnPropertyNames(Se),Ie=!0;function Ae(e){Ie=e}var Te=function(e){this.value=e,this.dep=new me,this.vmCount=0,Y(e,"__ob__",this),Array.isArray(e)?(G?Re(e,Se):je(e,Se,ke),this.observeArray(e)):this.walk(e)};function Re(e,t){e.__proto__=t}function je(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];Y(e,o,t[o])}}function Le(e,t){var n;if(a(e)&&!(e instanceof ye))return b(e,"__ob__")&&e.__ob__ instanceof Te?n=e.__ob__:Ie&&!ae()&&(Array.isArray(e)||d(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Te(e)),t&&n&&n.vmCount++,n}function Me(e,t,n,r,i){var o=new me,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var c=s&&s.get,a=s&&s.set;c&&!a||2!==arguments.length||(n=e[t]);var u=!i&&Le(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=c?c.call(e):n;return me.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Fe(t))),t},set:function(t){var r=c?c.call(e):n;t===r||t!==t&&r!==r||c&&!a||(a?a.call(e,t):n=t,u=!i&&Le(t),o.notify())}})}}function Pe(e,t,n){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Me(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function qe(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||b(e,t)&&(delete e[t],n&&n.dep.notify())}}function Fe(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Fe(t)}Te.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Me(e,t[n])},Te.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Le(e[t])};var Ne=B.optionMergeStrategies;function $e(e,t){if(!t)return e;for(var n,r,i,o=le?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=e[n],i=t[n],b(e,n)?r!==i&&d(r)&&d(i)&&$e(r,i):Pe(e,n,i));return e}function Ue(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,i="function"===typeof e?e.call(n,n):e;return r?$e(r,i):i}:t?e?function(){return $e("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function De(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?Be(n):n}function Be(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function He(e,t,n,r){var i=Object.create(e||null);return t?R(i,t):i}Ne.data=function(e,t,n){return n?Ue(e,t,n):t&&"function"!==typeof t?e:Ue(e,t)},D.forEach((function(e){Ne[e]=De})),U.forEach((function(e){Ne[e+"s"]=He})),Ne.watch=function(e,t,n,r){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in R(i,e),t){var s=i[o],c=t[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(c):Array.isArray(c)?c:[c]}return i},Ne.props=Ne.methods=Ne.inject=Ne.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return R(i,e),t&&R(i,t),i},Ne.provide=Ue;var ze=function(e,t){return void 0===t?e:t};function Ye(e,t){var n=e.props;if(n){var r,i,o,s={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=x(i),s[o]={type:null})}else if(d(n))for(var c in n)i=n[c],o=x(c),s[o]=d(i)?i:{type:i};else 0;e.props=s}}function Ke(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(d(n))for(var o in n){var s=n[o];r[o]=d(s)?R({from:o},s):{from:s}}else 0}}function Ve(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function We(e,t,n){if("function"===typeof t&&(t=t.options),Ye(t,n),Ke(t,n),Ve(t),!t._base&&(t.extends&&(e=We(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=We(e,t.mixins[r],n);var o,s={};for(o in e)c(o);for(o in t)b(e,o)||c(o);function c(r){var i=Ne[r]||ze;s[r]=i(e[r],t[r],n,r)}return s}function Ge(e,t,n,r){if("string"===typeof n){var i=e[t];if(b(i,n))return i[n];var o=x(n);if(b(i,o))return i[o];var s=E(o);if(b(i,s))return i[s];var c=i[n]||i[o]||i[s];return c}}function Je(e,t,n,r){var i=t[e],o=!b(n,e),s=n[e],c=et(Boolean,i.type);if(c>-1)if(o&&!b(i,"default"))s=!1;else if(""===s||s===O(e)){var a=et(String,i.type);(a<0||c<a)&&(s=!0)}if(void 0===s){s=Qe(r,i,e);var u=Ie;Ae(!0),Le(s),Ae(u)}return s}function Qe(e,t,n){if(b(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Xe(t.type)?r.call(e):r}}function Xe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ze(e,t){return Xe(e)===Xe(t)}function et(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Ze(t[n],e))return n;return-1}function tt(e,t,n){_e();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(xs){rt(xs,r,"errorCaptured hook")}}}rt(e,t,n)}finally{ge()}}function nt(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(e){return tt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(xs){tt(xs,r,i)}return o}function rt(e,t,n){if(B.errorHandler)try{return B.errorHandler.call(null,e,t,n)}catch(xs){xs!==e&&it(xs,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!J&&!Q||"undefined"===typeof console)throw e;console.error(e)}var ot,st=!1,ct=[],at=!1;function ut(){at=!1;var e=ct.slice(0);ct.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&de(Promise)){var dt=Promise.resolve();ot=function(){dt.then(ut),re&&setTimeout(L)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!de(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&de(setImmediate)?function(){setImmediate(ut)}:function(){setTimeout(ut,0)};else{var ht=1,lt=new MutationObserver(ut),ft=document.createTextNode(String(ht));lt.observe(ft,{characterData:!0}),ot=function(){ht=(ht+1)%2,ft.data=String(ht)},st=!0}function pt(e,t){var n;if(ct.push((function(){if(e)try{e.call(t)}catch(xs){tt(xs,t,"nextTick")}else n&&n(t)})),at||(at=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var mt=new he;function vt(e){_t(e,mt),mt.clear()}function _t(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!a(e)||Object.isFrozen(e)||e instanceof ye)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){n=e.length;while(n--)_t(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)_t(e[r[n]],t)}}}var gt=w((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function yt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)nt(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function bt(e,t,n,i,s,c){var a,u,d,h;for(a in e)u=e[a],d=t[a],h=gt(a),r(u)||(r(d)?(r(u.fns)&&(u=e[a]=yt(u,c)),o(h.once)&&(u=e[a]=s(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==d&&(d.fns=u,e[a]=d));for(a in t)r(e[a])&&(h=gt(a),i(h.name,t[a],h.capture))}function wt(e,t,n){var s;e instanceof ye&&(e=e.data.hook||(e.data.hook={}));var c=e[t];function a(){n.apply(this,arguments),g(s.fns,a)}r(c)?s=yt([a]):i(c.fns)&&o(c.merged)?(s=c,s.fns.push(a)):s=yt([c,a]),s.merged=!0,e[t]=s}function Ct(e,t,n){var o=t.options.props;if(!r(o)){var s={},c=e.attrs,a=e.props;if(i(c)||i(a))for(var u in o){var d=O(u);xt(s,a,u,d,!0)||xt(s,c,u,d,!1)}return s}}function xt(e,t,n,r,o){if(i(t)){if(b(t,n))return e[n]=t[n],o||delete t[n],!0;if(b(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function Et(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function St(e){return c(e)?[Ce(e)]:Array.isArray(e)?kt(e):void 0}function Ot(e){return i(e)&&i(e.text)&&s(e.isComment)}function kt(e,t){var n,s,a,u,d=[];for(n=0;n<e.length;n++)s=e[n],r(s)||"boolean"===typeof s||(a=d.length-1,u=d[a],Array.isArray(s)?s.length>0&&(s=kt(s,(t||"")+"_"+n),Ot(s[0])&&Ot(u)&&(d[a]=Ce(u.text+s[0].text),s.shift()),d.push.apply(d,s)):c(s)?Ot(u)?d[a]=Ce(u.text+s):""!==s&&d.push(Ce(s)):Ot(s)&&Ot(u)?d[a]=Ce(u.text+s.text):(o(e._isVList)&&i(s.tag)&&r(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+n+"__"),d.push(s)));return d}function It(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function At(e){var t=Tt(e.$options.inject,e);t&&(Ae(!1),Object.keys(t).forEach((function(n){Me(e,n,t[n])})),Ae(!0))}function Tt(e,t){if(e){for(var n=Object.create(null),r=le?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from,c=t;while(c){if(c._provided&&b(c._provided,s)){n[o]=c._provided[s];break}c=c.$parent}if(!c)if("default"in e[o]){var a=e[o].default;n[o]="function"===typeof a?a.call(t):a}else 0}}return n}}function Rt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var c=s.slot,a=n[c]||(n[c]=[]);"template"===o.tag?a.push.apply(a,o.children||[]):a.push(o)}}for(var u in n)n[u].every(jt)&&delete n[u];return n}function jt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Lt(e,t,r){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&r&&r!==n&&c===r.$key&&!o&&!r.$hasNormal)return r;for(var a in i={},e)e[a]&&"$"!==a[0]&&(i[a]=Mt(t,a,e[a]))}else i={};for(var u in t)u in i||(i[u]=Pt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=i),Y(i,"$stable",s),Y(i,"$key",c),Y(i,"$hasNormal",o),i}function Mt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:St(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Pt(e,t){return function(){return e[t]}}function qt(e,t){var n,r,o,s,c;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(a(e))if(le&&e[Symbol.iterator]){n=[];var u=e[Symbol.iterator](),d=u.next();while(!d.done)n.push(t(d.value,n.length)),d=u.next()}else for(s=Object.keys(e),n=new Array(s.length),r=0,o=s.length;r<o;r++)c=s[r],n[r]=t(e[c],c,r);return i(n)||(n=[]),n._isVList=!0,n}function Ft(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=R(R({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Nt(e){return Ge(this.$options,"filters",e,!0)||P}function $t(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ut(e,t,n,r,i){var o=B.keyCodes[t]||n;return i&&r&&!B.keyCodes[t]?$t(i,r):o?$t(o,e):r?O(r)!==t:void 0}function Dt(e,t,n,r,i){if(n)if(a(n)){var o;Array.isArray(n)&&(n=j(n));var s=function(s){if("class"===s||"style"===s||_(s))o=e;else{var c=e.attrs&&e.attrs.type;o=r||B.mustUseProp(t,c,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var a=x(s),u=O(s);if(!(a in o)&&!(u in o)&&(o[s]=n[s],i)){var d=e.on||(e.on={});d["update:"+s]=function(e){n[s]=e}}};for(var c in n)s(c)}else;return e}function Bt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),zt(r,"__static__"+e,!1)),r}function Ht(e,t,n){return zt(e,"__once__"+t+(n?"_"+n:""),!0),e}function zt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Yt(e[r],t+"_"+r,n);else Yt(e,t,n)}function Yt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Kt(e,t){if(t)if(d(t)){var n=e.on=e.on?R({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Vt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Vt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Wt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Gt(e,t){return"string"===typeof e?t+e:e}function Jt(e){e._o=Ht,e._n=m,e._s=p,e._l=qt,e._t=Ft,e._q=q,e._i=F,e._m=Bt,e._f=Nt,e._k=Ut,e._b=Dt,e._v=Ce,e._e=we,e._u=Vt,e._g=Kt,e._d=Wt,e._p=Gt}function Qt(e,t,r,i,s){var c,a=this,u=s.options;b(i,"_uid")?(c=Object.create(i),c._original=i):(c=i,i=i._original);var d=o(u._compiled),h=!d;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=Tt(u.inject,i),this.slots=function(){return a.$slots||Lt(e.scopedSlots,a.$slots=Rt(r,i)),a.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Lt(e.scopedSlots,this.slots())}}),d&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Lt(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var o=hn(c,e,t,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return hn(c,e,t,n,r,h)}}function Xt(e,t,r,o,s){var c=e.options,a={},u=c.props;if(i(u))for(var d in u)a[d]=Je(d,u,t||n);else i(r.attrs)&&en(a,r.attrs),i(r.props)&&en(a,r.props);var h=new Qt(r,a,s,o,e),l=c.render.call(null,h._c,h);if(l instanceof ye)return Zt(l,r,h.parent,c,h);if(Array.isArray(l)){for(var f=St(l)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Zt(f[m],r,h.parent,c,h);return p}}function Zt(e,t,n,r,i){var o=xe(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function en(e,t){for(var n in t)e[x(n)]=t[n]}Jt(Qt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,Tn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Pn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,$n(n,"mounted")),e.data.keepAlive&&(t._isMounted?Xn(n):Fn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Nn(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,s,c){if(!r(e)){var u=n.$options._base;if(a(e)&&(e=u.extend(e)),"function"===typeof e){var d;if(r(e.cid)&&(d=e,e=wn(d,u),void 0===e))return bn(d,t,n,s,c);t=t||{},wr(e),i(t.model)&&an(e.options,t);var h=Ct(t,e,c);if(o(e.options.functional))return Xt(e,h,t,n,s);var l=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}sn(t);var p=e.options.name||c,m=new ye("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:h,listeners:l,tag:c,children:s},d);return m}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function sn(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=t[r],o=tn[r];i===o||i&&i._merged||(t[r]=i?cn(o,i):o)}}function cn(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function an(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],c=t.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(c):s!==c)&&(o[r]=[c].concat(s)):o[r]=c}var un=1,dn=2;function hn(e,t,n,r,i,s){return(Array.isArray(n)||c(n))&&(i=r,r=n,n=void 0),o(s)&&(i=dn),ln(e,t,n,r,i)}function ln(e,t,n,r,o){if(i(n)&&i(n.__ob__))return we();if(i(n)&&i(n.is)&&(t=n.is),!t)return we();var s,c,a;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===dn?r=St(r):o===un&&(r=Et(r)),"string"===typeof t)?(c=e.$vnode&&e.$vnode.ns||B.getTagNamespace(t),s=B.isReservedTag(t)?new ye(B.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(a=Ge(e.$options,"components",t))?new ye(t,n,r,void 0,void 0,e):rn(a,n,e,r,t)):s=rn(t,n,e,r);return Array.isArray(s)?s:i(s)?(i(c)&&fn(s,c),i(n)&&pn(n),s):we()}function fn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var s=0,c=e.children.length;s<c;s++){var a=e.children[s];i(a.tag)&&(r(a.ns)||o(n)&&"svg"!==a.tag)&&fn(a,t,n)}}function pn(e){a(e.style)&&vt(e.style),a(e.class)&&vt(e.class)}function mn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=Rt(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return hn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return hn(e,t,n,r,i,!0)};var o=r&&r.data;Me(e,"$attrs",o&&o.attrs||n,null,!0),Me(e,"$listeners",t._parentListeners||n,null,!0)}var vn,_n=null;function gn(e){Jt(e.prototype),e.prototype.$nextTick=function(e){return pt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=Lt(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{_n=t,e=r.call(t._renderProxy,t.$createElement)}catch(xs){tt(xs,t,"render"),e=t._vnode}finally{_n=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ye||(e=we()),e.parent=i,e}}function yn(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),a(e)?t.extend(e):e}function bn(e,t,n,r,i){var o=we();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function wn(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=_n;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var s=e.owners=[n],c=!0,u=null,d=null;n.$on("hook:destroyed",(function(){return g(s,n)}));var h=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==u&&(clearTimeout(u),u=null),null!==d&&(clearTimeout(d),d=null))},l=N((function(n){e.resolved=yn(n,t),c?s.length=0:h(!0)})),p=N((function(t){i(e.errorComp)&&(e.error=!0,h(!0))})),m=e(l,p);return a(m)&&(f(m)?r(e.resolved)&&m.then(l,p):f(m.component)&&(m.component.then(l,p),i(m.error)&&(e.errorComp=yn(m.error,t)),i(m.loading)&&(e.loadingComp=yn(m.loading,t),0===m.delay?e.loading=!0:u=setTimeout((function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),i(m.timeout)&&(d=setTimeout((function(){d=null,r(e.resolved)&&p(null)}),m.timeout)))),c=!1,e.loading?e.loadingComp:e.resolved}}function Cn(e){return e.isComment&&e.asyncFactory}function xn(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||Cn(n)))return n}}function En(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&In(e,t)}function Sn(e,t){vn.$on(e,t)}function On(e,t){vn.$off(e,t)}function kn(e,t){var n=vn;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function In(e,t,n){vn=e,bt(t,n||{},Sn,On,kn,e),vn=void 0}function An(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;var c=s.length;while(c--)if(o=s[c],o===t||o.fn===t){s.splice(c,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),i='event handler for "'+e+'"',o=0,s=n.length;o<s;o++)nt(n[o],t,r,t,i)}return t}}var Tn=null;function Rn(e){var t=Tn;return Tn=e,function(){Tn=t}}function jn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Ln(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Rn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){$n(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),$n(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Mn(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=we),$n(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,L,{before:function(){e._isMounted&&!e._isDestroyed&&$n(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,$n(e,"mounted")),e}function Pn(e,t,r,i,o){var s=i.data.scopedSlots,c=e.$scopedSlots,a=!!(s&&!s.$stable||c!==n&&!c.$stable||s&&e.$scopedSlots.$key!==s.$key),u=!!(o||e.$options._renderChildren||a);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Ae(!1);for(var d=e._props,h=e.$options._propKeys||[],l=0;l<h.length;l++){var f=h[l],p=e.$options.props;d[f]=Je(f,p,t,e)}Ae(!0),e.$options.propsData=t}r=r||n;var m=e.$options._parentListeners;e.$options._parentListeners=r,In(e,r,m),u&&(e.$slots=Rt(o,i.context),e.$forceUpdate())}function qn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Fn(e,t){if(t){if(e._directInactive=!1,qn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Fn(e.$children[n]);$n(e,"activated")}}function Nn(e,t){if((!t||(e._directInactive=!0,!qn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Nn(e.$children[n]);$n(e,"deactivated")}}function $n(e,t){_e();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)nt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ge()}var Un=[],Dn=[],Bn={},Hn=!1,zn=!1,Yn=0;function Kn(){Yn=Un.length=Dn.length=0,Bn={},Hn=zn=!1}var Vn=0,Wn=Date.now;if(J&&!ee){var Gn=window.performance;Gn&&"function"===typeof Gn.now&&Wn()>document.createEvent("Event").timeStamp&&(Wn=function(){return Gn.now()})}function Jn(){var e,t;for(Vn=Wn(),zn=!0,Un.sort((function(e,t){return e.id-t.id})),Yn=0;Yn<Un.length;Yn++)e=Un[Yn],e.before&&e.before(),t=e.id,Bn[t]=null,e.run();var n=Dn.slice(),r=Un.slice();Kn(),Zn(n),Qn(r),ue&&B.devtools&&ue.emit("flush")}function Qn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&$n(r,"updated")}}function Xn(e){e._inactive=!1,Dn.push(e)}function Zn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Fn(e[t],!0)}function er(e){var t=e.id;if(null==Bn[t]){if(Bn[t]=!0,zn){var n=Un.length-1;while(n>Yn&&Un[n].id>e.id)n--;Un.splice(n+1,0,e)}else Un.push(e);Hn||(Hn=!0,pt(Jn))}}var tr=0,nr=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new he,this.newDepIds=new he,this.expression="","function"===typeof t?this.getter=t:(this.getter=V(t),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;_e(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(xs){if(!this.user)throw xs;tt(xs,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&vt(e),ge(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||a(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(xs){tt(xs,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:L,set:L};function ir(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function or(e){e._watchers=[];var t=e.$options;t.props&&sr(e,t.props),t.methods&&pr(e,t.methods),t.data?cr(e):Le(e._data={},!0),t.computed&&dr(e,t.computed),t.watch&&t.watch!==oe&&mr(e,t.watch)}function sr(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||Ae(!1);var s=function(o){i.push(o);var s=Je(o,t,n,e);Me(r,o,s),o in e||ir(e,"_props",o)};for(var c in t)s(c);Ae(!0)}function cr(e){var t=e.$options.data;t=e._data="function"===typeof t?ar(t,e):t||{},d(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&b(r,o)||z(o)||ir(e,"_data",o)}Le(t,!0)}function ar(e,t){_e();try{return e.call(t,t)}catch(xs){return tt(xs,t,"data()"),{}}finally{ge()}}var ur={lazy:!0};function dr(e,t){var n=e._computedWatchers=Object.create(null),r=ae();for(var i in t){var o=t[i],s="function"===typeof o?o:o.get;0,r||(n[i]=new nr(e,s||L,L,ur)),i in e||hr(e,i,o)}}function hr(e,t,n){var r=!ae();"function"===typeof n?(rr.get=r?lr(t):fr(n),rr.set=L):(rr.get=n.get?r&&!1!==n.cache?lr(t):fr(n.get):L,rr.set=n.set||L),Object.defineProperty(e,t,rr)}function lr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function fr(e){return function(){return e.call(this,this)}}function pr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?L:A(t[n],e)}function mr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)vr(e,n,r[i]);else vr(e,n,r)}}function vr(e,t,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function _r(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Pe,e.prototype.$delete=qe,e.prototype.$watch=function(e,t,n){var r=this;if(d(t))return vr(r,e,t,n);n=n||{},n.user=!0;var i=new nr(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(o){tt(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var gr=0;function yr(e){e.prototype._init=function(e){var t=this;t._uid=gr++,t._isVue=!0,e&&e._isComponent?br(t,e):t.$options=We(wr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,jn(t),En(t),mn(t),$n(t,"beforeCreate"),At(t),or(t),It(t),$n(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function br(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function wr(e){var t=e.options;if(e.super){var n=wr(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=Cr(e);i&&R(e.extendOptions,i),t=e.options=We(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Cr(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function xr(e){this._init(e)}function Er(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=T(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Sr(e){e.mixin=function(e){return this.options=We(this.options,e),this}}function Or(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=We(n.options,e),s["super"]=n,s.options.props&&kr(s),s.options.computed&&Ir(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,U.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=R({},s.options),i[r]=s,s}}function kr(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function Ir(e){var t=e.options.computed;for(var n in t)hr(e.prototype,n,t[n])}function Ar(e){U.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&d(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Tr(e){return e&&(e.Ctor.options.name||e.tag)}function Rr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!h(e)&&e.test(t)}function jr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var c=Tr(s.componentOptions);c&&!t(c)&&Lr(n,o,r,i)}}}function Lr(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,g(n,t)}yr(xr),_r(xr),An(xr),Ln(xr),gn(xr);var Mr=[String,RegExp,Array],Pr={name:"keep-alive",abstract:!0,props:{include:Mr,exclude:Mr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Lr(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){jr(e,(function(e){return Rr(t,e)}))})),this.$watch("exclude",(function(t){jr(e,(function(e){return!Rr(t,e)}))}))},render:function(){var e=this.$slots.default,t=xn(e),n=t&&t.componentOptions;if(n){var r=Tr(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Rr(o,r))||s&&r&&Rr(s,r))return t;var c=this,a=c.cache,u=c.keys,d=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[d]?(t.componentInstance=a[d].componentInstance,g(u,d),u.push(d)):(a[d]=t,u.push(d),this.max&&u.length>parseInt(this.max)&&Lr(a,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},qr={KeepAlive:Pr};function Fr(e){var t={get:function(){return B}};Object.defineProperty(e,"config",t),e.util={warn:fe,extend:R,mergeOptions:We,defineReactive:Me},e.set=Pe,e.delete=qe,e.nextTick=pt,e.observable=function(e){return Le(e),e},e.options=Object.create(null),U.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,R(e.options.components,qr),Er(e),Sr(e),Or(e),Ar(e)}Fr(xr),Object.defineProperty(xr.prototype,"$isServer",{get:ae}),Object.defineProperty(xr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xr,"FunctionalRenderContext",{value:Qt}),xr.version="2.6.12";var Nr=v("style,class"),$r=v("input,textarea,option,select,progress"),Ur=function(e,t,n){return"value"===n&&$r(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Dr=v("contenteditable,draggable,spellcheck"),Br=v("events,caret,typing,plaintext-only"),Hr=function(e,t){return Wr(t)||"false"===t?"false":"contenteditable"===e&&Br(t)?t:"true"},zr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Yr="http://www.w3.org/1999/xlink",Kr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Vr=function(e){return Kr(e)?e.slice(6,e.length):""},Wr=function(e){return null==e||!1===e};function Gr(e){var t=e.data,n=e,r=e;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Jr(r.data,t));while(i(n=n.parent))n&&n.data&&(t=Jr(t,n.data));return Qr(t.staticClass,t.class)}function Jr(e,t){return{staticClass:Xr(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Qr(e,t){return i(e)||i(t)?Xr(e,Zr(t)):""}function Xr(e,t){return e?t?e+" "+t:e:t||""}function Zr(e){return Array.isArray(e)?ei(e):a(e)?ti(e):"string"===typeof e?e:""}function ei(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Zr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ti(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(e){return ri(e)||ii(e)};function si(e){return ii(e)?"svg":"math"===e?"math":void 0}var ci=Object.create(null);function ai(e){if(!J)return!0;if(oi(e))return!1;if(e=e.toLowerCase(),null!=ci[e])return ci[e];var t=document.createElement(e);return e.indexOf("-")>-1?ci[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ci[e]=/HTMLUnknownElement/.test(t.toString())}var ui=v("text,number,password,search,email,tel,url");function di(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function hi(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function li(e,t){return document.createElementNS(ni[e],t)}function fi(e){return document.createTextNode(e)}function pi(e){return document.createComment(e)}function mi(e,t,n){e.insertBefore(t,n)}function vi(e,t){e.removeChild(t)}function _i(e,t){e.appendChild(t)}function gi(e){return e.parentNode}function yi(e){return e.nextSibling}function bi(e){return e.tagName}function wi(e,t){e.textContent=t}function Ci(e,t){e.setAttribute(t,"")}var xi=Object.freeze({createElement:hi,createElementNS:li,createTextNode:fi,createComment:pi,insertBefore:mi,removeChild:vi,appendChild:_i,parentNode:gi,nextSibling:yi,tagName:bi,setTextContent:wi,setStyleScope:Ci}),Ei={create:function(e,t){Si(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Si(e,!0),Si(t))},destroy:function(e){Si(e,!0)}};function Si(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?g(s[n],o):s[n]===o&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var Oi=new ye("",{},[]),ki=["create","activate","update","remove","destroy"];function Ii(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&Ai(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Ai(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||ui(r)&&ui(o)}function Ti(e,t,n){var r,o,s={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(s[o]=r);return s}function Ri(e){var t,n,s={},a=e.modules,u=e.nodeOps;for(t=0;t<ki.length;++t)for(s[ki[t]]=[],n=0;n<a.length;++n)i(a[n][ki[t]])&&s[ki[t]].push(a[n][ki[t]]);function d(e){return new ye(u.tagName(e).toLowerCase(),{},[],void 0,e)}function h(e,t){function n(){0===--n.listeners&&l(e)}return n.listeners=t,n}function l(e){var t=u.parentNode(e);i(t)&&u.removeChild(t,e)}function f(e,t,n,r,s,c,a){if(i(e.elm)&&i(c)&&(e=c[a]=xe(e)),e.isRootInsert=!s,!p(e,t,n,r)){var d=e.data,h=e.children,l=e.tag;i(l)?(e.elm=e.ns?u.createElementNS(e.ns,l):u.createElement(l,e),C(e),y(e,h,t),i(d)&&w(e,t),g(n,e.elm,r)):o(e.isComment)?(e.elm=u.createComment(e.text),g(n,e.elm,r)):(e.elm=u.createTextNode(e.text),g(n,e.elm,r))}}function p(e,t,n,r){var s=e.data;if(i(s)){var c=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return m(e,t),g(n,e.elm,r),o(c)&&_(e,t,n,r),!0}}function m(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(w(e,t),C(e)):(Si(e),t.push(e))}function _(e,t,n,r){var o,c=e;while(c.componentInstance)if(c=c.componentInstance._vnode,i(o=c.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Oi,c);t.push(c);break}g(n,e.elm,r)}function g(e,t,n){i(e)&&(i(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function y(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r)}else c(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function b(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function w(e,n){for(var r=0;r<s.create.length;++r)s.create[r](Oi,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(Oi,e),i(t.insert)&&n.push(e))}function C(e){var t;if(i(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)i(t=n.context)&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}i(t=Tn)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function x(e,t,n,r,i,o){for(;r<=i;++r)f(n[r],o,e,t,!1,n,r)}function E(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)E(e.children[n])}function S(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(O(r),E(r)):l(r.elm))}}function O(e,t){if(i(t)||i(e.data)){var n,r=s.remove.length+1;for(i(t)?t.listeners+=r:t=h(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&O(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else l(e.elm)}function k(e,t,n,o,s){var c,a,d,h,l=0,p=0,m=t.length-1,v=t[0],_=t[m],g=n.length-1,y=n[0],b=n[g],w=!s;while(l<=m&&p<=g)r(v)?v=t[++l]:r(_)?_=t[--m]:Ii(v,y)?(A(v,y,o,n,p),v=t[++l],y=n[++p]):Ii(_,b)?(A(_,b,o,n,g),_=t[--m],b=n[--g]):Ii(v,b)?(A(v,b,o,n,g),w&&u.insertBefore(e,v.elm,u.nextSibling(_.elm)),v=t[++l],b=n[--g]):Ii(_,y)?(A(_,y,o,n,p),w&&u.insertBefore(e,_.elm,v.elm),_=t[--m],y=n[++p]):(r(c)&&(c=Ti(t,l,m)),a=i(y.key)?c[y.key]:I(y,t,l,m),r(a)?f(y,o,e,v.elm,!1,n,p):(d=t[a],Ii(d,y)?(A(d,y,o,n,p),t[a]=void 0,w&&u.insertBefore(e,d.elm,v.elm)):f(y,o,e,v.elm,!1,n,p)),y=n[++p]);l>m?(h=r(n[g+1])?null:n[g+1].elm,x(e,h,n,p,g,o)):p>g&&S(t,l,m)}function I(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(i(s)&&Ii(e,s))return o}}function A(e,t,n,c,a,d){if(e!==t){i(t.elm)&&i(c)&&(t=c[a]=xe(t));var h=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?j(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var l,f=t.data;i(f)&&i(l=f.hook)&&i(l=l.prepatch)&&l(e,t);var p=e.children,m=t.children;if(i(f)&&b(t)){for(l=0;l<s.update.length;++l)s.update[l](e,t);i(l=f.hook)&&i(l=l.update)&&l(e,t)}r(t.text)?i(p)&&i(m)?p!==m&&k(h,p,m,n,d):i(m)?(i(e.text)&&u.setTextContent(h,""),x(h,null,m,0,m.length-1,n)):i(p)?S(p,0,p.length-1):i(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),i(f)&&i(l=f.hook)&&i(l=l.postpatch)&&l(e,t)}}}function T(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var R=v("attrs,class,staticClass,staticStyle,key");function j(e,t,n,r){var s,c=t.tag,a=t.data,u=t.children;if(r=r||a&&a.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(a)&&(i(s=a.hook)&&i(s=s.init)&&s(t,!0),i(s=t.componentInstance)))return m(t,n),!0;if(i(c)){if(i(u))if(e.hasChildNodes())if(i(s=a)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var d=!0,h=e.firstChild,l=0;l<u.length;l++){if(!h||!j(h,u[l],n,r)){d=!1;break}h=h.nextSibling}if(!d||h)return!1}else y(t,u,n);if(i(a)){var f=!1;for(var p in a)if(!R(p)){f=!0,w(t,n);break}!f&&a["class"]&&vt(a["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,c){if(!r(t)){var a=!1,h=[];if(r(e))a=!0,f(t,h);else{var l=i(e.nodeType);if(!l&&Ii(e,t))A(e,t,h,null,null,c);else{if(l){if(1===e.nodeType&&e.hasAttribute($)&&(e.removeAttribute($),n=!0),o(n)&&j(e,t,h))return T(t,h,!0),e;e=d(e)}var p=e.elm,m=u.parentNode(p);if(f(t,h,p._leaveCb?null:m,u.nextSibling(p)),i(t.parent)){var v=t.parent,_=b(t);while(v){for(var g=0;g<s.destroy.length;++g)s.destroy[g](v);if(v.elm=t.elm,_){for(var y=0;y<s.create.length;++y)s.create[y](Oi,v);var w=v.data.hook.insert;if(w.merged)for(var C=1;C<w.fns.length;C++)w.fns[C]()}else Si(v);v=v.parent}}i(m)?S([e],0,0):i(e.tag)&&E(e)}}return T(t,h,a),t.elm}i(e)&&E(e)}}var ji={create:Li,update:Li,destroy:function(e){Li(e,Oi)}};function Li(e,t){(e.data.directives||t.data.directives)&&Mi(e,t)}function Mi(e,t){var n,r,i,o=e===Oi,s=t===Oi,c=qi(e.data.directives,e.context),a=qi(t.data.directives,t.context),u=[],d=[];for(n in a)r=c[n],i=a[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Ni(i,"update",t,e),i.def&&i.def.componentUpdated&&d.push(i)):(Ni(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var h=function(){for(var n=0;n<u.length;n++)Ni(u[n],"inserted",t,e)};o?wt(t,"insert",h):h()}if(d.length&&wt(t,"postpatch",(function(){for(var n=0;n<d.length;n++)Ni(d[n],"componentUpdated",t,e)})),!o)for(n in c)a[n]||Ni(c[n],"unbind",e,e,s)}var Pi=Object.create(null);function qi(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Pi),i[Fi(r)]=r,r.def=Ge(t.$options,"directives",r.name,!0);return i}function Fi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Ni(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(xs){tt(xs,n.context,"directive "+e.name+" "+t+" hook")}}var $i=[Ei,ji];function Ui(e,t){var n=t.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var o,s,c,a=t.elm,u=e.data.attrs||{},d=t.data.attrs||{};for(o in i(d.__ob__)&&(d=t.data.attrs=R({},d)),d)s=d[o],c=u[o],c!==s&&Di(a,o,s);for(o in(ee||ne)&&d.value!==u.value&&Di(a,"value",d.value),u)r(d[o])&&(Kr(o)?a.removeAttributeNS(Yr,Vr(o)):Dr(o)||a.removeAttribute(o))}}function Di(e,t,n){e.tagName.indexOf("-")>-1?Bi(e,t,n):zr(t)?Wr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Dr(t)?e.setAttribute(t,Hr(t,n)):Kr(t)?Wr(n)?e.removeAttributeNS(Yr,Vr(t)):e.setAttributeNS(Yr,t,n):Bi(e,t,n)}function Bi(e,t,n){if(Wr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Hi={create:Ui,update:Ui};function zi(e,t){var n=t.elm,o=t.data,s=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var c=Gr(t),a=n._transitionClasses;i(a)&&(c=Xr(c,Zr(a))),c!==n._prevClass&&(n.setAttribute("class",c),n._prevClass=c)}}var Yi,Ki={create:zi,update:zi},Vi="__r",Wi="__c";function Gi(e){if(i(e[Vi])){var t=ee?"change":"input";e[t]=[].concat(e[Vi],e[t]||[]),delete e[Vi]}i(e[Wi])&&(e.change=[].concat(e[Wi],e.change||[]),delete e[Wi])}function Ji(e,t,n){var r=Yi;return function i(){var o=t.apply(null,arguments);null!==o&&Zi(e,i,n,r)}}var Qi=st&&!(ie&&Number(ie[1])<=53);function Xi(e,t,n,r){if(Qi){var i=Vn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Yi.addEventListener(e,t,se?{capture:n,passive:r}:n)}function Zi(e,t,n,r){(r||Yi).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Yi=t.elm,Gi(n),bt(n,i,Xi,Zi,Ji,t.context),Yi=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,s=t.elm,c=e.data.domProps||{},a=t.data.domProps||{};for(n in i(a.__ob__)&&(a=t.data.domProps=R({},a)),c)n in a||(s[n]="");for(n in a){if(o=a[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===c[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var u=r(o)?"":String(o);io(s,u)&&(s.value=u)}else if("innerHTML"===n&&ii(s.tagName)&&r(s.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var d=to.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(d.firstChild)s.appendChild(d.firstChild)}else if(o!==c[n])try{s[n]=o}catch(xs){}}}}function io(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||so(e,t))}function oo(e,t){var n=!0;try{n=document.activeElement!==e}catch(xs){}return n&&e.value!==t}function so(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var co={create:ro,update:ro},ao=w((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function uo(e){var t=ho(e.style);return e.staticStyle?R(e.staticStyle,t):t}function ho(e){return Array.isArray(e)?j(e):"string"===typeof e?ao(e):e}function lo(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=uo(i.data))&&R(r,n)}(n=uo(e.data))&&R(r,n);var o=e;while(o=o.parent)o.data&&(n=uo(o.data))&&R(r,n);return r}var fo,po=/^--/,mo=/\s*!important$/,vo=function(e,t,n){if(po.test(t))e.style.setProperty(t,n);else if(mo.test(n))e.style.setProperty(O(t),n.replace(mo,""),"important");else{var r=go(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},_o=["Webkit","Moz","ms"],go=w((function(e){if(fo=fo||document.createElement("div").style,e=x(e),"filter"!==e&&e in fo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<_o.length;n++){var r=_o[n]+t;if(r in fo)return r}}));function yo(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,c,a=t.elm,u=o.staticStyle,d=o.normalizedStyle||o.style||{},h=u||d,l=ho(t.data.style)||{};t.data.normalizedStyle=i(l.__ob__)?R({},l):l;var f=lo(t,!0);for(c in h)r(f[c])&&vo(a,c,"");for(c in f)s=f[c],s!==h[c]&&vo(a,c,null==s?"":s)}}var bo={create:yo,update:yo},wo=/\s+/;function Co(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function xo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Eo(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&R(t,So(e.name||"v")),R(t,e),t}return"string"===typeof e?So(e):void 0}}var So=w((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Oo=J&&!te,ko="transition",Io="animation",Ao="transition",To="transitionend",Ro="animation",jo="animationend";Oo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ao="WebkitTransition",To="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ro="WebkitAnimation",jo="webkitAnimationEnd"));var Lo=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Mo(e){Lo((function(){Lo(e)}))}function Po(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Co(e,t))}function qo(e,t){e._transitionClasses&&g(e._transitionClasses,t),xo(e,t)}function Fo(e,t,n){var r=$o(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var c=i===ko?To:jo,a=0,u=function(){e.removeEventListener(c,d),n()},d=function(t){t.target===e&&++a>=s&&u()};setTimeout((function(){a<s&&u()}),o+1),e.addEventListener(c,d)}var No=/\b(transform|all)(,|$)/;function $o(e,t){var n,r=window.getComputedStyle(e),i=(r[Ao+"Delay"]||"").split(", "),o=(r[Ao+"Duration"]||"").split(", "),s=Uo(i,o),c=(r[Ro+"Delay"]||"").split(", "),a=(r[Ro+"Duration"]||"").split(", "),u=Uo(c,a),d=0,h=0;t===ko?s>0&&(n=ko,d=s,h=o.length):t===Io?u>0&&(n=Io,d=u,h=a.length):(d=Math.max(s,u),n=d>0?s>u?ko:Io:null,h=n?n===ko?o.length:a.length:0);var l=n===ko&&No.test(r[Ao+"Property"]);return{type:n,timeout:d,propCount:h,hasTransform:l}}function Uo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Do(t)+Do(e[n])})))}function Do(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Bo(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Eo(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var s=o.css,c=o.type,u=o.enterClass,d=o.enterToClass,h=o.enterActiveClass,l=o.appearClass,f=o.appearToClass,p=o.appearActiveClass,v=o.beforeEnter,_=o.enter,g=o.afterEnter,y=o.enterCancelled,b=o.beforeAppear,w=o.appear,C=o.afterAppear,x=o.appearCancelled,E=o.duration,S=Tn,O=Tn.$vnode;while(O&&O.parent)S=O.context,O=O.parent;var k=!S._isMounted||!e.isRootInsert;if(!k||w||""===w){var I=k&&l?l:u,A=k&&p?p:h,T=k&&f?f:d,R=k&&b||v,j=k&&"function"===typeof w?w:_,L=k&&C||g,M=k&&x||y,P=m(a(E)?E.enter:E);0;var q=!1!==s&&!te,F=Yo(j),$=n._enterCb=N((function(){q&&(qo(n,T),qo(n,A)),$.cancelled?(q&&qo(n,I),M&&M(n)):L&&L(n),n._enterCb=null}));e.data.show||wt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),j&&j(n,$)})),R&&R(n),q&&(Po(n,I),Po(n,A),Mo((function(){qo(n,I),$.cancelled||(Po(n,T),F||(zo(P)?setTimeout($,P):Fo(n,c,$)))}))),e.data.show&&(t&&t(),j&&j(n,$)),q||F||$()}}}function Ho(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Eo(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var s=o.css,c=o.type,u=o.leaveClass,d=o.leaveToClass,h=o.leaveActiveClass,l=o.beforeLeave,f=o.leave,p=o.afterLeave,v=o.leaveCancelled,_=o.delayLeave,g=o.duration,y=!1!==s&&!te,b=Yo(f),w=m(a(g)?g.leave:g);0;var C=n._leaveCb=N((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(qo(n,d),qo(n,h)),C.cancelled?(y&&qo(n,u),v&&v(n)):(t(),p&&p(n)),n._leaveCb=null}));_?_(x):x()}function x(){C.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),l&&l(n),y&&(Po(n,u),Po(n,h),Mo((function(){qo(n,u),C.cancelled||(Po(n,d),b||(zo(w)?setTimeout(C,w):Fo(n,c,C)))}))),f&&f(n,C),y||b||C())}}function zo(e){return"number"===typeof e&&!isNaN(e)}function Yo(e){if(r(e))return!1;var t=e.fns;return i(t)?Yo(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Ko(e,t){!0!==t.data.show&&Bo(t)}var Vo=J?{create:Ko,activate:Ko,remove:function(e,t){!0!==e.data.show?Ho(e,t):t()}}:{},Wo=[Hi,Ki,no,co,bo,Vo],Go=Wo.concat($i),Jo=Ri({nodeOps:xi,modules:Go});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&is(e,"input")}));var Qo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?wt(n,"postpatch",(function(){Qo.componentUpdated(e,t,n)})):Xo(e,t,n.context),e._vOptions=[].map.call(e.options,ts)):("textarea"===n.tag||ui(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ns),e.addEventListener("compositionend",rs),e.addEventListener("change",rs),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Xo(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ts);if(i.some((function(e,t){return!q(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return es(e,i)})):t.value!==t.oldValue&&es(t.value,i);o&&is(e,"change")}}}};function Xo(e,t,n){Zo(e,t,n),(ee||ne)&&setTimeout((function(){Zo(e,t,n)}),0)}function Zo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,c=0,a=e.options.length;c<a;c++)if(s=e.options[c],i)o=F(r,ts(s))>-1,s.selected!==o&&(s.selected=o);else if(q(ts(s),r))return void(e.selectedIndex!==c&&(e.selectedIndex=c));i||(e.selectedIndex=-1)}}function es(e,t){return t.every((function(t){return!q(t,e)}))}function ts(e){return"_value"in e?e._value:e.value}function ns(e){e.target.composing=!0}function rs(e){e.target.composing&&(e.target.composing=!1,is(e.target,"input"))}function is(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function os(e){return!e.componentInstance||e.data&&e.data.transition?e:os(e.componentInstance._vnode)}var ss={bind:function(e,t,n){var r=t.value;n=os(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Bo(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Bo(n,(function(){e.style.display=e.__vOriginalDisplay})):Ho(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},cs={model:Qo,show:ss},as={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function us(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?us(xn(t.children)):e}function ds(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[x(o)]=i[o];return t}function hs(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function ls(e){while(e=e.parent)if(e.data.transition)return!0}function fs(e,t){return t.key===e.key&&t.tag===e.tag}var ps=function(e){return e.tag||Cn(e)},ms=function(e){return"show"===e.name},vs={name:"transition",props:as,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ps),n.length)){0;var r=this.mode;0;var i=n[0];if(ls(this.$vnode))return i;var o=us(i);if(!o)return i;if(this._leaving)return hs(e,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:c(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=ds(this),u=this._vnode,d=us(u);if(o.data.directives&&o.data.directives.some(ms)&&(o.data.show=!0),d&&d.data&&!fs(o,d)&&!Cn(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var h=d.data.transition=R({},a);if("out-in"===r)return this._leaving=!0,wt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),hs(e,i);if("in-out"===r){if(Cn(o))return u;var l,f=function(){l()};wt(a,"afterEnter",f),wt(a,"enterCancelled",f),wt(h,"delayLeave",(function(e){l=e}))}}return i}}},_s=R({tag:String,moveClass:String},as);delete _s.mode;var gs={props:_s,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Rn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=ds(this),c=0;c<i.length;c++){var a=i[c];if(a.tag)if(null!=a.key&&0!==String(a.key).indexOf("__vlist"))o.push(a),n[a.key]=a,(a.data||(a.data={})).transition=s;else;}if(r){for(var u=[],d=[],h=0;h<r.length;h++){var l=r[h];l.data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?u.push(l):d.push(l)}this.kept=e(t,null,u),this.removed=d}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ys),e.forEach(bs),e.forEach(ws),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Po(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(To,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(To,e),n._moveCb=null,qo(n,t))})}})))},methods:{hasMove:function(e,t){if(!Oo)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){xo(n,e)})),Co(n,t),n.style.display="none",this.$el.appendChild(n);var r=$o(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ys(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function bs(e){e.data.newPos=e.elm.getBoundingClientRect()}function ws(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Cs={Transition:vs,TransitionGroup:gs};xr.config.mustUseProp=Ur,xr.config.isReservedTag=oi,xr.config.isReservedAttr=Nr,xr.config.getTagNamespace=si,xr.config.isUnknownElement=ai,R(xr.options.directives,cs),R(xr.options.components,Cs),xr.prototype.__patch__=J?Jo:L,xr.prototype.$mount=function(e,t){return e=e&&J?di(e):void 0,Mn(this,e,t)},J&&setTimeout((function(){B.devtools&&ue&&ue.emit("init",xr)}),0),t["a"]=xr}).call(this,n("c8ba"))},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),c=n("d039"),a=n("0366"),u=n("1be4"),d=n("cc12"),h=n("1cdc"),l=n("605d"),f=s.location,p=s.setImmediate,m=s.clearImmediate,v=s.process,_=s.MessageChannel,g=s.Dispatch,y=0,b={},w="onreadystatechange",C=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},x=function(e){return function(){C(e)}},E=function(e){C(e.data)},S=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},m=function(e){delete b[e]},l?r=function(e){v.nextTick(x(e))}:g&&g.now?r=function(e){g.now(x(e))}:_&&!h?(i=new _,o=i.port2,i.port1.onmessage=E,r=a(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&f&&"file:"!==f.protocol&&!c(S)?(r=S,s.addEventListener("message",E,!1)):r=w in d("script")?function(e){u.appendChild(d("script"))[w]=function(){u.removeChild(this),C(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:p,clear:m}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),c=o.process,a=c&&c.versions,u=a&&a.v8;u?(r=u.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2f9e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("a2e6");t.container=r("rhea-promise:container"),t.connection=r("rhea-promise:connection"),t.session=r("rhea-promise:session"),t.sender=r("rhea-promise:sender"),t.receiver=r("rhea-promise:receiver"),t.error=r("rhea-promise:error"),t.eventHandler=r("rhea-promise:eventhandler"),t.contextTranslator=r("rhea-promise:translate")},3020:function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,c=Number(new Date),a=c-(n||c);o.diff=a,o.prev=n,o.curr=c,n=c,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var i=r.formatters[n];if("function"===typeof i){var s=t[u];e=i.call(o,s),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var d=o.log||r.log;d.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function c(){r.enable("")}function a(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=u,r.disable=c,r.enable=s,r.enabled=a,r.humanize=n("1468"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},3022:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!C(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),a=r[n];n<o;a=r[++n])y(a)||!O(a)?s+=" "+a:s+=" "+c(a);return s},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return o};var o,s={};function c(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),h(r,e,r.depth)}function a(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function u(e,t){return e}function d(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function h(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return C(i)||(i=h(e,i,r)),i}var o=l(e,n);if(o)return o;var s=Object.keys(n),c=d(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),I(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(A(n)){var a=n.name?": "+n.name:"";return e.stylize("[Function"+a+"]","special")}if(S(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(I(n))return f(n)}var u,g="",y=!1,b=["{","}"];if(_(n)&&(y=!0,b=["[","]"]),A(n)){var w=n.name?": "+n.name:"";g=" [Function"+w+"]"}return S(n)&&(g=" "+RegExp.prototype.toString.call(n)),k(n)&&(g=" "+Date.prototype.toUTCString.call(n)),I(n)&&(g=" "+f(n)),0!==s.length||y&&0!=n.length?r<0?S(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=y?p(e,n,r,c,s):s.map((function(t){return m(e,n,r,c,t,y)})),e.seen.pop(),v(u,g,b)):b[0]+g+b[1]}function l(e,t){if(E(t))return e.stylize("undefined","undefined");if(C(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],s=0,c=t.length;s<c;++s)P(t,String(s))?o.push(m(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))})),o}function m(e,t,n,r,i,o){var s,c,a;if(a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},a.get?c=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(c=e.stylize("[Setter]","special")),P(r,i)||(s="["+i+"]"),c||(e.seen.indexOf(a.value)<0?(c=y(n)?h(e,a.value,null):h(e,a.value,n-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n"))):c=e.stylize("[Circular]","special")),E(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function v(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function _(e){return Array.isArray(e)}function g(e){return"boolean"===typeof e}function y(e){return null===e}function b(e){return null==e}function w(e){return"number"===typeof e}function C(e){return"string"===typeof e}function x(e){return"symbol"===typeof e}function E(e){return void 0===e}function S(e){return O(e)&&"[object RegExp]"===R(e)}function O(e){return"object"===typeof e&&null!==e}function k(e){return O(e)&&"[object Date]"===R(e)}function I(e){return O(e)&&("[object Error]"===R(e)||e instanceof Error)}function A(e){return"function"===typeof e}function T(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function R(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(E(o)&&(o=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=_,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=b,t.isNumber=w,t.isString=C,t.isSymbol=x,t.isUndefined=E,t.isRegExp=S,t.isObject=O,t.isDate=k,t.isError=I,t.isFunction=A,t.isPrimitive=T,t.isBuffer=n("d60a");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n("28a0"),t._extend=function(e,t){if(!t||!O(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e};var q="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function N(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(F,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(q&&e[q]){var t=e[q];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,q,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),q&&Object.defineProperty(t,q,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=q,t.callbackify=N}).call(this,n("4362"))},"305b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("7fa7");class i extends r.Link{constructor(e,t,n){super(r.LinkType.sender,e,t,n)}setDrained(e){this._link.set_drained(e)}sendable(){return this._link.sendable()}send(e,t,n){return this._link.send(e,t,n)}}t.Sender=i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"34eb":function(e,t,n){(function(r){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)}function s(...e){return"object"===typeof console&&console.log&&console.log(...e)}function c(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function a(){let e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG),e}function u(){try{return localStorage}catch(e){}}t.log=s,t.formatArgs=o,t.save=c,t.load=a,t.useColors=i,t.storage=u(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("dc90")(t);const{formatters:d}=e.exports;d.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"371b":function(e,t,n){"use strict";(function(t){var r=n("1980"),i=n("10fc"),o=n("6203"),s=n("cadb"),c=n("07aa"),a=n(0),u=n(1),d=n("faa1").EventEmitter,h=function(e){this.options=e?Object.create(e):{},this.options.id||(this.options.id=s.generate_uuid()),this.id=this.options.id,this.sasl_server_mechanisms=o.server_mechanisms()};h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.prototype.dispatch=function(e){return i.events("[%s] Container got event: "+e,this.id),d.prototype.emit.apply(this,arguments),!!this.listeners(e).length},h.prototype.connect=function(e){return new r(e,this).connect()},h.prototype.create_connection=function(e){return new r(e,this)},h.prototype.listen=function(e){var n,i=this;if(void 0===e.transport||"tcp"===e.transport)n=a.createServer(),n.on("connection",(function(t){new r(e,i).accept(t)}));else{if("tls"!==e.transport&&"ssl"!==e.transport)throw Error("Unrecognised transport: "+e.transport);n=u.createServer(e),n.on("secureConnection",(function(t){new r(e,i).accept(t)}))}return t.version.match(/v0\.10\.\d+/)?n.listen(e.port,e.host):n.listen(e),n},h.prototype.create_container=function(e){return new h(e)},h.prototype.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:t},h.prototype.generate_uuid=s.generate_uuid,h.prototype.string_to_uuid=s.string_to_uuid,h.prototype.uuid_to_string=s.uuid_to_string;var l=n("0901");h.prototype.websocket_accept=function(e,t){new r(t,this).accept(l.wrap(e))},h.prototype.websocket_connect=l.connect,h.prototype.filter=n("1abd"),h.prototype.types=n("1c90"),h.prototype.message=n("652c"),h.prototype.sasl=o,h.prototype.ReceiverEvents=c.ReceiverEvents,h.prototype.SenderEvents=c.SenderEvents,h.prototype.SessionEvents=c.SessionEvents,h.prototype.ConnectionEvents=c.ConnectionEvents,e.exports=new h}).call(this,n("4362"))},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),c=r.length,a=0;while(c>a)i.f(e,n=r[a++],t[n]);return e}},"39ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h}));var r=n("be97"),i=n.n(r);const o=i()("azure:amqp-common:cbs"),s=i()("azure:amqp-common:error"),c=i()("azure:amqp-common:datatransformer"),a=i()("azure:amqp-common:messageHeader"),u=i()("azure:amqp-common:messageProperties"),d=i()("azure:amqp-common:retry"),h=i()("azure:amqp-common:reqreslink")},"3b1f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("371b");t.types=r.types,t.message=r.message,t.filter=r.filter,t.uuid_to_string=r.uuid_to_string,t.generate_uuid=r.generate_uuid,t.string_to_uuid=r.string_to_uuid,t.ReceiverEvents=r.ReceiverEvents,t.SenderEvents=r.SenderEvents,t.ConnectionEvents=r.ConnectionEvents,t.SessionEvents=r.SessionEvents,t.Typed=r.Typed;var i=n("9411");t.EventContext=i.EventContext;var o=n("eb69");t.Container=o.Container;var s=n("ab8d");t.Connection=s.Connection;var c=n("d1bc");t.Session=c.Session;var a=n("ac86");t.Receiver=a.Receiver;var u=n("305b");t.Sender=u.Sender;var d=n("1d38");t.AmqpResponseStatusCode=d.AmqpResponseStatusCode,t.isAmqpError=d.isAmqpError,t.delay=d.delay,t.messageHeader=d.messageHeader,t.messageProperties=d.messageProperties,t.parseConnectionString=d.parseConnectionString},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3c43":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"3e29":function(e,t,n){"use strict";(function(t,r){var i=n("3e48"),o=n("8b6c"),s=n("10fc"),c=n("652c"),a=n("1c90"),u=n("cadb"),d=n("4921"),h=n("faa1").EventEmitter;function l(e,t,n){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e,this.condition=t,this.description=e,this.session=n}n("3022").inherits(l,Error);var f=function(e){this.capacity=e,this.size=0,this.head=0,this.tail=0,this.entries=[]};function p(e){var t,n,r,o,s;for(o=0;o<e.length;o++)s=e[o],void 0===t&&(t=s,n=s,r=s.id),t!==n&&!c.are_outcomes_equivalent(n.state,s.state)||n.settled!==s.settled||r!==s.id?(t.link.session.output(i.disposition({role:t.link.is_receiver(),first:t.id,last:n.id,state:t.state,settled:t.settled})),t=s,n=s,r=s.id):(n.id!==s.id&&(n=s),r++);void 0!==t&&void 0!==n&&t.link.session.output(i.disposition({role:t.link.is_receiver(),first:t.id,last:n.id,state:t.state,settled:t.settled}))}f.prototype.available=function(){return this.capacity-this.size},f.prototype.push=function(e){if(!(this.size<this.capacity))throw Error("circular buffer overflow: head="+this.head+" tail="+this.tail+" size="+this.size+" capacity="+this.capacity);this.entries[this.tail]=e,this.tail=(this.tail+1)%this.capacity,this.size++},f.prototype.pop_if=function(e){var t=0;while(this.size&&e(this.entries[this.head]))this.entries[this.head]=void 0,this.head=(this.head+1)%this.capacity,this.size--,t++;return t},f.prototype.by_id=function(e){if(this.size>0){var t=e-this.entries[this.head].id;if(t<this.size)return this.entries[(this.head+t)%this.capacity]}},f.prototype.get_head=function(){return this.size>0?this.entries[this.head]:void 0},f.prototype.get_tail=function(){return this.size>0?this.entries[(this.head+this.size-1)%this.capacity]:void 0};var m=function(e){this.deliveries=new f(2048),this.updated=[],this.pending_dispositions=[],this.next_delivery_id=0,this.next_pending_delivery=0,this.next_transfer_id=0,this.window=a.MAX_UINT,this.remote_next_transfer_id=void 0,this.remote_window=void 0,this.connection=e};m.prototype.available=function(){return this.deliveries.available()},m.prototype.compute_max_payload=function(e){return this.connection.max_frame_size?this.connection.max_frame_size-(50+e.length):void 0},m.prototype.send=function(e,t,n,r){var i=[],o=this.compute_max_payload(t);if(o&&n.length>o){var s=0;while(s<n.length){var c=Math.min(s+o,n.length);i.push(n.slice(s,c)),s=c}}else i.push(n);var a={id:this.next_delivery_id++,tag:t,link:e,data:i,format:r||0,sent:!1,settled:!1,state:void 0,remote_settled:!1,remote_state:void 0},u=this;return a.update=function(e,t){u.update(a,e,t)},this.deliveries.push(a),a},m.prototype.on_begin=function(e){this.remote_window=e.incoming_window},m.prototype.on_flow=function(e){this.remote_next_transfer_id=e.next_incoming_id,this.remote_window=e.incoming_window},m.prototype.on_disposition=function(e){for(var t=e.last?e.last:e.first,n=e.first;n<=t;n++){var r=this.deliveries.by_id(n);if(r&&!r.remote_settled){var i=!1;e.settled&&(r.remote_settled=e.settled,i=!0),e.state&&e.state!==r.remote_state&&(r.remote_state=c.unwrap_outcome(e.state),i=!0),i&&this.updated.push(r)}}},m.prototype.update=function(e,t,n){e&&(e.settled=t,void 0!==n&&(e.state=n),e.remote_settled||this.pending_dispositions.push(e),e.link.connection._register())},m.prototype.transfer_window=function(){return this.remote_window?this.remote_window-(this.next_transfer_id-this.remote_next_transfer_id):0},m.prototype.process=function(){var e;while(this.next_pending_delivery<this.next_delivery_id){if(e=this.deliveries.by_id(this.next_pending_delivery),!e){console.error("ERROR: Next pending delivery not found: "+this.next_pending_delivery);break}if(!e.link.has_credit()){s.flow("[%s] Link has no credit",this.connection.options.id);break}if(!(this.transfer_window()>=e.data.length)){s.flow("[%s] Incoming window of peer preventing sending further transfers: remote_window=%d, remote_next_transfer_id=%d, next_transfer_id=%d",this.connection.options.id,this.remote_window,this.remote_next_transfer_id,this.next_transfer_id);break}this.window-=e.data.length;for(var t=0;t<e.data.length;t++){this.next_transfer_id++;var n=t+1<e.data.length,r=i.transfer({handle:e.link.local.handle,message_format:e.format,delivery_id:e.id,delivery_tag:e.tag,settled:e.settled,more:n});e.link.session.output(r,e.data[t]),e.settled&&(e.remote_settled=!0)}e.link.credit--,e.link.delivery_count++,this.next_pending_delivery++}for(t=0;t<this.updated.length;t++)e=this.updated[t],e.remote_state&&e.remote_state.constructor.composite_type&&e.link.dispatch(e.remote_state.constructor.composite_type,e.link._context({delivery:e})),e.remote_settled&&e.link.dispatch("settled",e.link._context({delivery:e}));this.updated=[],this.pending_dispositions.length&&(p(this.pending_dispositions),this.pending_dispositions=[]),this.deliveries.pop_if((function(e){return e.settled&&e.remote_settled}))};var v=function(){this.deliveries=new f(2048),this.updated=[],this.next_transfer_id=0,this.next_delivery_id=void 0,Object.defineProperty(this,"window",{get:function(){return this.deliveries.available()}}),this.remote_next_transfer_id=void 0,this.remote_window=void 0,this.max_transfer_id=this.next_transfer_id+this.window};v.prototype.update=function(e,t,n){e&&(e.settled=t,void 0!==n&&(e.state=n),e.remote_settled||this.updated.push(e),e.link.connection._register())},v.prototype.on_transfer=function(e,n){if(this.next_transfer_id++,!n.is_remote_open())throw Error("transfer after detach");var r,i;if(void 0===this.next_delivery_id&&(this.next_delivery_id=e.performative.delivery_id),n._incomplete){if(r=n._incomplete,u.is_defined(e.performative.delivery_id)&&r.id!==e.performative.delivery_id)throw Error("frame sequence error: delivery "+r.id+" not complete, got "+e.performative.delivery_id);i=t.concat([r.data,e.payload],r.data.length+e.payload.length)}else{if(this.next_delivery_id!==e.performative.delivery_id)throw Error("frame sequence error: expected "+this.next_delivery_id+", got "+e.performative.delivery_id);r={id:e.performative.delivery_id,tag:e.performative.delivery_tag,format:e.performative.message_format,link:n,settled:!1,state:void 0,remote_settled:void 0!==e.performative.settled&&e.performative.settled,remote_state:e.performative.state};var o=this;r.update=function(e,t){var i=e;void 0===i&&(i=1!==n.local.attach.rcv_settle_mode),o.update(r,i,t)},r.accept=function(){this.update(void 0,c.accepted().described())},r.release=function(e){e?this.update(void 0,c.modified(e).described()):this.update(void 0,c.released().described())},r.reject=function(e){this.update(void 0,c.rejected({error:e}).described())},r.modified=function(e){this.update(void 0,c.modified(e).described())},this.deliveries.push(r),this.next_delivery_id++,i=e.payload}if(r.incomplete=e.performative.more,r.incomplete)n._incomplete=r,r.data=i;else{n._incomplete=void 0,n.credit>0?n.credit--:console.error("Received transfer when credit was %d",n.credit),n.delivery_count++;var s=0===r.format?{message:c.decode(i),delivery:r}:{message:i,delivery:r,format:r.format};n.dispatch("message",n._context(s))}},v.prototype.process=function(e){this.updated.length>0&&(p(this.updated),this.updated=[]),this.deliveries.pop_if((function(e){return e.settled})),this.max_transfer_id-this.next_transfer_id<this.window/2&&e._write_flow()},v.prototype.on_begin=function(e){this.remote_window=e.outgoing_window,this.remote_next_transfer_id=e.next_outgoing_id},v.prototype.on_flow=function(e){this.remote_next_transfer_id=e.next_outgoing_id,this.remote_window=e.outgoing_window},v.prototype.on_disposition=function(e){for(var t=e.last?e.last:e.first,n=e.first;n<=t;n++){var r=this.deliveries.by_id(n);r&&!r.remote_settled&&(e.state&&e.state!==r.remote_state&&(r.remote_state=c.unwrap_outcome(e.state)),e.settled&&(r.remote_settled=e.settled,r.link.dispatch("settled",r.link._context({delivery:r}))))}};var _=function(e,t){this.connection=e,this.outgoing=new m(e),this.incoming=new v,this.state=new d,this.local={channel:t,handles:{}},this.local.begin=i.begin({next_outgoing_id:this.outgoing.next_transfer_id,incoming_window:this.incoming.window,outgoing_window:this.outgoing.window}),this.local.end=i.end(),this.remote={handles:{}},this.links={},this.options={},Object.defineProperty(this,"error",{get:function(){return this.remote.end?this.remote.end.error:void 0}}),this.observers=new h};function g(e,t){for(var n in t)"properties"===n&&e.properties?g(e.properties,t.properties):e[n]=t[n]}function y(e,t,n,r){var i=Object.create(r||{});"string"===typeof t?i[n]=t:t&&g(i,t),i.name||(i.name=u.generate_uuid());var o=e(i.name,i);for(var s in{source:0,target:0})i[s]&&("string"===typeof i[s]&&(i[s]={address:i[s]}),o["set_"+s](i[s]));return o.is_sender()&&void 0===i.source&&(i.source=o.set_source({})),o.is_receiver()&&void 0===i.target&&(i.target=o.set_target({})),o.attach(),o}function b(e){e.dispatch("sendable",e._context())}function w(e){return e.is_open()&&e.sendable()}_.prototype=Object.create(h.prototype),_.prototype.constructor=_,_.prototype._disconnect=function(){for(var e in this.state.disconnected(),this.links)this.links[e]._disconnect();this.state.was_open||this.remove()},_.prototype._reconnect=function(){for(var e in this.state.reconnect(),this.outgoing=new m(this.connection),this.incoming=new v,this.remote={handles:{}},this.links)this.links[e]._reconnect()},_.prototype.dispatch=function(e){return s.events("[%s] Session got event: %s",this.connection.options.id,e),h.prototype.emit.apply(this.observers,arguments),this.listeners(e).length?(h.prototype.emit.apply(this,arguments),!0):this.connection.dispatch.apply(this.connection,arguments)},_.prototype.output=function(e,t){this.connection._write_frame(this.local.channel,e,t)},_.prototype.create_sender=function(e,t){return t||(t=this.get_option("sender_options",{})),this.create_link(e,o.Sender,t)},_.prototype.create_receiver=function(e,t){return t||(t=this.get_option("receiver_options",{})),this.create_link(e,o.Receiver,t)},_.prototype.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:this.connection.get_option(e,t)},_.prototype.attach_sender=function(e){return y(this.create_sender.bind(this),e,"target",this.get_option("sender_options",{}))},_.prototype.open_sender=_.prototype.attach_sender,_.prototype.attach_receiver=function(e){return y(this.create_receiver.bind(this),e,"source",this.get_option("receiver_options",{}))},_.prototype.open_receiver=_.prototype.attach_receiver,_.prototype.find_sender=function(e){return this.find_link(u.sender_filter(e))},_.prototype.find_receiver=function(e){return this.find_link(u.receiver_filter(e))},_.prototype.find_link=function(e){for(var t in this.links){var n=this.links[t];if(e(n))return n}},_.prototype.each_receiver=function(e,t){this.each_link(e,u.receiver_filter(t))},_.prototype.each_sender=function(e,t){this.each_link(e,u.sender_filter(t))},_.prototype.each_link=function(e,t){for(var n in this.links){var r=this.links[n];(void 0===t||t(r))&&e(r)}},_.prototype.create_link=function(e,t,n){var r=0;while(this.local.handles[r])r++;var i=new t(this,e,r,n);return this.links[e]=i,this.local.handles[r]=i,i},_.prototype.begin=function(){this.state.open()&&this.connection._register()},_.prototype.open=_.prototype.begin,_.prototype.end=function(e){e&&(this.local.end.error=e),this.state.close()&&this.connection._register()},_.prototype.close=_.prototype.end,_.prototype.is_open=function(){return this.connection.is_open()&&this.state.is_open()},_.prototype.is_remote_open=function(){return this.connection.is_remote_open()&&this.state.remote_open},_.prototype.is_itself_closed=function(){return this.state.is_closed()},_.prototype.is_closed=function(){return this.connection.is_closed()||this.is_itself_closed()},_.prototype._process=function(){do{this.state.need_open()&&this.output(this.local.begin);var e=0===this.outgoing.deliveries.available();for(var t in this.outgoing.process(),e&&this.outgoing.deliveries.available()&&this.each_sender(b,w),this.incoming.process(this),this.links)this.links[t]._process();this.state.need_close()&&this.output(this.local.end)}while(!this.state.has_settled())},_.prototype.send=function(e,t,n,r){var i=this.outgoing.send(e,t,n,r);return this.connection._register(),i},_.prototype._write_flow=function(e){var t={next_incoming_id:this.incoming.next_transfer_id,incoming_window:this.incoming.window,next_outgoing_id:this.outgoing.next_transfer_id,outgoing_window:this.outgoing.window};this.incoming.max_transfer_id=t.next_incoming_id+t.incoming_window,e&&(e._get_drain()&&(t.drain=!0),t.delivery_count=e.delivery_count,t.handle=e.local.handle,t.link_credit=e.credit),this.output(i.flow(t))},_.prototype.on_begin=function(e){if(!this.state.remote_opened())throw Error("Begin already received");this.remote.channel||(this.remote.channel=e.channel),this.remote.begin=e.performative,this.outgoing.on_begin(e.performative),this.incoming.on_begin(e.performative),this.open(),this.dispatch("session_open",this._context())},_.prototype.on_end=function(e){if(!this.state.remote_closed())throw Error("End already received");this.remote.end=e.performative;var t=this.remote.end.error;if(t){var n=this.dispatch("session_error",this._context());n=this.dispatch("session_close",this._context())||n,n||h.prototype.emit.call(this.connection.container,"error",new l(t.description,t.condition,this))}else this.dispatch("session_close",this._context());var i=this,o=this.state.mark();r.nextTick((function(){i.state.marker===o&&(i.close(),r.nextTick((function(){i.remove()})))}))},_.prototype.on_attach=function(e){var t=e.performative.name,n=this.links[t];n||(n=e.performative.role?this.create_sender(t):this.create_receiver(t)),this.remote.handles[e.performative.handle]=n,n.on_attach(e),n.remote.attach=e.performative},_.prototype.on_disposition=function(e){e.performative.role?(s.events("[%s] Received disposition for outgoing transfers",this.connection.options.id),this.outgoing.on_disposition(e.performative)):(s.events("[%s] Received disposition for incoming transfers",this.connection.options.id),this.incoming.on_disposition(e.performative)),this.connection._register()},_.prototype.on_flow=function(e){this.outgoing.on_flow(e.performative),this.incoming.on_flow(e.performative),u.is_defined(e.performative.handle)&&this._get_link(e).on_flow(e),this.connection._register()},_.prototype._context=function(e){var t=e||{};return t.session=this,this.connection._context(t)},_.prototype._get_link=function(e){var t=e.performative.handle,n=this.remote.handles[t];if(!n)throw Error("Invalid handle "+t);return n},_.prototype.on_detach=function(e){this._get_link(e).on_detach(e)},_.prototype.remove_link=function(e){delete this.remote.handles[e.remote.handle],delete this.local.handles[e.local.handle],delete this.links[e.name]},_.prototype.remove=function(){this.connection.remove_session(this)},_.prototype.on_transfer=function(e){this.incoming.on_transfer(e,this._get_link(e))},e.exports=_}).call(this,n("b639").Buffer,n("4362"))},"3e48":function(e,t,n){"use strict";var r=n("1c90"),i=n("a991"),o={},s={};function c(e,t){var n=r.define_composite(t);o[t.name]=n.create,s[Number(n.descriptor.numeric).toString(10)]=n,s[n.descriptor.symbolic]=n}o.read_header=function(e){var t=4,n={},r=e.toString("ascii",0,t);if("AMQP"!==r)throw new i.ProtocolError("Invalid protocol header for AMQP "+r);if(n.protocol_id=e.readUInt8(t++),n.major=e.readUInt8(t++),n.minor=e.readUInt8(t++),n.revision=e.readUInt8(t++),0===n.protocol_id&&0===n.major&&9===n.minor&&1===n.revision)throw new i.ProtocolError("Unsupported AMQP version: 0-9-1");if(1===n.protocol_id&&1===n.major&&0===n.minor&&10===n.revision)throw new i.ProtocolError("Unsupported AMQP version: 0-10");if(1!==n.major||0!==n.minor)throw new i.ProtocolError("Unsupported AMQP version: "+JSON.stringify(n));return n},o.write_header=function(e,t){var n=4;return e.write("AMQP",0,n,"ascii"),e.writeUInt8(t.protocol_id,n++),e.writeUInt8(t.major,n++),e.writeUInt8(t.minor,n++),e.writeUInt8(t.revision,n++),8},o.TYPE_AMQP=0,o.TYPE_SASL=1,o.read_frame=function(e){var t=new r.Reader(e),n={};if(n.size=t.read_uint(4),t.remaining<n.size)return null;var c=t.read_uint(1);if(c<2)throw new i.ProtocolError("Invalid data offset, must be at least 2 was "+c);if(n.type=t.read_uint(1),n.type===o.TYPE_AMQP)n.channel=t.read_uint(2);else{if(n.type!==o.TYPE_SASL)throw new i.ProtocolError("Unknown frame type "+n.type);t.skip(2),n.channel=0}if(c>1&&t.skip(4*c-8),t.remaining()){n.performative=t.read();var a=s[n.performative.descriptor.value];a&&(n.performative=new a(n.performative.value)),t.remaining()&&(n.payload=t.read_bytes(t.remaining()))}return n},o.write_frame=function(e){var t=new r.Writer;if(t.skip(4),t.write_uint(2,1),t.write_uint(e.type,1),e.type===o.TYPE_AMQP)t.write_uint(e.channel,2);else{if(e.type!==o.TYPE_SASL)throw new i.ProtocolError("Unknown frame type "+e.type);t.write_uint(0,2)}e.performative&&(t.write(e.performative),e.payload&&t.write_bytes(e.payload));var n=t.toBuffer();return n.writeUInt32BE(n.length,0),n},o.amqp_frame=function(e,t,n){return{channel:e||0,type:o.TYPE_AMQP,performative:t,payload:n}},o.sasl_frame=function(e){return{channel:0,type:o.TYPE_SASL,performative:e}};var a={name:"open",code:16,fields:[{name:"container_id",type:"string",mandatory:!0},{name:"hostname",type:"string"},{name:"max_frame_size",type:"uint",default_value:4294967295},{name:"channel_max",type:"ushort",default_value:65535},{name:"idle_time_out",type:"uint"},{name:"outgoing_locales",type:"symbol",multiple:!0},{name:"incoming_locales",type:"symbol",multiple:!0},{name:"offered_capabilities",type:"symbol",multiple:!0},{name:"desired_capabilities",type:"symbol",multiple:!0},{name:"properties",type:"symbolic_map"}]},u={name:"begin",code:17,fields:[{name:"remote_channel",type:"ushort"},{name:"next_outgoing_id",type:"uint",mandatory:!0},{name:"incoming_window",type:"uint",mandatory:!0},{name:"outgoing_window",type:"uint",mandatory:!0},{name:"handle_max",type:"uint",default_value:"4294967295"},{name:"offered_capabilities",type:"symbol",multiple:!0},{name:"desired_capabilities",type:"symbol",multiple:!0},{name:"properties",type:"symbolic_map"}]},d={name:"attach",code:18,fields:[{name:"name",type:"string",mandatory:!0},{name:"handle",type:"uint",mandatory:!0},{name:"role",type:"boolean",mandatory:!0},{name:"snd_settle_mode",type:"ubyte",default_value:2},{name:"rcv_settle_mode",type:"ubyte",default_value:0},{name:"source",type:"*"},{name:"target",type:"*"},{name:"unsettled",type:"map"},{name:"incomplete_unsettled",type:"boolean",default_value:!1},{name:"initial_delivery_count",type:"uint"},{name:"max_message_size",type:"ulong"},{name:"offered_capabilities",type:"symbol",multiple:!0},{name:"desired_capabilities",type:"symbol",multiple:!0},{name:"properties",type:"symbolic_map"}]},h={name:"flow",code:19,fields:[{name:"next_incoming_id",type:"uint"},{name:"incoming_window",type:"uint",mandatory:!0},{name:"next_outgoing_id",type:"uint",mandatory:!0},{name:"outgoing_window",type:"uint",mandatory:!0},{name:"handle",type:"uint"},{name:"delivery_count",type:"uint"},{name:"link_credit",type:"uint"},{name:"available",type:"uint"},{name:"drain",type:"boolean",default_value:!1},{name:"echo",type:"boolean",default_value:!1},{name:"properties",type:"symbolic_map"}]},l={name:"transfer",code:20,fields:[{name:"handle",type:"uint",mandatory:!0},{name:"delivery_id",type:"uint"},{name:"delivery_tag",type:"binary"},{name:"message_format",type:"uint"},{name:"settled",type:"boolean"},{name:"more",type:"boolean",default_value:!1},{name:"rcv_settle_mode",type:"ubyte"},{name:"state",type:"delivery_state"},{name:"resume",type:"boolean",default_value:!1},{name:"aborted",type:"boolean",default_value:!1},{name:"batchable",type:"boolean",default_value:!1}]},f={name:"disposition",code:21,fields:[{name:"role",type:"boolean",mandatory:!0},{name:"first",type:"uint",mandatory:!0},{name:"last",type:"uint"},{name:"settled",type:"boolean",default_value:!1},{name:"state",type:"*"},{name:"batchable",type:"boolean",default_value:!1}]},p={name:"detach",code:22,fields:[{name:"handle",type:"uint",mandatory:!0},{name:"closed",type:"boolean",default_value:!1},{name:"error",type:"error"}]},m={name:"end",code:23,fields:[{name:"error",type:"error"}]},v={name:"close",code:24,fields:[{name:"error",type:"error"}]};c(o.TYPE_AMQP,a),c(o.TYPE_AMQP,u),c(o.TYPE_AMQP,d),c(o.TYPE_AMQP,h),c(o.TYPE_AMQP,l),c(o.TYPE_AMQP,f),c(o.TYPE_AMQP,p),c(o.TYPE_AMQP,m),c(o.TYPE_AMQP,v);var _={name:"sasl_mechanisms",code:64,fields:[{name:"sasl_server_mechanisms",type:"symbol",multiple:!0,mandatory:!0}]},g={name:"sasl_init",code:65,fields:[{name:"mechanism",type:"symbol",mandatory:!0},{name:"initial_response",type:"binary"},{name:"hostname",type:"string"}]},y={name:"sasl_challenge",code:66,fields:[{name:"challenge",type:"binary",mandatory:!0}]},b={name:"sasl_response",code:67,fields:[{name:"response",type:"binary",mandatory:!0}]},w={name:"sasl_outcome",code:68,fields:[{name:"code",type:"ubyte",mandatory:!0},{name:"additional_data",type:"binary"}]};c(o.TYPE_SASL,_),c(o.TYPE_SASL,g),c(o.TYPE_SASL,y),c(o.TYPE_SASL,b),c(o.TYPE_SASL,w),e.exports=o},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),c=Array.prototype;void 0==c[s]&&o.f(c,s,{configurable:!0,value:i(null)}),e.exports=function(e){c[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4921:function(e,t,n){"use strict";var r=function(){this.init()};r.prototype.init=function(){this.local_open=!1,this.remote_open=!1,this.open_requests=0,this.close_requests=0,this.initialised=!1,this.marker=void 0},r.prototype.mark=function(e){return this.marker=e||Date.now(),this.marker},r.prototype.open=function(){return this.marker=void 0,this.initialised=!0,!this.local_open&&(this.local_open=!0,this.open_requests++,!0)},r.prototype.close=function(){return this.marker=void 0,!!this.local_open&&(this.local_open=!1,this.close_requests++,!0)},r.prototype.disconnected=function(){var e=this.initialised;this.was_open=this.local_open,this.init(),this.initialised=e},r.prototype.reconnect=function(){this.was_open&&(this.open(),this.was_open=void 0)},r.prototype.remote_opened=function(){return!this.remote_open&&(this.remote_open=!0,!0)},r.prototype.remote_closed=function(){return!!this.remote_open&&(this.remote_open=!1,!0)},r.prototype.is_open=function(){return this.local_open&&this.remote_open},r.prototype.is_closed=function(){return this.initialised&&!(this.local_open||this.was_open)&&!this.remote_open},r.prototype.has_settled=function(){return 0===this.open_requests&&0===this.close_requests},r.prototype.need_open=function(){return this.open_requests>0&&(this.open_requests--,!0)},r.prototype.need_close=function(){return this.close_requests>0&&(this.close_requests--,!0)},e.exports=r},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"498a":function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4c8d":function(e,t,n){"use strict";n.r(t),n.d(t,"associatedLinkName",(function(){return r})),n.d(t,"partitionKey",(function(){return i})),n.d(t,"sequenceNumber",(function(){return o})),n.d(t,"enqueueSequenceNumber",(function(){return s})),n.d(t,"enqueuedTime",(function(){return c})),n.d(t,"scheduledEnqueueTime",(function(){return a})),n.d(t,"offset",(function(){return u})),n.d(t,"lockedUntil",(function(){return d})),n.d(t,"partitionIdName",(function(){return h})),n.d(t,"publisher",(function(){return l})),n.d(t,"viaPartitionKey",(function(){return f})),n.d(t,"deadLetterSource",(function(){return p})),n.d(t,"enqueuedTimeAnnotation",(function(){return m})),n.d(t,"offsetAnnotation",(function(){return v})),n.d(t,"sequenceNumberAnnotation",(function(){return _})),n.d(t,"guidSize",(function(){return g})),n.d(t,"message",(function(){return y})),n.d(t,"error",(function(){return b})),n.d(t,"statusCode",(function(){return w})),n.d(t,"statusDescription",(function(){return C})),n.d(t,"errorCondition",(function(){return x})),n.d(t,"management",(function(){return E})),n.d(t,"partition",(function(){return S})),n.d(t,"partitionId",(function(){return O})),n.d(t,"readOperation",(function(){return k})),n.d(t,"TLS",(function(){return I})),n.d(t,"establishConnection",(function(){return A})),n.d(t,"defaultConsumerGroup",(function(){return T})),n.d(t,"eventHub",(function(){return R})),n.d(t,"cbsEndpoint",(function(){return j})),n.d(t,"cbsReplyTo",(function(){return L})),n.d(t,"operationPutToken",(function(){return M})),n.d(t,"aadEventHubsAudience",(function(){return P})),n.d(t,"aadServiceBusAudience",(function(){return q})),n.d(t,"maxUserAgentLength",(function(){return F})),n.d(t,"vendorString",(function(){return N})),n.d(t,"attachEpoch",(function(){return $})),n.d(t,"receiverIdentifierName",(function(){return U})),n.d(t,"enableReceiverRuntimeMetricName",(function(){return D})),n.d(t,"timespan",(function(){return B})),n.d(t,"uri",(function(){return H})),n.d(t,"dateTimeOffset",(function(){return z})),n.d(t,"sessionFilterName",(function(){return Y})),n.d(t,"receiverError",(function(){return K})),n.d(t,"senderError",(function(){return V})),n.d(t,"sessionError",(function(){return W})),n.d(t,"connectionError",(function(){return G})),n.d(t,"defaultOperationTimeoutInSeconds",(function(){return J})),n.d(t,"defaultConnectionIdleTimeoutInMs",(function(){return Q})),n.d(t,"managementRequestKey",(function(){return X})),n.d(t,"negotiateCbsKey",(function(){return Z})),n.d(t,"negotiateClaim",(function(){return ee})),n.d(t,"ensureContainerAndBlob",(function(){return te})),n.d(t,"defaultPrefetchCount",(function(){return ne})),n.d(t,"reconnectLimit",(function(){return re})),n.d(t,"maxMessageIdLength",(function(){return ie})),n.d(t,"maxPartitionKeyLength",(function(){return oe})),n.d(t,"maxSessionIdLength",(function(){return se})),n.d(t,"pathDelimiter",(function(){return ce})),n.d(t,"ruleNameMaximumLength",(function(){return ae})),n.d(t,"maximumSqlFilterStatementLength",(function(){return ue})),n.d(t,"maximumSqlRuleActionStatementLength",(function(){return de})),n.d(t,"maxDeadLetterReasonLength",(function(){return he})),n.d(t,"maxDurationValue",(function(){return le})),n.d(t,"minDurationValue",(function(){return fe})),n.d(t,"maxAbsoluteExpiryTime",(function(){return pe})),n.d(t,"aadTokenValidityMarginSeconds",(function(){return me})),n.d(t,"connectionReconnectDelay",(function(){return ve})),n.d(t,"defaultRetryAttempts",(function(){return _e})),n.d(t,"defaultConnectionRetryAttempts",(function(){return ge})),n.d(t,"defaultDelayBetweenOperationRetriesInSeconds",(function(){return ye})),n.d(t,"defaultDelayBetweenRetriesInSeconds",(function(){return be})),n.d(t,"receiverSettleMode",(function(){return we})),n.d(t,"dispositionStatus",(function(){return Ce})),n.d(t,"fromSequenceNumber",(function(){return xe})),n.d(t,"messageCount",(function(){return Ee})),n.d(t,"lockTokens",(function(){return Se})),n.d(t,"messageIdMapKey",(function(){return Oe})),n.d(t,"sequenceNumberMapKey",(function(){return ke})),n.d(t,"lockTokenMapKey",(function(){return Ie})),n.d(t,"sessionIdMapKey",(function(){return Ae})),n.d(t,"sequenceNumbers",(function(){return Te})),n.d(t,"deadLetterReason",(function(){return Re})),n.d(t,"deadLetterDescription",(function(){return je})),n.d(t,"propertiesToModify",(function(){return Le})),n.d(t,"deadLetterName",(function(){return Me})),n.d(t,"trackingId",(function(){return Pe})),n.d(t,"serverTimeout",(function(){return qe})),n.d(t,"operations",(function(){return Fe})),n.d(t,"descriptorCodes",(function(){return Ne}));const r="associated-link-name",i="x-opt-partition-key",o="x-opt-sequence-number",s="x-opt-enqueue-sequence-number",c="x-opt-enqueued-time",a="x-opt-scheduled-enqueue-time",u="x-opt-offset",d="x-opt-locked-until",h="x-opt-partition-id",l="x-opt-publisher-name",f="x-opt-via-partition-key",p="x-opt-deadletter-source",m="amqp.annotation."+c,v="amqp.annotation."+u,_="amqp.annotation."+o,g=16,y="message",b="error",w="status-code",C="status-description",x="error-condition",E="$management",S="partition",O="partitionId",k="READ",I="tls",A="establishConnection",T="$default",R="eventhub",j="$cbs",L="cbs",M="put-token",P="https://eventhubs.azure.net/",q="https://servicebus.azure.net/",F=512,N="com.microsoft",$=N+":epoch",U=N+":receiver-name",D=N+":enable-receiver-runtime-metric",B=N+":timespan",H=N+":uri",z=N+":datetime-offset",Y=N+":session-filter",K="receiver_error",V="sender_error",W="session_error",G="connection_error",J=60,Q=6e4,X="managementRequest",Z="negotiateCbs",ee="negotiateClaim",te="ensureContainerAndBlob",ne=1e3,re=100,ie=128,oe=128,se=128,ce="/",ae=50,ue=1024,de=1024,he=4096,le=922337203685477,fe=-922337203685477,pe=new Date("9999-12-31T07:59:59.000Z").getTime(),me=5,ve=300,_e=3,ge=150,ye=5,be=15,we="receiver-settle-mode",Ce="disposition-status",xe="from-sequence-number",Ee="message-count",Se="lock-tokens",Oe="message-id",ke="sequence-number",Ie="lock-token",Ae="session-id",Te="sequence-numbers",Re="deadletter-reason",je="deadletter-description",Le="properties-to-modify",Me="com.microsoft:dead-letter",Pe="com.microsoft:tracking-id",qe="com.microsoft:server-timeout",Fe={putToken:"put-token",read:"READ",cancelScheduledMessage:"com.microsoft:cancel-scheduled-message",scheduleMessage:"com.microsoft:schedule-message",renewLock:"com.microsoft:renew-lock",peekMessage:"com.microsoft:peek-message",receiveBySequenceNumber:"com.microsoft:receive-by-sequence-number",updateDisposition:"com.microsoft:update-disposition",renewSessionLock:"com.microsoft:renew-session-lock",setSessionState:"com.microsoft:set-session-state",getSessionState:"com.microsoft:get-session-state",enumerateSessions:"com.microsoft:get-message-sessions",addRule:"com.microsoft:add-rule",removeRule:"com.microsoft:remove-rule",enumerateRules:"com.microsoft:enumerate-rules"},Ne={ruleDescriptionList:1335734829060,sqlFilterList:83483426822,correlationFilterList:83483426825,sqlRuleActionList:1335734829062,trueFilterList:83483426823,falseFilterList:83483426824}},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var c,a=r(t),u=i(a.length),d=o(s,u);if(e&&n!=n){while(u>d)if(c=a[d++],c!=c)return!0}else for(;u>d;d++)if((e||d in a)&&a[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4d96":function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return _})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n("da72"),i=n("da5a"),o=n.n(i);function s(e){if(e&&e.wasConnectionCloseCalled){const t="The underlying AMQP connection is closed.",n=new Error(t);throw r["error"](`[${e.connectionId}] %O`,n),n}}function c(e,t,n){if(s(e),e&&n){const n=d(t),i=new Error(n);throw r["error"](`[${e.connectionId}] %O`,i),i}}function a(e,t){return`An open sender already exists on the ${e} for "${t}". Please close it and try again or use a new ${e} instance.`}function u(e,t,n){return n?`An open receiver already exists for the session "${n}" on the ${e} for "${t}". Please close it and try again or use a new ${e} instance.`:`An open receiver already exists on the ${e} for "${t}". Please close it and try again or use a new ${e} instance.`}function d(e){return`The client for "${e}" has been closed and can no longer be used. Please create a new client using an instance of ServiceBusClient.`}function h(e,t,n){return n?`The client for "${e}" has been closed. The sender created by it can no longer be used. Please create a new client using an instance of ServiceBusClient.`:`The sender for "${e}" has been closed and can no longer be used. Please create a new sender using the "createSender" function on the ${t}.`}function l(e,t,n,r){return n?`The client for "${e}" has been closed. The receiver created by it can no longer be used. Please create a new client using an instance of ServiceBusClient.`:void 0==r?`The receiver for "${e}" has been closed and can no longer be used. Please create a new receiver using the "createReceiver" function on the ${t}.`:`The receiver for session "${r}" in "${e}" has been closed and can no longer be used. Please create a new receiver using the "createReceiver" function.`}function f(e,t){return void 0==t?`The receiver for "${e}" is already receiving messages.`:`The receiver for session "${t}" for "${e}" is already receiving messages.`}function p(e,t,n){if(void 0===n||null===n){const n=new TypeError(`Missing parameter "${t}"`);throw r["error"](`[${e}] %O`,n),n}}function m(e,t,n,i){if(typeof n!==i){const n=new TypeError(`The parameter "${t}" should be of type "${i}"`);throw r["error"](`[${e}] %O`,n),n}}function v(e,t,n){if(o.a.isLong(n))return;const i=new TypeError(`The parameter "${t}" should be of type "Long"`);throw r["error"](`[${e}] %O`,i),i}function _(e,t,n){if(n.every(e=>o.a.isLong(e)))return;const i=new TypeError(`The parameter "${t}" should be an array of type "Long"`);throw r["error"](`[${e}] %O`,i),i}function g(e,t,n){if(""!==n)return;const i=new TypeError(`Empty string not allowed in parameter "${t}"`);throw r["error"](`[${e}] %O`,i),i}function y(e){return`Failed to ${e} as the operation is only supported in 'PeekLock' recieve mode.`}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.7.0",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),i=n("5899"),o="["+i+"]",s=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),a=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},"58f2":function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return u}));var r=n("68d6"),i=n.n(r);n.d(t,"a",(function(){return i.a}));const o=!!e&&!!e.version&&!!e.versions&&!!e.versions.node;function s(e){const t={},n=e.trim().split(";");for(let r of n){if(r=r.trim(),""===r)continue;const e=r.indexOf("=");if(-1===e)throw new Error("Connection string malformed: each part of the connection string must have an `=` assignment.");const n=r.substring(0,e).trim();if(""===n)throw new Error("Connection string malformed: missing key for assignment");const i=r.substring(e+1).trim();t[n]=i}return t}const c=new i.a({maxPending:1e4});function a(e,t){return new Promise(n=>setTimeout(()=>n(t),e))}function u(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}).call(this,n("4362"))},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5c7d":function(e,t,n){var r,i;(function(o,s){"use strict";r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})(0,(function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function c(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function a(e,n,r){return function(){typeof console!==t&&(c.call(this,n,r),this[e].apply(this,arguments))}}function u(e,t,n){return s(e)||a.apply(this,arguments)}function d(e,n,i){var o,s=this,a="loglevel";function d(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&a){try{return void(window.localStorage[a]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(a)+"="+n+";"}catch(i){}}}function h(){var e;if(typeof window!==t&&a){try{e=window.localStorage[a]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(a)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}"string"===typeof e?a+=":"+e:"symbol"===typeof e&&(a=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||u,s.getLevel=function(){return o},s.setLevel=function(n,r){if("string"===typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&d(n),c.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){h()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var l=h();null==l&&(l=null==n?"WARN":n),s.setLevel(l,!1)}var h=new d,l={};h.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new d(e,h.getLevel(),h.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return h.noConflict=function(){return typeof window!==t&&window.log===h&&(window.log=f),h},h.getLoggers=function(){return l},h["default"]=h,h}))},"5f40":function(e,t,n){"use strict";(function(t){var n=function(e){e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domains=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.timeout=e.timeout||n.DEFAULT_TIMEOUT,this.maxPending=e.maxPending||n.DEFAULT_MAX_PENDING};n.DEFAULT_TIMEOUT=0,n.DEFAULT_MAX_PENDING=1e3,n.prototype.acquire=function(e,n,r,i){if(Array.isArray(e))return this._acquireBatch(e,n,r,i);if("function"!==typeof n)throw new Error("You must pass a function to execute");var o=null,s=null,c=null;"function"!==typeof r&&(i=r,r=null,c=new this.Promise((function(e,t){o=e,s=t}))),i=i||{};var a=!1,u=null,d=this,h=function(t,n,i){t&&(0===d.queues[e].length&&delete d.queues[e],delete d.domains[e]),a||(c?n?s(n):o(i):"function"===typeof r&&r(n,i),a=!0),t&&d.queues[e]&&d.queues[e].length>0&&d.queues[e].shift()()},l=function(r){if(a)return h(r);if(u&&(clearTimeout(u),u=null),r&&(d.domains[e]=t.domain),1===n.length){var i=!1;n((function(e,t){i||(i=!0,h(r,e,t))}))}else d._promiseTry((function(){return n()})).then((function(e){h(r,void 0,e)}),(function(e){h(r,e)}))};if(t.domain&&(l=t.domain.bind(l)),d.queues[e])if(d.domainReentrant&&t.domain&&t.domain===d.domains[e])l(!1);else if(d.queues[e].length>=d.maxPending)h(!1,new Error("Too much pending tasks"));else{var f=function(){l(!0)};i.skipQueue?d.queues[e].unshift(f):d.queues[e].push(f);var p=i.timeout||d.timeout;p&&(u=setTimeout((function(){u=null,h(!1,new Error("async-lock timed out"))}),p))}else d.queues[e]=[],l(!0);return c||void 0},n.prototype._acquireBatch=function(e,t,n,r){"function"!==typeof n&&(r=n,n=null);var i=this,o=function(e,t){return function(n){i.acquire(e,t,n,r)}},s=t;if(e.reverse().forEach((function(e){s=o(e,s)})),"function"!==typeof n)return new this.Promise((function(e,t){1===s.length?s((function(n,r){n?t(n):e(r)})):e(s())}));s(n)},n.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},n.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(t){return this.Promise.reject(t)}},e.exports=n}).call(this,n("4362"))},"5f8b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return f}));var r,i,o,s=n("3b1f"),c=n("58f2");(function(e){e[e["com.microsoft:timeout"]=408]="com.microsoft:timeout",e[e["amqp:not-found"]=404]="amqp:not-found",e[e["amqp:not-implemented"]=501]="amqp:not-implemented",e[e["com.microsoft:entity-already-exists"]=409]="com.microsoft:entity-already-exists",e[e["com.microsoft:message-lock-lost"]=410]="com.microsoft:message-lock-lost",e[e["com.microsoft:session-lock-lost"]=410]="com.microsoft:session-lock-lost",e[e["com.microsoft:no-matching-subscription"]=500]="com.microsoft:no-matching-subscription",e[e["amqp:link:message-size-exceeded"]=403]="amqp:link:message-size-exceeded",e[e["com.microsoft:server-busy"]=503]="com.microsoft:server-busy",e[e["com.microsoft:argument-error"]=400]="com.microsoft:argument-error",e[e["com.microsoft:argument-out-of-range"]=400]="com.microsoft:argument-out-of-range",e[e["com.microsoft:store-lock-lost"]=410]="com.microsoft:store-lock-lost",e[e["com.microsoft:session-cannot-be-locked"]=410]="com.microsoft:session-cannot-be-locked",e[e["com.microsoft:partition-not-owned"]=410]="com.microsoft:partition-not-owned",e[e["com.microsoft:entity-disabled"]=400]="com.microsoft:entity-disabled",e[e["com.microsoft:publisher-revoked"]=401]="com.microsoft:publisher-revoked",e[e["amqp:link:stolen"]=410]="amqp:link:stolen",e[e["amqp:not-allowed"]=400]="amqp:not-allowed",e[e["amqp:unauthorized-access"]=401]="amqp:unauthorized-access",e[e["amqp:resource-limit-exceeded"]=403]="amqp:resource-limit-exceeded"})(r||(r={})),function(e){e["com.microsoft:address-already-in-use"]="AddressAlreadyInUseError",e["com.microsoft:store-lock-lost"]="StoreLockLostError",e["com.microsoft:no-matching-subscription"]="NoMatchingSubscriptionError",e["com.microsoft:partition-not-owned"]="PartitionNotOwnedError",e["com.microsoft:publisher-revoked"]="PublisherRevokedError",e["com.microsoft:entity-already-exists"]="MessagingEntityAlreadyExistsError",e["com.microsoft:entity-disabled"]="MessagingEntityDisabledError",e["com.microsoft:message-lock-lost"]="MessageLockLostError",e["com.microsoft:session-lock-lost"]="SessionLockLostError",e["com.microsoft:session-cannot-be-locked"]="SessionCannotBeLockedError",e["amqp:internal-error"]="InternalServerError",e["amqp:not-found"]="ServiceCommunicationError",e["com.microsoft:message-not-found"]="MessageNotFoundError",e["com.microsoft:relay-not-found"]="RelayNotFoundError",e["amqp:not-implemented"]="NotImplementedError",e["amqp:not-allowed"]="InvalidOperationError",e["amqp:resource-limit-exceeded"]="QuotaExceededError",e["amqp:unauthorized-access"]="UnauthorizedError",e["com.microsoft:auth-failed"]="UnauthorizedError",e["com.microsoft:timeout"]="ServiceUnavailableError",e["com.microsoft:message-wait-timeout"]="MessageWaitTimeout",e["amqp:operation-timeout"]="OperationTimeoutError",e["com.microsoft:argument-out-of-range"]="ArgumentOutOfRangeError",e["amqp:precondition-failed"]="PreconditionFailedError",e["com.microsoft:precondition-failed"]="PreconditionFailedError",e["amqp:decode-error"]="DecodeError",e["amqp:invalid-field"]="InvalidFieldError",e["amqp:resource-locked"]="ResourceLockedError",e["amqp:resource-deleted"]="ResourceDeletedError",e["amqp:illegal-state"]="IllegalStateError",e["amqp:frame-size-too-small"]="FrameSizeTooSmallError",e["amqp:link:detach-forced"]="DetachForcedError",e["amqp:link:transfer-limit-exceeded"]="TransferLimitExceededError",e["amqp:link:message-size-exceeded"]="MessageTooLargeError",e["amqp:link:redirect"]="LinkRedirectError",e["amqp:link:stolen"]="ReceiverDisconnectedError",e["amqp:session:window-violation"]="SessionWindowViolationError",e["amqp:session:errant-link"]="ErrantLinkError",e["amqp:session:handle-in-use"]="HandleInUseError",e["amqp:session:unattached-handle"]="UnattachedHandleError",e["amqp:connection:forced"]="ConnectionForcedError",e["amqp:connection:framing-error"]="FramingError",e["amqp:connection:redirect"]="ConnectionRedirectError",e["com.microsoft:server-busy"]="ServerBusyError",e["com.microsoft:argument-error"]="ArgumentError",e["com.microsoft:operation-cancelled"]="OperationCancelledError",e["client.sender:not-enough-link-credit"]="SenderBusyError",e["system:error"]="SystemError"}(i||(i={})),function(e){e["AddressAlreadyInUseError"]="com.microsoft:address-already-in-use",e["StoreLockLostError"]="com.microsoft:store-lock-lost",e["NoMatchingSubscriptionError"]="com.microsoft:no-matching-subscription",e["PartitionNotOwnedError"]="com.microsoft:partition-not-owned",e["PublisherRevokedError"]="com.microsoft:publisher-revoked",e["MessagingEntityAlreadyExistsError"]="com.microsoft:entity-already-exists",e["MessagingEntityDisabledError"]="com.microsoft:entity-disabled",e["MessageLockLostError"]="com.microsoft:message-lock-lost",e["SessionLockLostError"]="com.microsoft:session-lock-lost",e["SessionCannotBeLockedError"]="com.microsoft:session-cannot-be-locked",e["InternalServerError"]="amqp:internal-error",e["ServiceCommunicationError"]="amqp:not-found",e["MessageNotFoundError"]="com.microsoft:message-not-found",e["RelayNotFoundError"]="com.microsoft:relay-not-found",e["NotImplementedError"]="amqp:not-implemented",e["InvalidOperationError"]="amqp:not-allowed",e["QuotaExceededError"]="amqp:resource-limit-exceeded",e["UnauthorizedError"]="amqp:unauthorized-access",e["ServiceUnavailableError"]="com.microsoft:timeout",e["MessageWaitTimeout"]="com.microsoft:message-wait-timeout",e["OperationTimeoutError"]="amqp:operation-timeout",e["ArgumentOutOfRangeError"]="com.microsoft:argument-out-of-range",e["PreconditionFailedError"]="amqp:precondition-failed",e["DecodeError"]="amqp:decode-error",e["InvalidFieldError"]="amqp:invalid-field",e["ResourceLockedError"]="amqp:resource-locked",e["ResourceDeletedError"]="amqp:resource-deleted",e["IllegalStateError"]="amqp:illegal-state",e["FrameSizeTooSmallError"]="amqp:frame-size-too-small",e["DetachForcedError"]="amqp:link:detach-forced",e["TransferLimitExceededError"]="amqp:link:transfer-limit-exceeded",e["MessageTooLargeError"]="amqp:link:message-size-exceeded",e["LinkRedirectError"]="amqp:link:redirect",e["ReceiverDisconnectedError"]="amqp:link:stolen",e["SessionWindowViolationError"]="amqp:session:window-violation",e["ErrantLinkError"]="amqp:session:errant-link",e["HandleInUseError"]="amqp:session:handle-in-use",e["UnattachedHandleError"]="amqp:session:unattached-handle",e["ConnectionForcedError"]="amqp:connection:forced",e["FramingError"]="amqp:connection:framing-error",e["ConnectionRedirectError"]="amqp:connection:redirect",e["ServerBusyError"]="com.microsoft:server-busy",e["ArgumentError"]="com.microsoft:argument-error",e["OperationCancelledError"]="com.microsoft:operation-cancelled",e["SenderBusyError"]="client.sender:not-enough-link-credit",e["SystemError"]="system:error"}(o||(o={}));class a extends Error{constructor(e){super(e),this.name="MessagingError",this.translated=!0,this.retryable=!0}}const u=["InternalServerError","ServerBusyError","ServiceUnavailableError","OperationCancelledError","SenderBusyError","MessagingError","DetachForcedError","ConnectionForcedError","TransferLimitExceededError","OperationTimeoutError"];var d;function h(e){let t=!1;return e.code&&"string"===typeof e.code&&e.syscall&&"string"===typeof e.syscall&&e.errno&&("string"===typeof e.errno||"number"===typeof e.errno)&&(t=!0),t}function l(e){let t=!1;return!c["d"]&&window&&"error"===e.type&&e.target instanceof window.WebSocket&&(t=!0),t}function f(e){if(e.translated)return e;let t=e;if(e instanceof TypeError||e instanceof RangeError)return t.retryable=!1,t;if(Object(s["isAmqpError"])(e)){const n=e.condition,r=e.description;t=new a(r),e.stack&&(t.stack=e.stack),t.info=e.info,t.condition=n,n&&(t.name=i[n]),t.name||(t.name="MessagingError"),r&&(r.includes("status-code: 404")||null!==r.match(/The messaging entity .* could not be found.*/i))&&(t.name="MessagingEntityNotFoundError"),-1===u.indexOf(t.name)&&(t.retryable=!1)}else if(h(e)){const n=e.code,r=e.message;if(t=new a(r),e.stack&&(t.stack=e.stack),n){const e=d[n];t.name=i[e]}t.name||(t.name="SystemError"),-1===u.indexOf(t.name)&&(t.retryable=!1)}else l(e)?(t=new a("Websocket connection failed."),t.name=i[o.ServiceCommunicationError],t.retryable=!1):(t=new a(e.message),t.stack=e.stack);return t}(function(e){e["ENOTFOUND"]="amqp:not-found",e["EBUSY"]="com.microsoft:server-busy",e["ECONNREFUSED"]="amqp:connection:forced",e["ETIMEDOUT"]="com.microsoft:timeout",e["ECONNRESET"]="com.microsoft:timeout",e["ENETDOWN"]="com.microsoft:timeout",e["EHOSTDOWN"]="com.microsoft:timeout",e["ENETRESET"]="com.microsoft:timeout",e["ENETUNREACH"]="com.microsoft:timeout",e["ENONET"]="com.microsoft:timeout"})(d||(d={}))},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),c=n("d1e7"),a=n("7b0b"),u=n("44ad"),d=Object.assign,h=Object.defineProperty;e.exports=!d||i((function(){if(r&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||o(d({},t)).join("")!=i}))?function(e,t){var n=a(e),i=arguments.length,d=1,h=s.f,l=c.f;while(i>d){var f,p=u(arguments[d++]),m=h?o(p).concat(h(p)):o(p),v=m.length,_=0;while(v>_)f=m[_++],r&&!l.call(p,f)||(n[f]=p[f])}return n}:d},6163:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("9ab4"),i=n("3b1f"),o=n("4c8d"),s=n("39ea"),c=n("5f8b"),a=n("58f2"),u=n("0efd");class d{constructor(e,t){this.endpoint=o["cbsEndpoint"],this.replyTo=`${o["cbsReplyTo"]}-${Object(i["generate_uuid"])()}`,this.cbsLock=`${o["negotiateCbsKey"]}-${Object(i["generate_uuid"])()}`,this.connection=e,this.connectionLock=t}init(){return Object(r["__awaiter"])(this,void 0,void 0,(function*(){try{if(this.connection.isOpen()||(s["a"]("The CBS client is trying to establish an AMQP connection."),yield a["b"].acquire(this.connectionLock,()=>this.connection.open())),this._isCbsSenderReceiverLinkOpen())s["a"]("[%s] CBS session is already present. Reusing the cbs sender '%s' and receiver '%s' links over cbs session.",this.connection.id,this._cbsSenderReceiverLink.sender.name,this._cbsSenderReceiverLink.receiver.name);else{const e={source:{address:this.endpoint},name:this.replyTo,onSessionError:e=>{const t=e.connection.options.id,n=Object(c["e"])(e.session.error);s["b"]("[%s] An error occurred on the session for request/response links for $cbs: %O",t,n)}},t={target:{address:this.endpoint}};s["a"]("[%s] Creating sender/receiver links on a session for $cbs endpoint.",this.connection.id),this._cbsSenderReceiverLink=yield u["a"].create(this.connection,t,e),this._cbsSenderReceiverLink.sender.on(i["SenderEvents"].senderError,e=>{const t=e.connection.options.id,n=Object(c["e"])(e.sender.error);s["b"]("[%s] An error occurred on the cbs sender link.. %O",t,n)}),this._cbsSenderReceiverLink.receiver.on(i["ReceiverEvents"].receiverError,e=>{const t=e.connection.options.id,n=Object(c["e"])(e.receiver.error);s["b"]("[%s] An error occurred on the cbs receiver link.. %O",t,n)}),s["a"]("[%s] Successfully created the cbs sender '%s' and receiver '%s' links over cbs session.",this.connection.id,this._cbsSenderReceiverLink.sender.name,this._cbsSenderReceiverLink.receiver.name)}}catch(e){throw e=Object(c["e"])(e),s["b"]("[%s] An error occured while establishing the cbs links: %O",this.connection.id,e),e}}))}negotiateClaim(e,t){return Object(r["__awaiter"])(this,void 0,void 0,(function*(){try{const n={body:t.token,message_id:Object(i["generate_uuid"])(),reply_to:this.replyTo,to:this.endpoint,application_properties:{operation:o["operationPutToken"],name:e,type:t.tokenType}},r=yield this._cbsSenderReceiverLink.sendRequest(n);return s["a"]("[%s] The CBS response is: %O",this.connection.id,r),this._fromAmqpMessageResponse(r)}catch(n){throw s["b"]("[%s] An error occurred while negotiating the cbs claim: %O",this.connection.id,n),n}}))}close(){return Object(r["__awaiter"])(this,void 0,void 0,(function*(){try{if(this._isCbsSenderReceiverLinkOpen()){const e=this._cbsSenderReceiverLink;this._cbsSenderReceiverLink=void 0,yield e.close(),s["a"]("[%s] Successfully closed the cbs session.",this.connection.id)}}catch(e){const t=`An error occurred while closing the cbs link: ${e.stack||JSON.stringify(e)}.`;throw s["b"]("[%s] %s",this.connection.id,t),new Error(t)}}))}remove(){try{if(this._cbsSenderReceiverLink){const e=this._cbsSenderReceiverLink;this._cbsSenderReceiverLink=void 0,e.remove(),s["a"]("[%s] Successfully removed the cbs session.",this.connection.id)}}catch(e){const t=`An error occurred while removing the cbs link: ${e.stack||JSON.stringify(e)}.`;throw s["b"]("[%s] %s",this.connection.id,t),new Error(t)}}_isCbsSenderReceiverLinkOpen(){return this._cbsSenderReceiverLink&&this._cbsSenderReceiverLink.isOpen()}_fromAmqpMessageResponse(e){const t={correlationId:e.correlation_id,statusCode:e.application_properties?e.application_properties["status-code"]:"",satusDescription:e.application_properties?e.application_properties["status-description"]:""};return s["a"]("[%s] The deserialized CBS response is: %o",this.connection.id,t),t}}},6203:function(e,t,n){"use strict";var r=n("a991"),i=n("3e48"),o=n("6e71"),s=n("cadb"),c={OK:0,AUTH:1,SYS:2,SYS_PERM:3,SYS_TEMP:4},a=3;function u(e){var t=[],n=0,r=0;while(r<e.length)0===e[r]?(r>n?t.push(e.toString("utf8",n,r)):t.push(null),n=++r):++r;return r>n?t.push(e.toString("utf8",n,r)):t.push(null),t}var d=function(e){this.callback=e,this.outcome=void 0,this.username=void 0};d.prototype.start=function(e,t){var n=u(e);if(3!==n.length)return Promise.reject("Unexpected response in PLAIN, got "+n.length+" fields, expected 3");var r=this;return Promise.resolve(this.callback(n[1],n[2],t)).then((function(e){e?(r.outcome=!0,r.username=n[1]):r.outcome=!1}))};var h=function(e,t){this.username=e,this.password=t};h.prototype.start=function(e){var t=s.allocate_buffer(1+this.username.length+1+this.password.length);t.writeUInt8(0,0),t.write(this.username,1),t.writeUInt8(0,1+this.username.length),t.write(this.password,1+this.username.length+1),e(void 0,t)};var l=function(){this.outcome=void 0,this.username=void 0};l.prototype.start=function(e){this.outcome=!0,this.username=e?e.toString("utf8"):"anonymous"};var f=function(e){this.username=e||"anonymous"};f.prototype.start=function(e){var t=s.allocate_buffer(1+this.username.length);t.writeUInt8(0,0),t.write(this.username,1),e(void 0,t)};var p=function(){this.outcome=void 0,this.username=void 0};p.prototype.start=function(){this.outcome=!0};var m=function(){this.username=void 0};m.prototype.start=function(e){e(void 0,"")},m.prototype.step=function(e){e(void 0,"")};var v=function(e,t){this.username=e,this.token=t};v.prototype.start=function(e){var t=s.allocate_buffer(this.username.length+this.token.length+5+12+3),n=0;t.write("user=",n),n+=5,t.write(this.username,n),n+=this.username.length,t.writeUInt8(1,n),n+=1,t.write("auth=Bearer ",n),n+=12,t.write(this.token,n),n+=this.token.length,t.writeUInt8(1,n),n+=1,t.writeUInt8(1,n),n+=1,e(void 0,t)};var _=function(e,t){this.connection=e,this.transport=new o(e.amqp_transport.identifier,a,i.TYPE_SASL,this),this.next=e.amqp_transport,this.mechanisms=t,this.mechanism=void 0,this.outcome=void 0,this.username=void 0;var n=Object.getOwnPropertyNames(t);this.transport.encode(i.sasl_frame(i.sasl_mechanisms({sasl_server_mechanisms:n})))};_.prototype.do_step=function(e){if(void 0===this.mechanism.outcome)this.transport.encode(i.sasl_frame(i.sasl_challenge({challenge:e}))),this.connection.output();else{this.outcome=this.mechanism.outcome?c.OK:c.AUTH;var t=i.sasl_frame(i.sasl_outcome({code:this.outcome}));this.transport.encode(t),this.connection.output(),this.outcome===c.OK&&(this.username=this.mechanism.username,this.transport.write_complete=!0,this.transport.read_complete=!0)}},_.prototype.on_sasl_init=function(e){var t=this.mechanisms[e.performative.mechanism];t?(this.mechanism=t(),Promise.resolve(this.mechanism.start(e.performative.initial_response,e.performative.hostname)).then(this.do_step.bind(this)).catch(this.do_fail.bind(this))):(this.outcome=c.AUTH,this.transport.encode(i.sasl_frame(i.sasl_outcome({code:this.outcome}))))},_.prototype.on_sasl_response=function(e){Promise.resolve(this.mechanism.step(e.performative.response)).then(this.do_step.bind(this)).catch(this.do_fail.bind(this))},_.prototype.do_fail=function(e){var t=i.sasl_frame(i.sasl_outcome({code:c.SYS}));this.transport.encode(t),this.connection.output();try{this.connection.sasl_failed("Sasl callback promise failed with "+e,"amqp:internal-error")}catch(e){console.error("Uncaught error: ",e.message)}},_.prototype.has_writes_pending=function(){return this.transport.has_writes_pending()||this.next.has_writes_pending()},_.prototype.write=function(e){return this.transport.write_complete&&0===this.transport.pending.length?this.next.write(e):this.transport.write(e)},_.prototype.read=function(e){return this.transport.read_complete?this.next.read(e):this.transport.read(e)};var g=function(e,t,n){this.connection=e,this.transport=new o(e.amqp_transport.identifier,a,i.TYPE_SASL,this),this.next=e.amqp_transport,this.mechanisms=t,this.mechanism=void 0,this.mechanism_name=void 0,this.hostname=n,this.failed=!1};g.prototype.on_sasl_mechanisms=function(e){var t=[];Array.isArray(e.performative.sasl_server_mechanisms)?t=e.performative.sasl_server_mechanisms:e.performative.sasl_server_mechanisms&&(t=[e.performative.sasl_server_mechanisms]);for(var n=0;void 0===this.mechanism&&n<t.length;n++){var r=t[n],o=this.mechanisms[r];o&&(this.mechanism="function"===typeof o?o():o,this.mechanism_name=r)}if(this.mechanism){var s=this;this.mechanism.start((function(e,t){if(e)s.failed=!0,s.connection.sasl_failed("SASL mechanism init failed: "+e);else{var n={mechanism:s.mechanism_name,initial_response:t};s.hostname&&(n.hostname=s.hostname),s.transport.encode(i.sasl_frame(i.sasl_init(n))),s.connection.output()}}))}else this.failed=!0,this.connection.sasl_failed("No suitable mechanism; server supports "+e.performative.sasl_server_mechanisms)},g.prototype.on_sasl_challenge=function(e){var t=this;this.mechanism.step(e.performative.challenge,(function(e,n){e?(t.failed=!0,t.connection.sasl_failed("SASL mechanism challenge failed: "+e)):(t.transport.encode(i.sasl_frame(i.sasl_response({response:n}))),t.connection.output())}))},g.prototype.on_sasl_outcome=function(e){switch(e.performative.code){case c.OK:this.transport.read_complete=!0,this.transport.write_complete=!0;break;case c.SYS:case c.SYS_PERM:case c.SYS_TEMP:this.transport.write_complete=!0,this.connection.sasl_failed("Failed to authenticate: "+e.performative.code,"amqp:internal-error");break;default:this.transport.write_complete=!0,this.connection.sasl_failed("Failed to authenticate: "+e.performative.code)}},g.prototype.has_writes_pending=function(){return this.transport.has_writes_pending()||this.next.has_writes_pending()},g.prototype.write=function(e){return this.transport.write_complete?this.next.write(e):this.transport.write(e)},g.prototype.read=function(e){return this.transport.read_complete?this.next.read(e):this.transport.read(e)};var y=function(e,t){this.header_received=!1,this.transports={0:e.amqp_transport,3:new _(e,t)},this.selected=void 0};y.prototype.has_writes_pending=function(){return this.header_received&&this.selected.has_writes_pending()},y.prototype.write=function(e){return this.selected?this.selected.write(e):0},y.prototype.read=function(e){if(!this.header_received){if(e.length<8)return 0;if(this.header_received=i.read_header(e),this.selected=this.transports[this.header_received.protocol_id],void 0===this.selected)throw new r.ProtocolError("Invalid AMQP protocol id "+this.header_received.protocol_id)}return this.selected.read(e)};var b={enable_anonymous:function(){this["ANONYMOUS"]=function(){return new l}},enable_plain:function(e){this["PLAIN"]=function(){return new d(e)}}},w={enable_anonymous:function(e){this["ANONYMOUS"]=function(){return new f(e)}},enable_plain:function(e,t){this["PLAIN"]=function(){return new h(e,t)}},enable_external:function(){this["EXTERNAL"]=function(){return new m}},enable_xoauth2:function(e,t){if(e&&t)this["XOAUTH2"]=function(){return new v(e,t)};else{if(void 0===t)throw Error("token must be specified");if(void 0===e)throw Error("username must be specified")}}};e.exports={Client:g,Server:_,Selective:y,server_mechanisms:function(){return Object.create(b)},client_mechanisms:function(){return Object.create(w)},server_add_external:function(e){return e["EXTERNAL"]=function(){return new p},e}}},6346:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["CbsTokenTypeJwt"]="jwt",e["CbsTokenTypeSas"]="servicebus.windows.net:sastoken"}(r||(r={}))},"652c":function(e,t,n){"use strict";var r=n("10fc"),i=n("1c90"),o={},s={},c=[],a={};function u(e,t,n){t.descriptor=e,s[e.symbolic]=t,s[Number(e.numeric).toString(10)]=t,n&&c.push(n)}function d(e){var t=i.define_composite(e);a[e.name]=t.create,o[Number(t.descriptor.numeric).toString(10)]=t,o[t.descriptor.symbolic]=t;var n=function(n,r){for(var i=new t(r.value),o=0;o<e.fields.length;o++){var s=e.fields[o],c=i[s.name];void 0!==c&&null!==c&&(n[s.name]=c)}},r=function(e,n){e.push(t.create(n).described())};u(t.descriptor,n,r)}function h(e,t){var n=t?i.wrap_symbolic_map:i.wrap_map,r={numeric:e.code};r.symbolic="amqp:"+e.name.replace(/_/g,"-")+":map";var o=function(t,n){t[e.name]=i.unwrap_map_simple(n)},s=function(t,o){o[e.name]&&t.push(i.described_nc(i.wrap_ulong(r.numeric),n(o[e.name])))};u(r,o,s)}function l(e,t,n){this.typecode=e,this.content=t,this.multiple=n}function f(e,t,n){void 0===e.body?e.body=new l(n,i.unwrap(t)):e.body.constructor===l&&e.body.typecode===n&&(e.body.multiple?e.body.content.push(i.unwrap(t)):(e.body.multiple=!0,e.body.content=[e.body.content,i.unwrap(t)]))}function p(e,t){t.body&&t.body.collect_sections?t.body.collect_sections(e):e.push(i.described(i.wrap_ulong(119),i.wrap(t.body)))}function m(e,t){for(var n in e){var r=e[n];"object"===typeof r?m(r,t[n]):t[n]=r}}function v(e){e&&m(e,this)}l.prototype.described=function(e){return i.described(i.wrap_ulong(this.typecode),i.wrap(e||this.content))},l.prototype.collect_sections=function(e){if(this.multiple)for(var t=0;t<this.content.length;t++)e.push(this.described(this.content[t]));else e.push(this.described())},d({name:"header",code:112,fields:[{name:"durable",type:"boolean",default_value:!1},{name:"priority",type:"ubyte",default_value:4},{name:"ttl",type:"uint"},{name:"first_acquirer",type:"boolean",default_value:!1},{name:"delivery_count",type:"uint",default_value:0}]}),h({name:"delivery_annotations",code:113},!0),h({name:"message_annotations",code:114},!0),d({name:"properties",code:115,fields:[{name:"message_id",type:"message_id"},{name:"user_id",type:"binary"},{name:"to",type:"string"},{name:"subject",type:"string"},{name:"reply_to",type:"string"},{name:"correlation_id",type:"message_id"},{name:"content_type",type:"symbol"},{name:"content_encoding",type:"symbol"},{name:"absolute_expiry_time",type:"timestamp"},{name:"creation_time",type:"timestamp"},{name:"group_id",type:"string"},{name:"group_sequence",type:"uint"},{name:"reply_to_group_id",type:"string"}]}),h({name:"application_properties",code:116}),u({numeric:117,symbolic:"amqp:data:binary"},(function(e,t){f(e,t,117)})),u({numeric:118,symbolic:"amqp:amqp-sequence:list"},(function(e,t){f(e,t,118)})),u({numeric:119,symbolic:"amqp:value:*"},(function(e,t){e.body=i.unwrap(t)})),h({name:"footer",code:120}),c.push(p),a.data_section=function(e){return new l(117,e)},a.sequence_section=function(e){return new l(118,e)},a.data_sections=function(e){return new l(117,e,!0)},a.sequence_sections=function(e){return new l(118,e,!0)},v.prototype.toJSON=function(){var e={};for(var t in this)"function"!==typeof this[t]&&(e[t]=this[t]);return e},v.prototype.toString=function(){return JSON.stringify(this.toJSON())},a.encode=function(e){var t=[];c.forEach((function(n){n(t,e)}));for(var n=new i.Writer,o=0;o<t.length;o++)r.message("Encoding section %d of %d: %o",o+1,t.length,t[o]),n.write(t[o]);var s=n.toBuffer();return r.message("encoded %d bytes",s.length),s},a.decode=function(e){var t=new v,n=new i.Reader(e);while(n.remaining()){var o=n.read();if(r.message("decoding section: %o of type: %o",o,o.descriptor),o.descriptor){var c=s[o.descriptor.value];c?c(t,o):console.warn("WARNING: did not recognise message section with descriptor "+o.descriptor)}else console.warn("WARNING: expected described message section got "+JSON.stringify(o))}return t};var _={};function g(e){var t=i.define_composite(e);t.composite_type=e.name,a[e.name]=t.create,_[Number(t.descriptor.numeric).toString(10)]=t,_[t.descriptor.symbolic]=t,a["is_"+e.name]=function(t){if(t&&t.descriptor){var n=_[t.descriptor.value];if(n)return n.descriptor.numeric===e.code}return!1}}a.unwrap_outcome=function(e){if(e&&e.descriptor){var t=_[e.descriptor.value];if(t)return new t(e.value)}return console.error("unrecognised outcome: "+JSON.stringify(e)),e},a.are_outcomes_equivalent=function(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(e.descriptor.value===t.descriptor.value&&36===e.descriptor.value)},g({name:"received",code:35,fields:[{name:"section_number",type:"uint",mandatory:!0},{name:"section_offset",type:"ulong",mandatory:!0}]}),g({name:"accepted",code:36,fields:[]}),g({name:"rejected",code:37,fields:[{name:"error",type:"error"}]}),g({name:"released",code:38,fields:[]}),g({name:"modified",code:39,fields:[{name:"delivery_failed",type:"boolean"},{name:"undeliverable_here",type:"boolean"},{name:"message_annotations",type:"map"}]}),e.exports=a},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,c=String(i(t)),a=r(n),u=c.length;return a<0||a>=u?e?"":void 0:(o=c.charCodeAt(a),o<55296||o>56319||a+1===u||(s=c.charCodeAt(a+1))<56320||s>57343?e?c.charAt(a):o:e?c.slice(a,a+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"68d6":function(e,t,n){"use strict";e.exports=n("5f40")},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),c=n("da84"),a=n("861d"),u=n("9112"),d=n("5135"),h=n("c6cd"),l=n("f772"),f=n("d012"),p=c.WeakMap,m=function(e){return o(e)?i(e):r(e,{})},v=function(e){return function(t){var n;if(!a(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var _=h.state||(h.state=new p),g=_.get,y=_.has,b=_.set;r=function(e,t){return t.facade=e,b.call(_,e,t),t},i=function(e){return g.call(_,e)||{}},o=function(e){return y.call(_,e)}}else{var w=l("state");f[w]=!0,r=function(e,t){return t.facade=e,u(e,w,t),t},i=function(e){return d(e,w)?e[w]:{}},o=function(e){return d(e,w)}}e.exports={set:r,get:i,has:o,enforce:m,getterFor:v}},"6e71":function(e,t,n){"use strict";var r=n("a991"),i=n("3e48"),o=n("10fc"),s=n("cadb"),c=function(e,t,n,r){this.identifier=e,this.protocol_id=t,this.frame_type=n,this.handler=r,this.pending=[],this.header_sent=void 0,this.header_received=void 0,this.write_complete=!1,this.read_complete=!1};c.prototype.has_writes_pending=function(){return this.pending.length>0||!this.header_sent},c.prototype.encode=function(e){this.pending.push(e)},c.prototype.write=function(e){if(!this.header_sent){var t=s.allocate_buffer(8),n={protocol_id:this.protocol_id,major:1,minor:0,revision:0};o.frames("[%s] -> %o",this.identifier,n),i.write_header(t,n),e.write(t),this.header_sent=n}for(var r=0;r<this.pending.length;r++){var c=this.pending[r];t=i.write_frame(c);e.write(t),c.performative?o.frames("[%s]:%s -> %s %j",this.identifier,c.channel,c.performative.constructor,c.performative,c.payload||""):o.frames("[%s]:%s -> empty",this.identifier,c.channel),o.raw("[%s] SENT: %d %h",this.identifier,t.length,t)}this.pending=[]},c.prototype.read=function(e){var t=0;if(!this.header_received){if(e.length<8)return t;if(this.header_received=i.read_header(e),o.frames("[%s] <- %o",this.identifier,this.header_received),this.header_received.protocol_id!==this.protocol_id)throw 3===this.protocol_id&&0===this.header_received.protocol_id?new r.ProtocolError("Expecting SASL layer"):0===this.protocol_id&&3===this.header_received.protocol_id?new r.ProtocolError("SASL layer not enabled"):new r.ProtocolError("Invalid AMQP protocol id "+this.header_received.protocol_id+" expecting: "+this.protocol_id);t=8}while(t<e.length-4&&!this.read_complete){var n=e.readUInt32BE(t);if(o.io("[%s] got frame of size %d",this.identifier,n),e.length<t+n){o.io("[%s] incomplete frame; have only %d of %d",this.identifier,e.length-t,n);break}var s=e.slice(t,t+n);o.raw("[%s] RECV: %d %h",this.identifier,s.length,s);var c=i.read_frame(s);if(c.performative?o.frames("[%s]:%s <- %s %j",this.identifier,c.channel,c.performative.constructor,c.performative,c.payload||""):o.frames("[%s]:%s <- empty",this.identifier,c.channel),c.type!==this.frame_type)throw new r.ProtocolError("Invalid frame type: "+c.type);t+=n,c.performative&&c.performative.dispatch(this.handler,c)}return t},e.exports=c},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),c=n("8925"),a=n("69f3"),u=a.get,d=a.enforce,h=String(String).split("String");(e.exports=function(e,t,n,c){var a,u=!!c&&!!c.unsafe,l=!!c&&!!c.enumerable,f=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),a=d(n),a.source||(a.source=h.join("string"==typeof t?t:""))),e!==r?(u?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)):l?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),c=n("d012"),a=n("1be4"),u=n("cc12"),d=n("f772"),h=">",l="<",f="prototype",p="script",m=d("IE_PROTO"),v=function(){},_=function(e){return l+p+h+e+l+"/"+p+h},g=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",a.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(_("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?g(r):y();var e=s.length;while(e--)delete b[f][s[e]];return b()};c[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[f]=i(e),n=new v,v[f]=null,n[m]=e):n=b(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),c=n("d44e"),a=n("9112"),u=n("6eeb"),d=n("b622"),h=n("c430"),l=n("3f8c"),f=n("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,v=d("iterator"),_="keys",g="values",y="entries",b=function(){return this};e.exports=function(e,t,n,d,f,w,C){i(n,t,d);var x,E,S,O=function(e){if(e===f&&R)return R;if(!m&&e in A)return A[e];switch(e){case _:return function(){return new n(this,e)};case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)}}return function(){return new n(this)}},k=t+" Iterator",I=!1,A=e.prototype,T=A[v]||A["@@iterator"]||f&&A[f],R=!m&&T||O(f),j="Array"==t&&A.entries||T;if(j&&(x=o(j.call(new e)),p!==Object.prototype&&x.next&&(h||o(x)===p||(s?s(x,p):"function"!=typeof x[v]&&a(x,v,b)),c(x,k,!0,!0),h&&(l[k]=b))),f==g&&T&&T.name!==g&&(I=!0,R=function(){return T.call(this)}),h&&!C||A[v]===R||a(A,v,R),l[t]=R,f)if(E={values:O(g),keys:w?R:O(_),entries:O(y)},C)for(S in E)(m||I||!(S in A))&&u(A,S,E[S]);else r({target:t,proto:!0,forced:m||I},E);return E}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"7fa7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9ab4"),i=n("2f9e"),o=n("371b"),s=n("1d38"),c=n("c3a9"),a=n("b60c");var u;(function(e){e["sender"]="sender",e["receiver"]="receiver"})(u=t.LinkType||(t.LinkType={}));class d extends c.Entity{constructor(e,t,n,r){super(),this.type=e,this._session=t,this._link=n,this.linkOptions=r,this._initializeEventListeners()}get name(){return this._link.name}get error(){return this._link.error}get properties(){return this._link.properties}get sendSettleMode(){return this._link.snd_settle_mode}get receiveSettleMode(){return this._link.rcv_settle_mode}get source(){return this._link.source}set source(e){this._link.set_source(e)}get target(){return this._link.target}set target(e){this._link.set_source(e)}get maxMessageSize(){return this._link.max_message_size}get offeredCapabilities(){return this._link.offered_capabilities}get desiredCapabilities(){return this._link.desired_capabilities}get address(){return this.source.address}get credit(){return this._link.credit}get session(){return this._session}get connection(){return this._session.connection}isOpen(){let e=!1;return this._session.isOpen()&&this._link.is_open()&&(e=!0),e}isRemoteOpen(){return this._link.is_remote_open()}hasCredit(){return this._link.has_credit()}isSender(){return this._link.is_sender()}isReceiver(){return this._link.is_receiver()}isClosed(){return this._link.is_closed()}isItselfClosed(){return this._link.is_itself_closed()}isSessionClosed(){return this._session.isClosed()}isSessionItselfClosed(){return this._session.isItselfClosed()}remove(){this._link&&(this.removeAllListeners(),this._link.removeAllListeners(),this._link.remove()),this._session&&this._session.remove()}close(){return r.__awaiter(this,void 0,void 0,(function*(){return this.removeAllListeners(),yield new Promise((e,t)=>{if(i.error("[%s] The %s is open ? -> %s",this.connection.id,this.type,this.isOpen()),!this.isOpen())return e();{const n=this.type===u.sender?o.SenderEvents.senderError:o.ReceiverEvents.receiverError,r=this.type===u.sender?o.SenderEvents.senderClose:o.ReceiverEvents.receiverClose;let s,c,d;const h=()=>{clearTimeout(d),this.actionInitiated--,this._link.removeListener(n,s),this._link.removeListener(r,c)};c=t=>(h(),i[this.type]("[%s] Resolving the promise as the amqp %s has been closed.",this.connection.id,this.type),e()),s=e=>(h(),i.error("[%s] Error occurred while closing amqp %s: %O.",this.connection.id,this.type,e.session.error),t(e.session.error));const l=()=>{h();const e=`Unable to close the amqp %s ${this.name} due to operation timeout.`;return i.error("[%s] %s",this.connection.id,this.type,e),t(new a.OperationTimeoutError(e))};this._link.once(r,c),this._link.once(n,s),d=setTimeout(l,1e3*this.connection.options.operationTimeoutInSeconds),this._link.close(),this.actionInitiated++}}),i[this.type]("[%s] %s has been closed, now closing it's session.",this.connection.id,this.type),this._session.close()}))}_initializeEventListeners(){const e=this.type===u.sender?o.SenderEvents:o.ReceiverEvents;for(const t in e)this._link.on(e[t],n=>{const r={rheaContext:n,emitter:this,eventName:e[t],emitterType:this.type,connectionId:this.connection.id};s.emitEvent(r)});"function"===typeof this._link.eventNames&&i.eventHandler("[%s] rhea-promise '%s' object is listening for events: %o emitted by rhea's '%s' object.",this.connection.id,this.type,this._link.eventNames(),this.type),"function"===typeof this._link.listenerCount&&i.eventHandler("[%s] ListenerCount for event '%s_error' on rhea's '%s' object is: %d.",this.connection.id,this.type,this.type,this._link.listenerCount(this.type+"_error"))}}t.Link=d},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8b6c":function(e,t,n){"use strict";(function(t,r){var i=n("3e48"),o=n("10fc"),s=n("652c"),c=n("ad0a"),a=n("4921"),u=function(e){this.window=e};function d(e){e.delivery.settled=!0}function h(e){e.delivery.update(void 0,s.accepted().described())}function l(e,t,n){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e,this.condition=t,this.description=e,this.link=n}u.prototype.update=function(e){var t=this.window-e.receiver.credit;t>=this.window/4&&e.receiver.flow(t)},n("3022").inherits(l,Error);var f=n("faa1").EventEmitter,p=Object.create(f.prototype);function m(e){switch(e){case"name":case"handle":case"role":case"initial_delivery_count":return!0;default:return!1}}p.dispatch=function(e){return o.events("[%s] Link got event: %s",this.connection.options.id,e),f.prototype.emit.apply(this.observers,arguments),this.listeners(e).length?(f.prototype.emit.apply(this,arguments),!0):this.session.dispatch.apply(this.session,arguments)},p.set_source=function(e){this.local.attach.source=c.source(e).described()},p.set_target=function(e){this.local.attach.target=c.target(e).described()},p.attach=function(){this.state.open()&&this.connection._register()},p.open=p.attach,p.detach=function(){this.local.detach.closed=!1,this.state.close()&&this.connection._register()},p.close=function(e){e&&(this.local.detach.error=e),this.local.detach.closed=!0,this.state.close()&&this.connection._register()},p.remove=function(){this.session.remove_link(this)},p.is_open=function(){return this.session.is_open()&&this.state.is_open()},p.is_remote_open=function(){return this.session.is_remote_open()&&this.state.remote_open},p.is_itself_closed=function(){return this.state.is_closed()},p.is_closed=function(){return this.session.is_closed()||this.is_itself_closed()},p._process=function(){do{this.state.need_open()&&this.session.output(this.local.attach),this.issue_flow&&this.state.local_open&&(this.session._write_flow(this),this.issue_flow=!1),this.state.need_close()&&this.session.output(this.local.detach)}while(!this.state.has_settled())},p.on_attach=function(e){if(!this.state.remote_opened())throw Error("Attach already received");this.remote.handle||(this.remote.handle=e.handle),e.performative.source=c.unwrap(e.performative.source),e.performative.target=c.unwrap(e.performative.target),this.remote.attach=e.performative,this.open(),this.dispatch(this.is_receiver()?"receiver_open":"sender_open",this._context())},p.prefix_event=function(e){return(this.local.attach.role?"receiver_":"sender_")+e},p.on_detach=function(e){if(!this.state.remote_closed())throw Error("Detach already received");this._incomplete&&(this._incomplete.settled=!0),this.remote.detach=e.performative;var n=this.remote.detach.error;if(n){var r=this.dispatch(this.prefix_event("error"),this._context());r=this.dispatch(this.prefix_event("close"),this._context())||r,r||f.prototype.emit.call(this.connection.container,"error",new l(n.description,n.condition,this))}else this.dispatch(this.prefix_event("close"),this._context());var i=this,o=this.state.mark();t.nextTick((function(){i.state.marker===o&&(i.close(),t.nextTick((function(){i.remove()})))}))};var v=["snd_settle_mode","rcv_settle_mode","source","target","max_message_size","offered_capabilities","desired_capabilities","properties"];function _(e){return function(){return this.remote.attach?this.remote.attach[e]:void 0}}p.init=function(e,t,n,r,o){for(var s in this.session=e,this.connection=e.connection,this.name=t,this.options=void 0===r?{}:r,this.state=new a,this.issue_flow=!1,this.local={handle:n},this.local.attach=i.attach({handle:n,name:t,role:o}),this.local.attach)m(s)||void 0===this.options[s]||(this.local.attach[s]=this.options[s]);this.local.detach=i.detach({handle:n,closed:!0}),this.remote={handle:void 0},this.delivery_count=0,this.credit=0,this.observers=new f;var c=this;v.forEach((function(e){Object.defineProperty(c,e,{get:_(e)})})),Object.defineProperty(this,"error",{get:function(){return this.remote.detach?this.remote.detach.error:void 0}})},p._disconnect=function(){this.state.disconnected(),this.state.was_open||this.remove()},p._reconnect=function(){this.state.reconnect(),this.remote={handle:void 0},this.delivery_count=0,this.credit=0},p.has_credit=function(){return this.credit>0},p.is_receiver=function(){return this.local.attach.role},p.is_sender=function(){return!this.is_receiver()},p._context=function(e){var t=e||{};return this.is_receiver()?t.receiver=this:t.sender=this,this.session._context(t)},p.get_option=function(e,t){return void 0!==this.options[e]?this.options[e]:this.session.get_option(e,t)};var g=function(e,t,n,r){this.init(e,t,n,r,!1),this._draining=!1,this._drained=!1,this.local.attach.initial_delivery_count=0,this.tag=0,this.get_option("autosettle",!0)&&this.observers.on("settled",d);var i=this;this.get_option("treat_modified_as_released",!0)&&this.observers.on("modified",(function(e){i.dispatch("released",e)}))};g.prototype=Object.create(p),g.prototype.constructor=g,g.prototype._get_drain=function(){if(this._draining&&this._drained&&this.credit){while(this.credit)++this.delivery_count,--this.credit;return!0}return!1},g.prototype.set_drained=function(e){this._drained=e,this._draining&&this._drained&&(this.issue_flow=!0)},g.prototype.next_tag=function(){return r.from(new String(this.tag++))},g.prototype.sendable=function(){return Boolean(this.credit&&this.session.outgoing.available())},g.prototype.on_flow=function(e){var t=e.performative;this.credit=t.delivery_count+t.link_credit-this.delivery_count,this._draining=t.drain,this._drained=this.credit>0,this.is_open()&&(this.dispatch("sender_flow",this._context()),this._draining&&this.dispatch("sender_draining",this._context()),this.sendable()&&this.dispatch("sendable",this._context()))},g.prototype.on_transfer=function(){throw Error("got transfer on sending link")},g.prototype.send=function(e,t,n){var r=void 0===n?s.encode(e):e,i=this.session.send(this,t||this.next_tag(),r,n);return 1===this.local.attach.snd_settle_mode&&(i.settled=!0),i};var y=function(e,t,n,r){this.init(e,t,n,r,!0),this.drain=!1,this.set_credit_window(this.get_option("credit_window",1e3)),this.get_option("autoaccept",!0)&&this.observers.on("message",h),1===this.local.attach.rcv_settle_mode&&this.get_option("autosettle",!0)&&this.observers.on("settled",d)};y.prototype=Object.create(p),y.prototype.constructor=y,y.prototype.on_flow=function(e){this.dispatch("receiver_flow",this._context()),e.performative.drain&&(this.credit=e.performative.link_credit,this.delivery_count=e.performative.delivery_count,e.performative.link_credit>0?console.error("ERROR: received flow with drain set, but non zero credit"):this.dispatch("receiver_drained",this._context()))},y.prototype.flow=function(e){e>0&&(this.credit+=e,this.issue_flow=!0,this.connection._register())},y.prototype.add_credit=y.prototype.flow,y.prototype._get_drain=function(){return this.drain},y.prototype.set_credit_window=function(e){if(e>0){var t=new u(e),n=t.update.bind(t);this.observers.on("message",n),this.observers.on("receiver_open",n)}},e.exports={Sender:g,Receiver:y}}).call(this,n("4362"),n("b639").Buffer)},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9152:function(e,t){t.read=function(e,t,n,r,i){var o,s,c=8*i-r-1,a=(1<<c)-1,u=a>>1,d=-7,h=n?i-1:0,l=n?-1:1,f=e[t+h];for(h+=l,o=f&(1<<-d)-1,f>>=-d,d+=c;d>0;o=256*o+e[t+h],h+=l,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=256*s+e[t+h],h+=l,d-=8);if(0===o)o=1-u;else{if(o===a)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,c,a,u=8*o-i-1,d=(1<<u)-1,h=d>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),t+=s+h>=1?l/a:l*Math.pow(2,1-h),t*a>=2&&(s++,a/=2),s+h>=d?(c=0,s=d):s+h>=1?(c=(t*a-1)*Math.pow(2,i),s+=h):(c=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&c,f+=p,c/=256,i-=8);for(s=s<<i|c,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*m}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,c=o,a=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],h=a||d||u;h&&(c=function(e){var t,n,i,c,h=this,l=u&&h.sticky,f=r.call(h),p=h.source,m=0,v=e;return l&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),n=new RegExp("^(?:"+p+")",f)),d&&(n=new RegExp("^"+p+"$(?!\\s)",f)),a&&(t=h.lastIndex),i=o.call(l?n:h,v),l?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:a&&i&&(h.lastIndex=h.global?i.index+i[0].length:t),d&&i&&i.length>1&&s.call(i[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),e.exports=c},"92c6":function(e,t,n){},9411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("ab8d"),i=n("d1bc"),o=n("7fa7"),s=n("2f9e");(function(e){function t(e,t,n){const c=e.connection&&e.connection.options?e.connection.options.id:"";s.contextTranslator("[%s] Translating the context for event: '%s'.",c,n);const a=Object.assign({_context:e},e),u=t instanceof r.Connection?t:t.connection;return a.connection=u,a.container=u.container,t instanceof o.Link?(a.session=t.session,t.type===o.LinkType.receiver&&e.receiver?a.receiver=t:t.type===o.LinkType.sender&&e.sender&&(a.sender=t)):t instanceof i.Session&&(a.session=t),a}e.translate=t})(t.EventContext||(t.EventContext={}))},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=c[s(e)];return n==u||n!=a&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=o.data={},a=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(j){a=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new A(r||[]);return o._invoke=S(e,n,s),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=u;var h="suspendedStart",l="suspendedYield",f="executing",p="completed",m={};function v(){}function _(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,o)&&(y=w);var C=g.prototype=v.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,s,c){var a=d(e[i],e,o);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(a.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function S(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var a=d(e,t,n);if("normal"===a.type){if(r=n.done?p:l,a.arg===m)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=p,n.method="throw",n.arg=a.arg)}}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:t,done:!0}}return _.prototype=C.constructor=g,g.constructor=_,_.displayName=a(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},x(E.prototype),E.prototype[s]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(C),a(C,c,"Generator"),C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],c=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),c=n("7b0b"),a=n("50c4"),u=n("8418"),d=n("65f0"),h=n("1dde"),l=n("b622"),f=n("2d00"),p=l("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",_=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=h("concat"),y=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},b=!_||!g;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,i,o,s=c(this),h=d(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],y(o)){if(i=a(o.length),l+i>m)throw TypeError(v);for(n=0;n<i;n++,l++)n in o&&u(h,l,o[n])}else{if(l>=m)throw TypeError(v);u(h,l++,o)}return h.length=l,h}})},"9ab4":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return c})),n.d(t,"__param",(function(){return a})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return d})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return l})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return _})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return O}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function c(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{a(r.next(e))}catch(t){o(t)}}function c(e){try{a(r["throw"](e))}catch(t){o(t)}}function a(e){e.done?n(e.value):i(e.value).then(s,c)}a((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(e){return function(t){return a([e,t])}}function a(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function l(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(c){i={error:c}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)r[i]=o[s];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{a(i[e](t))}catch(n){h(o[0][3],n)}}function a(e){e.value instanceof g?Promise.resolve(e.value.v).then(u,d):h(o[0][2],e)}function u(e){c("next",e)}function d(e){c("throw",e)}function h(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof p?p(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){t=e[n](t),i(r,o,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),c=n("3f8c"),a=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),c[u]=a,e}},"9f19":function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9fca":function(e,t,n){"use strict";(function(r){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function c(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function u(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG),e}function d(){try{return localStorage}catch(e){}}t.log=c,t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.storage=d(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("165e")(t);var h=e.exports.formatters;h.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},a2e6:function(e,t,n){"use strict";(function(r){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function c(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function u(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG),e}function d(){try{return localStorage}catch(e){}}t.log=c,t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.storage=d(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("3020")(t);var h=e.exports.formatters;h.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},a3d6:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const r={name:"@azure/service-bus",version:"1.1.10"},i=Math.pow(2,31)-1,o="$"},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),c=n("d066"),a=n("4840"),u=n("cdf9"),d=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=a(this,c("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||d(o.prototype,"finally",c("Promise").prototype["finally"])},a893:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return g}));var r,i,o,s=n("9ab4"),c=n("da5a"),a=n.n(c),u=n("3b1f"),d=n("d0c8"),h=n("da72"),l=n("f27a"),f=n("4d96"),p=n("b639");function m(e){return null!=e.contentType&&"string"!==typeof e.contentType?new TypeError("The property 'contentType' on the message must be of type 'string'"):null!=e.label&&"string"!==typeof e.label?new TypeError("The property 'label' on the message must be of type 'string'"):null!=e.to&&"string"!==typeof e.to?new TypeError("The property 'to' on the message must be of type 'string'"):null!=e.replyTo&&"string"!==typeof e.replyTo?new TypeError("The property 'replyTo' on the message must be of type 'string'"):null!=e.replyToSessionId&&"string"!==typeof e.replyToSessionId?new TypeError("The property 'replyToSessionId' on the message must be of type 'string'"):null!=e.timeToLive&&"number"!==typeof e.timeToLive?new TypeError("The property 'timeToLive' on the message must be of type 'number'"):null!=e.sessionId&&"string"!==typeof e.sessionId?new TypeError("The property 'sessionId' on the message must be of type 'string'"):null==e.messageId||"string"===typeof e.messageId||"number"===typeof e.messageId||p["Buffer"].isBuffer(e.messageId)?null==e.correlationId||"string"===typeof e.correlationId||"number"===typeof e.correlationId||p["Buffer"].isBuffer(e.correlationId)?void 0:new TypeError("The property 'correlationId' on the message must be of type string, number or Buffer"):new TypeError("The property 'messageId' on the message must be of type string, number or Buffer")}function v(e){const t={body:e.body,message_annotations:{}};if(null!=e.userProperties&&(t.application_properties=e.userProperties),null!=e.contentType&&(t.content_type=e.contentType),null!=e.sessionId){if(e.sessionId.length>d["f"].maxSessionIdLength)throw new Error("Length of 'sessionId' property on the message cannot be greater than 128 characters.");t.group_id=e.sessionId}if(null!=e.replyTo&&(t.reply_to=e.replyTo),null!=e.to&&(t.to=e.to),null!=e.label&&(t.subject=e.label),null!=e.messageId){if("string"===typeof e.messageId&&e.messageId.length>d["f"].maxMessageIdLength)throw new Error("Length of 'messageId' property on the message cannot be greater than 128 characters.");t.message_id=e.messageId}if(null!=e.correlationId&&(t.correlation_id=e.correlationId),null!=e.replyToSessionId&&(t.reply_to_group_id=e.replyToSessionId),null!=e.timeToLive&&e.timeToLive!==d["f"].maxDurationValue&&(t.ttl=e.timeToLive,t.creation_time=Date.now(),d["f"].maxAbsoluteExpiryTime-t.creation_time>t.ttl?t.absolute_expiry_time=t.creation_time+t.ttl:t.absolute_expiry_time=d["f"].maxAbsoluteExpiryTime),null!=e.partitionKey){if(e.partitionKey.length>d["f"].maxPartitionKeyLength)throw new Error("Length of 'partitionKey' property on the message cannot be greater than 128 characters.");t.message_annotations[d["f"].partitionKey]=e.partitionKey}if(null!=e.viaPartitionKey){if(e.viaPartitionKey.length>d["f"].maxPartitionKeyLength)throw new Error("Length of 'viaPartitionKey' property on the message cannot be greater than 128 characters.");t.message_annotations[d["f"].viaPartitionKey]=e.viaPartitionKey}return null!=e.scheduledEnqueueTimeUtc&&(t.message_annotations[d["f"].scheduledEnqueueTime]=e.scheduledEnqueueTimeUtc),h["message"]("SBMessage to AmqpMessage: %O",t),t}function _(e,t,n){e||(e={body:void 0});const r={body:e.body};null!=e.application_properties&&(r.userProperties=e.application_properties),null!=e.content_type&&(r.contentType=e.content_type),null!=e.group_id&&(r.sessionId=e.group_id),null!=e.reply_to&&(r.replyTo=e.reply_to),null!=e.to&&(r.to=e.to),null!=e.ttl&&(r.timeToLive=e.ttl),null!=e.subject&&(r.label=e.subject),null!=e.message_id&&(r.messageId=e.message_id),null!=e.correlation_id&&(r.correlationId=e.correlation_id),null!=e.reply_to_group_id&&(r.replyToSessionId=e.reply_to_group_id),null!=e.message_annotations&&(null!=e.message_annotations[d["f"].partitionKey]&&(r.partitionKey=e.message_annotations[d["f"].partitionKey]),null!=e.message_annotations[d["f"].viaPartitionKey]&&(r.viaPartitionKey=e.message_annotations[d["f"].viaPartitionKey]),null!=e.message_annotations[d["f"].scheduledEnqueueTime]&&(r.scheduledEnqueueTimeUtc=e.message_annotations[d["f"].scheduledEnqueueTime]));const i={};null!=e.message_annotations&&(null!=e.message_annotations[d["f"].deadLetterSource]&&(i.deadLetterSource=e.message_annotations[d["f"].deadLetterSource]),null!=e.message_annotations[d["f"].enqueueSequenceNumber]&&(i.enqueuedSequenceNumber=e.message_annotations[d["f"].enqueueSequenceNumber]),null!=e.message_annotations[d["f"].sequenceNumber]&&(p["Buffer"].isBuffer(e.message_annotations[d["f"].sequenceNumber])?i.sequenceNumber=a.a.fromBytesBE(e.message_annotations[d["f"].sequenceNumber]):i.sequenceNumber=a.a.fromNumber(e.message_annotations[d["f"].sequenceNumber])),null!=e.message_annotations[d["f"].enqueuedTime]&&(i.enqueuedTimeUtc=new Date(e.message_annotations[d["f"].enqueuedTime])),null!=e.message_annotations[d["f"].lockedUntil]&&(i.lockedUntilUtc=new Date(e.message_annotations[d["f"].lockedUntil]))),null!=e.ttl&&e.ttl>=d["f"].maxDurationValue-i.enqueuedTimeUtc.getTime()?i.expiresAtUtc=new Date(d["f"].maxDurationValue):i.expiresAtUtc=new Date(i.enqueuedTimeUtc.getTime()+e.ttl);const o=Object.assign(Object.assign({_amqpMessage:e,_delivery:t,deliveryCount:e.delivery_count,lockToken:t&&t.tag&&0!==t.tag.length?Object(u["uuid_to_string"])(!0===n?Object(l["g"])("string"===typeof t.tag?p["Buffer"].from(t.tag):t.tag):"string"===typeof t.tag?p["Buffer"].from(t.tag):t.tag):void 0},r),i);return h["message"]("AmqpMessage to ReceivedSBMessage: %O",o),o}(function(e){e[e["peekLock"]=1]="peekLock",e[e["receiveAndDelete"]=2]="receiveAndDelete"})(r||(r={})),function(e){e["complete"]="complete",e["deadletter"]="deadletter",e["abandon"]="abandon",e["defer"]="defer"}(i||(i={})),function(e){e["completed"]="completed",e["defered"]="defered",e["suspended"]="suspended",e["abandoned"]="abandoned",e["renewed"]="renewed"}(o||(o={}));class g{constructor(e,t,n,r){Object.assign(this,_(t,n,r)),this._context=e,t.body&&(this.body=this._context.namespace.dataTransformer.decode(t.body)),this._amqpMessage=t,this.delivery=n}get isSettled(){return this.delivery.remote_settled}complete(){return Object(s["__awaiter"])(this,void 0,void 0,(function*(){return h["message"]("[%s] Completing the message with id '%s'.",this._context.namespace.connectionId,this.messageId),this.settleMessage(o.completed)}))}abandon(e){return Object(s["__awaiter"])(this,void 0,void 0,(function*(){return h["message"]("[%s] Abandoning the message with id '%s'.",this._context.namespace.connectionId,this.messageId),this.settleMessage(o.abandoned,{propertiesToModify:e})}))}defer(e){return Object(s["__awaiter"])(this,void 0,void 0,(function*(){return h["message"]("[%s] Deferring the message with id '%s'.",this._context.namespace.connectionId,this.messageId),this.settleMessage(o.defered,{propertiesToModify:e})}))}deadLetter(e){var t,n;return Object(s["__awaiter"])(this,void 0,void 0,(function*(){h["message"]("[%s] Deadlettering the message with id '%s'.",this._context.namespace.connectionId,this.messageId);const r=Object.assign({},e);delete r.deadLetterErrorDescription,delete r.deadletterReason;const i={propertiesToModify:r,deadLetterReason:null===(t=e)||void 0===t?void 0:t.deadletterReason,deadLetterDescription:null===(n=e)||void 0===n?void 0:n.deadLetterErrorDescription};return this.settleMessage(o.suspended,i)}))}settleMessage(e,t){return Object(s["__awaiter"])(this,void 0,void 0,(function*(){const n=Object(l["c"])(e),r=this._context.requestResponseLockedMessages.has(this.lockToken),i=r?void 0:this._context.getReceiver(this.delivery.link.name,this.sessionId);return r||this.throwIfMessageCannotBeSettled(i,n),!r&&(i&&i.isOpen()||void 0!=this.sessionId)?i.settleMessage(this,n,t):(yield this._context.managementClient.updateDispositionStatus(this.lockToken,e,Object.assign(Object.assign({},t),{sessionId:this.sessionId})),void(r&&this._context.requestResponseLockedMessages.delete(this.lockToken)))}))}clone(){const e={body:this.body,contentType:this.contentType,correlationId:this.correlationId,label:this.label,messageId:this.messageId,partitionKey:this.partitionKey,replyTo:this.replyTo,replyToSessionId:this.replyToSessionId,scheduledEnqueueTimeUtc:this.scheduledEnqueueTimeUtc,sessionId:this.sessionId,timeToLive:this.timeToLive,to:this.to,userProperties:this.userProperties,viaPartitionKey:this.viaPartitionKey};return e}throwIfMessageCannotBeSettled(e,t){let n;if(e&&e.receiveMode!==r.peekLock?n=new Error(Object(f["b"])(t+" the message")):this.delivery.remote_settled?n=new Error(`Failed to ${t} the message as this message is already settled.`):e&&e.isOpen()||void 0==this.sessionId||(n=Object(d["p"])({description:`Failed to ${t} the message as the AMQP link with which the message was received is no longer alive.`,condition:d["g"].SessionLockLostError})),n)throw h["error"]("[%s] An error occured when settling a message with id '%s'. This message was received using the receiver %s which %s currently open: %O",this._context.namespace.connectionId,this.messageId,this.delivery.link.name,this.delivery.link.is_open()?"is":"is not",n),n}}},a991:function(e,t,n){"use strict";var r=n("3022");function i(e){Error.call(this),this.message=e,this.name="ProtocolError"}function o(e){i.call(this,e),this.message=e,this.name="TypeError"}function s(e,t,n){Error.call(this,e),this.message=e,this.name="ConnectionError",this.condition=t,this.description=e,Object.defineProperty(this,"connection",{value:n,enumerable:!1})}r.inherits(i,Error),r.inherits(o,i),r.inherits(s,Error),s.prototype.toJSON=function(){return{type:this.name,code:this.condition,message:this.description}},e.exports={ProtocolError:i,TypeError:o,ConnectionError:s}},ab8d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9ab4"),i=n("2f9e"),o=n("d1bc"),s=n("eb69"),c=n("c893"),a=n("1d38"),u=n("371b"),d=n("c3a9"),h=n("b60c");function l(e){return e&&"object"===typeof e.container&&"object"===typeof e.rheaConnection}class f extends d.Entity{constructor(e){if(super(),e||(e={}),void 0==e.operationTimeoutInSeconds&&(e.operationTimeoutInSeconds=c.defaultOperationTimeoutInSeconds),l(e))this._connection=e.rheaConnection,this.container=e.container;else{const t=e;if(t.webSocketOptions){const e=u.websocket_connect(t.webSocketOptions.webSocket);t.connection_details=e(t.webSocketOptions.url,t.webSocketOptions.protocol,t.webSocketOptions.options)}this._connection=u.create_connection(t),this.container=s.Container.copyFromContainerInstance(this._connection.container)}this.options=this._connection.options,this.options.operationTimeoutInSeconds=e.operationTimeoutInSeconds,this._initializeEventListeners()}get id(){return this._connection.options.id}get properties(){return this._connection.properties}get maxFrameSize(){return this._connection.max_frame_size}get idleTimeout(){return this._connection.idle_time_out}get channelMax(){return this._connection.channel_max}get error(){return this._connection.error}removeSession(e){return e.remove()}open(){return new Promise((e,t)=>{if(this.isOpen())return e(this);{let n,r,o;const s=()=>{clearTimeout(o),this.actionInitiated--,this._connection.removeListener(u.ConnectionEvents.connectionOpen,n),this._connection.removeListener(u.ConnectionEvents.connectionClose,r),this._connection.removeListener(u.ConnectionEvents.disconnected,r)};n=t=>(s(),i.connection("[%s] Resolving the promise with amqp connection.",this.id),e(this)),r=e=>{s();const n=e.error||e.connection.error||Error("Failed to connect");return i.error("[%s] Error occurred while establishing amqp connection: %O",this.id,n),t(n)};const c=()=>{s();const e=`Unable to open the amqp connection "${this.id}" due to operation timeout.`;return i.error("[%s] %s",this.id,e),t(new Error(e))};this._connection.once(u.ConnectionEvents.connectionOpen,n),this._connection.once(u.ConnectionEvents.connectionClose,r),this._connection.once(u.ConnectionEvents.disconnected,r),o=setTimeout(c,1e3*this.options.operationTimeoutInSeconds),i.connection("[%s] Trying to create a new amqp connection.",this.id),this._connection.connect(),this.actionInitiated++}})}close(){return new Promise((e,t)=>{if(i.error("[%s] The connection is open ? -> %s",this.id,this.isOpen()),!this.isOpen())return e();{let n,r,o;const s=()=>{clearTimeout(o),this.actionInitiated--,this._connection.removeListener(u.ConnectionEvents.connectionError,r),this._connection.removeListener(u.ConnectionEvents.connectionClose,n)};n=t=>(s(),i.connection("[%s] Resolving the promise as the connection has been successfully closed.",this.id),e()),r=e=>(s(),i.error("[%s] Error occurred while closing amqp connection: %O.",this.id,e.connection.error),t(e.connection.error));const c=()=>{s();const e=`Unable to close the amqp connection "${this.id}" due to operation timeout.`;return i.error("[%s] %s",this.id,e),t(new Error(e))};this._connection.once(u.ConnectionEvents.connectionClose,n),this._connection.once(u.ConnectionEvents.connectionError,r),o=setTimeout(c,1e3*this.options.operationTimeoutInSeconds),this._connection.close(),this.actionInitiated++}})}isOpen(){let e=!1;return this._connection&&this._connection.is_open&&this._connection.is_open()&&(e=!0),e}removeAllSessions(){this._connection&&this._connection.remove_all_sessions()}isRemoteOpen(){return this._connection.is_remote_open()}getError(){return this._connection.get_error()}getPeerCertificate(){return this._connection.get_peer_certificate()}getTlsSocket(){return this._connection.get_tls_socket()}wasCloseInitiated(){return this._connection.is_closed()}createSession(){return new Promise((e,t)=>{const n=this._connection.create_session(),r=new o.Session(this,n);let s,c,a;r.actionInitiated++;const d=()=>{clearTimeout(a),r.actionInitiated--,n.removeListener(u.SessionEvents.sessionOpen,s),n.removeListener(u.SessionEvents.sessionClose,c)};s=t=>(d(),i.session("[%s] Resolving the promise with amqp session.",this.id),e(r)),c=e=>(d(),i.error("[%s] Error occurred while establishing a session over amqp connection: %O.",this.id,e.session.error),t(e.session.error));const l=()=>{d();const e="Unable to create the amqp session due to operation timeout.";return i.error("[%s] %s",this.id,e),t(new h.OperationTimeoutError(e))};n.once(u.SessionEvents.sessionOpen,s),n.once(u.SessionEvents.sessionClose,c),i.session("[%s] Calling amqp session.begin().",this.id),a=setTimeout(l,1e3*this.options.operationTimeoutInSeconds),n.begin()})}createSender(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e&&e.session&&e.session.createSender)return e.session.createSender(e);const t=yield this.createSession();return t.createSender(e)}))}createReceiver(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e&&e.session&&e.session.createReceiver)return e.session.createReceiver(e);const t=yield this.createSession();return t.createReceiver(e)}))}createRequestResponseLink(e,t,n){return r.__awaiter(this,void 0,void 0,(function*(){if(!e)throw new Error("Please provide sender options.");if(!t)throw new Error("Please provide receiver options.");const r=n||(yield this.createSession()),[o,s]=yield Promise.all([r.createSender(e),r.createReceiver(t)]);return i.connection("[%s] Successfully created the sender and receiver links on the same session.",this.id),{session:r,sender:o,receiver:s}}))}_initializeEventListeners(){for(const e in u.ConnectionEvents)this._connection.on(u.ConnectionEvents[e],t=>{const n={rheaContext:t,emitter:this,eventName:u.ConnectionEvents[e],emitterType:"connection",connectionId:this.id};a.emitEvent(n)});this._connection.on(u.SenderEvents.senderError,e=>{const t={rheaContext:e,emitter:this,eventName:u.SenderEvents.senderError,emitterType:"connection",connectionId:this.id};a.emitEvent(t)}),this._connection.on(u.SenderEvents.senderClose,e=>{const t={rheaContext:e,emitter:this,eventName:u.SenderEvents.senderClose,emitterType:"connection",connectionId:this.id};a.emitEvent(t)}),this._connection.on(u.ReceiverEvents.receiverError,e=>{const t={rheaContext:e,emitter:this,eventName:u.ReceiverEvents.receiverError,emitterType:"connection",connectionId:this.id};a.emitEvent(t)}),this._connection.on(u.ReceiverEvents.receiverClose,e=>{const t={rheaContext:e,emitter:this,eventName:u.ReceiverEvents.receiverClose,emitterType:"connection",connectionId:this.id};a.emitEvent(t)}),this._connection.on(u.SessionEvents.sessionError,e=>{const t={rheaContext:e,emitter:this,eventName:u.SessionEvents.sessionError,emitterType:"connection",connectionId:this.id};a.emitEvent(t)}),this._connection.on(u.SessionEvents.sessionClose,e=>{const t={rheaContext:e,emitter:this,eventName:u.SessionEvents.sessionClose,emitterType:"connection",connectionId:this.id};a.emitEvent(t)}),"function"===typeof this._connection.eventNames&&i.eventHandler("[%s] rhea-promise 'connection' object is listening for events: %o emitted by rhea's 'connection' object.",this.id,this._connection.eventNames())}}t.Connection=f},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ac50:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r,i=n("9ab4"),o=n("da72"),s=n("3c43"),c=n("a3d6"),a=n("d0c8"),u=n("3b1f");(function(t){function n(e,n,r){r||(r={});const s={config:e,tokenProvider:n,dataTransformer:r.dataTransformer,isEntityPathRequired:!1,connectionProperties:{product:"MSJSClient",userAgent:t.userAgent,version:c["c"].version}},d=a["e"].create(s);let h,l;d.clientContexts={},Object.assign(d,{isConnectionClosing(){return Boolean(!this.connection.isOpen()&&this.connection.isRemoteOpen())},readyToOpenLink(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){o["error"](`[${this.connectionId}] Waiting until the connection is ready to open link.`),this.isConnectionClosing()&&(yield this.waitForDisconnectedEvent()),yield this.waitForConnectionReset(),o["error"](`[${this.connectionId}] Connection is ready to open link.`)}))},waitForDisconnectedEvent(){return new Promise(e=>{o["error"](`[${this.connectionId}] Attempting to reinitialize connection but the connection is in the process of closing. Waiting for the disconnect event before continuing.`),this.connection.once(u["ConnectionEvents"].disconnected,e)})},waitForConnectionReset(){return l||Promise.resolve()}});const f=e=>{d.wasConnectionCloseCalled=!1,o["connectionCtxt"]("[%s] setting 'wasConnectionCloseCalled' property of connection context to %s.",d.connection.id,d.wasConnectionCloseCalled)},p=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(l)return;l=new Promise(e=>{h=e});const t=e.connection&&e.connection.error?e.connection.error:void 0;t&&o["error"]("[%s] Error (context.connection.error) occurred on the amqp connection: %O",d.connection.id,t);const n=e.error;n&&o["error"]("[%s] Error (context.error) occurred on the amqp connection: %O",d.connection.id,n);const r={wasConnectionCloseCalled:d.wasConnectionCloseCalled,numClients:Object.keys(d.clientContexts).length};d.connection.removeAllSessions(),yield d.cbsSession.close();for(const e of Object.keys(d.clientContexts)){const t=d.clientContexts[e];t.managementClient&&(yield t.managementClient.close())}if(yield _(d),h(),l=void 0,o["error"]("[%s] state: %O",d.connectionId,r),!r.wasConnectionCloseCalled&&r.numClients){o["error"]("[%s] connection.close() was not called from the sdk and there were some clients. We should reconnect.",d.connection.id),yield Object(a["m"])(a["f"].connectionReconnectDelay);for(const e of Object.keys(d.clientContexts)){const r=d.clientContexts[e];o["error"]("[%s] calling detached on client '%s'.",d.connection.id,r.clientId),r.onDetached(t||n).catch(e=>{o["error"]("[%s] An error occurred while reconnecting the sender '%s': %O.",d.connection.id,r.clientId,e)})}}})),m=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){e.connection&&e.connection.error&&o["error"]("[%s] Error (context.connection.error) occurred on the amqp connection: %O",d.connection.id,e.connection&&e.connection.error),e.error&&o["error"]("[%s] Error (context.error) occurred on the amqp connection: %O",d.connection.id,e.error)})),v=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){e.connection&&e.connection.error&&o["error"]("[%s] Error (context.connection.error) occurred on the amqp connection: %O",d.connection.id,e.connection&&e.connection.error),e.error&&o["error"]("[%s] Error (context.error) occurred on the amqp connection: %O",d.connection.id,e.error)}));function _(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=e.connectionId;try{yield y(e)}catch(n){o["error"](`[${e.connectionId}] There was an error closing the connection before reconnecting: %O`,n)}e.refreshConnection(),g(e.connection),o["error"](`The connection "${t}" has been updated to "${e.connectionId}".`)}))}function g(e){e.on(u["ConnectionEvents"].connectionOpen,f),e.on(u["ConnectionEvents"].disconnected,p),e.on(u["ConnectionEvents"].protocolError,m),e.on(u["ConnectionEvents"].error,v)}function y(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){e.connection.removeListener(u["ConnectionEvents"].connectionOpen,f),e.connection.removeListener(u["ConnectionEvents"].disconnected,p),e.connection.removeListener(u["ConnectionEvents"].protocolError,m),e.connection.removeListener(u["ConnectionEvents"].error,v),yield e.connection.close()}))}return g(d.connection),o["connectionCtxt"]("[%s] Created connection context successfully.",d.connectionId),d}t.userAgent=`azsdk-js-azureservicebus/${c["c"].version} (NODE-VERSION ${e.version}; ${s["type"]()} ${s["release"]()})`,t.create=n})(r||(r={}))}).call(this,n("4362"))},ac86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("7fa7");class i extends r.Link{constructor(e,t,n){super(r.LinkType.receiver,e,t,n)}get drain(){return this._link.drain}set drain(e){this._link.drain=e}addCredit(e){this._link.add_credit(e)}setCreditWindow(e){this._link.set_credit_window(e)}}t.Receiver=i},ad0a:function(e,t,n){"use strict";var r=n("1c90"),i={},o={};function s(e){var t=r.define_composite(e);i[e.name]=t.create,o[Number(t.descriptor.numeric).toString(10)]=t,o[t.descriptor.symbolic]=t}i.unwrap=function(e){if(e&&e.descriptor){var t=o[e.descriptor.value];if(t)return new t(e.value);console.warn("Unknown terminus: "+e.descriptor)}return null},s({name:"source",code:40,fields:[{name:"address",type:"string"},{name:"durable",type:"uint",default_value:0},{name:"expiry_policy",type:"symbol",default_value:"session-end"},{name:"timeout",type:"uint",default_value:0},{name:"dynamic",type:"boolean",default_value:!1},{name:"dynamic_node_properties",type:"symbolic_map"},{name:"distribution_mode",type:"symbol"},{name:"filter",type:"symbolic_map"},{name:"default_outcome",type:"*"},{name:"outcomes",type:"symbol",multiple:!0},{name:"capabilities",type:"symbol",multiple:!0}]}),s({name:"target",code:41,fields:[{name:"address",type:"string"},{name:"durable",type:"uint",default_value:0},{name:"expiry_policy",type:"symbol",default_value:"session-end"},{name:"timeout",type:"uint",default_value:0},{name:"dynamic",type:"boolean",default_value:!1},{name:"dynamic_node_properties",type:"symbolic_map"},{name:"capabilities",type:"symbol",multiple:!0}]}),e.exports=i},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,c={},a=function(e){throw e};e.exports=function(e,t){if(o(c,e))return c[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,d=o(t,0)?t[0]:a,h=o(t,1)?t[1]:void 0;return c[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,d,h)}))}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("e163"),c=n("9112"),a=n("5135"),u=n("b622"),d=n("c430"),h=u("iterator"),l=!1,f=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):l=!0),void 0==r&&(r={}),d||a(r,h)||c(r,h,f),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,c=/^\s*function ([^ (]*)/,a="name";r&&!(a in o)&&i(o,a,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(e){return""}}})},b575:function(e,t,n){var r,i,o,s,c,a,u,d,h=n("da84"),l=n("06cf").f,f=n("2cf4").set,p=n("1cdc"),m=n("605d"),v=h.MutationObserver||h.WebKitMutationObserver,_=h.document,g=h.process,y=h.Promise,b=l(h,"queueMicrotask"),w=b&&b.value;w||(r=function(){var e,t;m&&(e=g.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},!p&&!m&&v&&_?(c=!0,a=_.createTextNode(""),new v(r).observe(a,{characterData:!0}),s=function(){a.data=c=!c}):y&&y.resolve?(u=y.resolve(void 0),d=u.then,s=function(){d.call(u,r)}):s=m?function(){g.nextTick(r)}:function(){f.call(h,r)}),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b60c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e),this.name="OperationTimeoutError",this.condition="amqp:operation-timeout",this.description=e}}t.OperationTimeoutError=r},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),c=n("4930"),a=n("fdbf"),u=i("wks"),d=r.Symbol,h=a?d:d&&d.withoutSetter||s;e.exports=function(e){return o(u,e)||(c&&o(d,e)?u[e]=d[e]:u[e]=h("Symbol."+e)),u[e]}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function c(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(c()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return d(this,e,t,n)}function d(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,r):"string"===typeof t?p(e,t,n):_(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return h(t),t<=0?a(e,t):void 0!==n?"string"===typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}function f(e,t){if(h(t),e=a(e,t<0?0:0|g(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=a(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function m(e,t){var n=t.length<0?0:0|g(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=m(e,t),e}function _(e,t){if(u.isBuffer(t)){var n=0|g(t.length);return e=a(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?a(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),u.alloc(+e)}function b(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(r)return J(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return q(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function C(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function x(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var o,s=1,c=e.length,a=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,c/=2,a/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var d=-1;for(o=n;o<c;o++)if(u(e,o)===u(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===a)return d*s}else-1!==d&&(o-=o-d),d=-1}else for(n+a>c&&(n=c-a),o=n;o>=0;o--){for(var h=!0,l=0;l<a;l++)if(u(e,o+l)!==u(t,l)){h=!1;break}if(h)return o}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var c=parseInt(t.substr(2*s,2),16);if(isNaN(c))return s;e[n+s]=c}return s}function O(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}function k(e,t,n,r){return ee(Q(t),e,n,r)}function I(e,t,n,r){return k(e,t,n,r)}function A(e,t,n,r){return ee(Z(t),e,n,r)}function T(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,c,a,u=e[i],d=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(d=u);break;case 2:o=e[i+1],128===(192&o)&&(a=(31&u)<<6|63&o,a>127&&(d=a));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(a=(15&u)<<12|(63&o)<<6|63&s,a>2047&&(a<55296||a>57343)&&(d=a));break;case 4:o=e[i+1],s=e[i+2],c=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&c)&&(a=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&c,a>65535&&a<1114112&&(d=a))}null===d?(d=65533,h=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=h}return M(r)}t.Buffer=u,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=c(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return d(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return l(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):w.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,c=Math.min(o,s),a=this.slice(r,i),d=e.slice(t,n),h=0;h<c;++h)if(a[h]!==d[h]){o=a[h],s=d[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return x(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return x(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function M(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=L));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function q(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function $(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function H(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return o||H(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function Y(e,t,n,r,o){return o||H(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||$(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||$(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||$(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||$(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||$(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||$(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||$(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;U(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;U(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=0,s=1,c=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===c&&0!==this[t+o-1]&&(c=1),this[t+o]=(e/s>>0)-c&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=n-1,s=1,c=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===c&&0!==this[t+o+1]&&(c=1),this[t+o]=(e/s>>0)-c&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return Y(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return Y(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:J(new u(e,r).toString()),c=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%c]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function V(e){if(e=W(e).replace(K,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function X(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Z(e){return r.toByteArray(V(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),c=n("65f0"),a=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,d=4==e,h=6==e,l=5==e||h;return function(f,p,m,v){for(var _,g,y=o(f),b=i(y),w=r(p,m,3),C=s(b.length),x=0,E=v||c,S=t?E(f,C):n?E(f,0):void 0;C>x;x++)if((l||x in b)&&(_=b[x],g=w(_,x,y),e))if(t)S[x]=g;else if(g)switch(e){case 3:return!0;case 5:return _;case 6:return x;case 2:a.call(S,_)}else if(d)return!1;return h?-1:u||d?d:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},bae7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("3b1f"),i=n("39ea"),o=n("0454"),s=n.n(o),c=n("b639");class a{encode(e){let t;if(i["g"]("[encode] The given message body that needs to be encoded is: ",e),s()(e))t=r["message"].data_section(e);else{void 0===e&&(e=null);try{const n=JSON.stringify(e);t=r["message"].data_section(c["Buffer"].from(n,"utf8"))}catch(n){const t="An error occurred while executing JSON.stringify() on the given body "+e+(n?n.stack:JSON.stringify(n));throw i["b"]("[encode] "+t),new Error(t)}}return i["g"]("[encode] The encoded message body is: %O.",t),t}decode(e){let t=e;try{i["g"]("[decode] Received message body for decoding is: %O",e),e.content&&s()(e.content)&&(t=e.content);try{const e=t.toString("utf8");t=JSON.parse(e)}catch(n){i["b"]("[decode] An error occurred while trying JSON.parse() on the received body. The error is %O",n)}}catch(n){i["b"]("[decode] An error occurred while decoding the received message body. The error is: %O",n)}return i["g"]("[decode] The decoded message body is: %O",t),t}}},bb0f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var r,i=n("9ab4"),o=n("5f8b"),s=n("58f2"),c=n("39ea"),a=n("4c8d");function u(){return Promise.resolve(window.navigator.onLine)}function d(e){let t=!1;return e&&"number"===typeof e.id&&"boolean"===typeof e.settled&&"boolean"===typeof e.remote_settled&&"number"===typeof e.format&&(t=!0),t}function h(e){if(!e.operation)throw new TypeError("Missing 'operation' in retry configuration");if(!e.connectionId)throw new TypeError("Missing 'connectionId' in retry configuration");if(!e.operationType)throw new TypeError("Missing 'operationType' in retry configuration")}function l(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){let t,n;h(e),void 0==e.times&&(e.times=a["defaultRetryAttempts"]),void 0==e.delayInSeconds&&(e.delayInSeconds=a["defaultDelayBetweenRetriesInSeconds"]);let r=!1;for(let a=0;a<e.times;a++){const h=a+1;c["f"]("[%s] Retry for '%s', attempt number: %d",e.connectionId,e.operationType,h);try{n=yield e.operation(),r=!0,c["f"]("[%s] Success for '%s', after attempt number: %d.",e.connectionId,e.operationType,h),n&&!d(n)&&c["f"]("[%s] Success result for '%s': %O",e.connectionId,e.operationType,n);break}catch(i){if(i.translated||(i=Object(o["e"])(i)),!i.retryable&&"ServiceCommunicationError"===i.name&&e.connectionHost){const t=yield u(e.connectionHost);t||(i.name="ConnectionLostError",i.retryable=!0)}if(t=i,c["b"]("[%s] Error occured for '%s' in attempt number %d: %O",e.connectionId,e.operationType,h,i),t&&t.retryable){c["b"]("[%s] Sleeping for %d seconds for '%s'.",e.connectionId,e.delayInSeconds,e.operationType),yield Object(s["c"])(1e3*e.delayInSeconds);continue}break}}if(r)return n;throw t}))}(function(e){e["cbsAuth"]="cbsAuth",e["connection"]="connection",e["management"]="management",e["receiverLink"]="receiverLink",e["senderLink"]="senderLink",e["sendMessage"]="sendMessage",e["session"]="session"})(r||(r={}))},bc90:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,i=n("9ab4"),o=n("da72"),s=n("ac50");(function(e){e["QueueClient"]="QueueClient",e["TopicClient"]="TopicClient",e["SubscriptionClient"]="SubscriptionClient"})(r||(r={}));var c=n("3b1f"),a=n("d0c8"),u=n("a893"),d=n("f27a");class h{constructor(e,t,n){this.isConnecting=!1,n||(n={}),this._context=t,this.address=n.address||"",this.audience=n.audience||"",this.name=Object(d["e"])(e)}_negotiateClaim(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){yield this._context.namespace.readyToOpenLink(),o["link"]("[%s] Acquiring cbs lock: '%s' for creating the cbs session while creating the %s: '%s' with address: '%s'.",this._context.namespace.connectionId,this._context.namespace.cbsSession.cbsLock,this._type,this.name,this.address),yield a["l"].acquire(this._context.namespace.cbsSession.cbsLock,()=>this._context.namespace.cbsSession.init());const t=yield this._context.namespace.tokenProvider.getToken(this.audience);o["link"]("[%s] %s: calling negotiateClaim for audience '%s'.",this._context.namespace.connectionId,this._type,this.audience),o["link"]("[%s] Acquiring cbs lock: '%s' for cbs auth for %s: '%s' with address '%s'.",this._context.namespace.connectionId,this._context.namespace.negotiateClaimLock,this._type,this.name,this.address),yield a["l"].acquire(this._context.namespace.negotiateClaimLock,()=>this._context.namespace.cbsSession.negotiateClaim(this.audience,t)),o["link"]("[%s] Negotiated claim for %s '%s' with with address: %s",this._context.namespace.connectionId,this._type,this.name,this.address),e&&(yield this._ensureTokenRenewal())}))}_ensureTokenRenewal(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._tokenRenewalTimer&&clearTimeout(this._tokenRenewalTimer);const e=this._context.namespace.tokenProvider.tokenValidTimeInSeconds,t=this._context.namespace.tokenProvider.tokenRenewalMarginInSeconds,n=1e3*(e-t);this._tokenRenewalTimer=setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{yield this._negotiateClaim(!0)}catch(e){o["error"]("[%s] %s '%s' with address %s, an error occurred while renewing the token: %O",this._context.namespace.connectionId,this._type,this.name,this.address,e)}})),n),o["link"]("[%s] %s '%s' with address %s, has next token renewal in %d seconds @(%s).",this._context.namespace.connectionId,this._type,this.name,this.address,n/1e3,new Date(Date.now()+n).toString())}))}_closeLink(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(clearTimeout(this._tokenRenewalTimer),e)try{yield e.close(),o["link"]("[%s] %s '%s' with address '%s' closed.",this._context.namespace.connectionId,this._type,this.name,this.address)}catch(t){o["error"]("[%s] An error occurred while closing the %s '%s': %O",this._context.namespace.connectionId,this._type,this.name,this.address,t)}}))}get _type(){let e="LinkEntity";return this.constructor&&this.constructor.name&&(e=this.constructor.name),e}}var l,f,p=n("4d96");class m extends h{constructor(e){super(e.entityPath,e,{address:e.entityPath,audience:`${e.namespace.config.endpoint}${e.entityPath}`}),this.openLock="sender-"+Object(c["generate_uuid"])(),this._onAmqpError=e=>{const t=e.sender&&e.sender.error;if(t){const e=Object(a["p"])(t);o["error"]("[%s] An error occurred for sender '%s': %O.",this._context.namespace.connectionId,this.name,e)}},this._onSessionError=e=>{const t=e.session&&e.session.error;if(t){const e=Object(a["p"])(t);o["error"]("[%s] An error occurred on the session of sender '%s': %O.",this._context.namespace.connectionId,this.name,e)}},this._onAmqpClose=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._sender||e.sender,n=e.sender&&e.sender.error;n&&o["error"]("[%s] 'sender_close' event occurred for sender '%s' with address '%s'. The associated error is: %O",this._context.namespace.connectionId,this.name,this.address,n),t&&!t.isItselfClosed()?this.isConnecting?o["error"]("[%s] 'sender_close' event occurred on the sender '%s' with address '%s' and the sdk did not initate this. Moreover the sender is already re-connecting. Hence not calling detached from the _onAmqpClose() handler.",this._context.namespace.connectionId,this.name,this.address):(o["error"]("[%s] 'sender_close' event occurred on the sender '%s' with address '%s' and the sdk did not initiate this. The sender is not reconnecting. Hence, calling detached from the _onAmqpClose() handler.",this._context.namespace.connectionId,this.name,this.address),yield this.onDetached(n)):o["error"]("[%s] 'sender_close' event occurred on the sender '%s' with address '%s' because the sdk initiated it. Hence not calling detached from the _onAmqpClose() handler.",this._context.namespace.connectionId,this.name,this.address)})),this._onSessionClose=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._sender||e.sender,n=e.session&&e.session.error;n&&o["error"]("[%s] 'session_close' event occurred for sender '%s' with address '%s'. The associated error is: %O",this._context.namespace.connectionId,this.name,this.address,n),t&&!t.isSessionItselfClosed()?this.isConnecting?o["error"]("[%s] 'session_close' event occurred on the session of sender '%s' with address '%s' and the sdk did not initiate this. Moreover the sender is already re-connecting. Hence not calling detached from the _onSessionClose() handler.",this._context.namespace.connectionId,this.name,this.address):(o["error"]("[%s] 'session_close' event occurred on the session of sender '%s' with address '%s' and the sdk did not initiate this. Hence calling detached from the _onSessionClose() handler.",this._context.namespace.connectionId,this.name,this.address),yield this.onDetached(n)):o["error"]("[%s] 'session_close' event occurred on the session of sender '%s' with address '%s' because the sdk initiated it. Hence not calling detached from the _onSessionClose() handler.",this._context.namespace.connectionId,this.name,this.address)}))}_deleteFromCache(){this._sender=void 0,delete this._context.sender,o["error"]("[%s] Deleted the sender '%s' with address '%s' from the client cache.",this._context.namespace.connectionId,this.name,this.address)}_createSenderOptions(e){e.newName&&(this.name=Object(d["e"])(this._context.entityPath));const t={name:this.name,target:{address:this.address},onError:this._onAmqpError,onClose:this._onAmqpClose,onSessionError:this._onSessionError,onSessionClose:this._onSessionClose};return o["sender"]("Creating sender with options: %O",t),t}_trySend(e,t){const n=()=>new Promise((n,r)=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{let s;if(yield this.open(),o["sender"]("[%s] Sender '%s', credit: %d available: %d",this._context.namespace.connectionId,this.name,this._sender.credit,this._sender.session.outgoing.available()),this._sender.sendable()||(o["sender"]("[%s] Sender '%s', waiting for 1 second for sender to become sendable",this._context.namespace.connectionId,this.name),yield Object(a["m"])(1e3),o["sender"]("[%s] Sender '%s' after waiting for a second, credit: %d available: %d",this._context.namespace.connectionId,this.name,this._sender.credit,this._sender.session.outgoing.available())),this._sender.sendable()){let u,d,h,l;const f=()=>{clearTimeout(s),this._sender&&(this._sender.removeListener(c["SenderEvents"].rejected,u),this._sender.removeListener(c["SenderEvents"].accepted,l),this._sender.removeListener(c["SenderEvents"].released,d),this._sender.removeListener(c["SenderEvents"].modified,h))};l=e=>{f(),o["sender"]("[%s] Sender '%s', got event accepted.",this._context.namespace.connectionId,this.name),n()},u=e=>{f(),o["error"]("[%s] Sender '%s', got event rejected.",this._context.namespace.connectionId,this.name);const t=Object(a["p"])(e.delivery.remote_state.error);r(t)},d=e=>{let t;f(),o["error"]("[%s] Sender '%s', got event released.",this._context.namespace.connectionId,this.name),t=e.delivery.remote_state.error?Object(a["p"])(e.delivery.remote_state.error):new Error(`[${this._context.namespace.connectionId}]Sender '${this.name}', received a release disposition.Hence we are rejecting the promise.`),r(t)},h=e=>{let t;f(),o["error"]("[%s] Sender '%s', got event modified.",this._context.namespace.connectionId,this.name),t=e.delivery.remote_state.error?Object(a["p"])(e.delivery.remote_state.error):new Error(`[${this._context.namespace.connectionId}]Sender "${this.name}", received a modified disposition.Hence we are rejecting the promise.`),r(t)};const p=()=>{f();const e=`[${this._context.namespace.connectionId}] Sender "${this.name}" with address "${this.address}", was not able to send the message right now, due to operation timeout.`;o["error"](e);const t={condition:a["g"].ServiceUnavailableError,description:e};return r(Object(a["p"])(t))};this._sender.on(c["SenderEvents"].accepted,l),this._sender.on(c["SenderEvents"].rejected,u),this._sender.on(c["SenderEvents"].modified,h),this._sender.on(c["SenderEvents"].released,d),s=setTimeout(p,1e3*a["f"].defaultOperationTimeoutInSeconds);try{const n=this._sender.send(e,void 0,t?2147563264:0);o["sender"]("[%s] Sender '%s', sent message with delivery id: %d",this._context.namespace.connectionId,this.name,n.id)}catch(i){return f(),r(i)}}else{const e=`[${this._context.namespace.connectionId}] Sender "${this.name}", cannot send the message right now. Please try later.`;o["error"](e);const t={condition:a["g"].SenderBusyError,description:e};r(Object(a["p"])(t))}}catch(s){return r(s)}}))),r=Object(a["n"])(1,4),s={operation:n,connectionId:this._context.namespace.connectionId,operationType:a["j"].sendMessage,times:a["f"].defaultRetryAttempts,delayInSeconds:a["f"].defaultDelayBetweenOperationRetriesInSeconds+r};return Object(a["o"])(s)}open(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(!this.isOpen())return o["sender"]("Acquiring lock %s for initializing the session, sender and possibly the connection.",this.openLock),a["l"].acquire(this.openLock,()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{this.isOpen()||(o["error"]("[%s] The sender '%s' with address '%s' is not open and is not currently establishing itself. Hence let's try to connect.",this._context.namespace.connectionId,this.name,this.address),this.isConnecting=!0,yield this._negotiateClaim(),o["error"]("[%s] Trying to create sender '%s'...",this._context.namespace.connectionId,this.name),e||(e=this._createSenderOptions({})),this._sender=yield this._context.namespace.connection.createSender(e),this.isConnecting=!1,o["error"]("[%s] Sender '%s' with address '%s' has established itself.",this._context.namespace.connectionId,this.name,this.address),this._sender.setMaxListeners(1e3),o["error"]("[%s] Promise to create the sender resolved. Created sender with name: %s",this._context.namespace.connectionId,this.name),o["error"]("[%s] Sender '%s' created with sender options: %O",this._context.namespace.connectionId,this.name,e),this._sender||(this._context.sender=this),yield this._ensureTokenRenewal())}catch(t){throw t=Object(a["p"])(t),o["error"]("[%s] An error occurred while creating the sender %s",this._context.namespace.connectionId,this.name,t),t}})))}))}onDetached(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{const t=this._sender&&this._sender.isItselfClosed();yield this._closeLink(this._sender);let n=!1;if(e&&!t){const t=Object(a["p"])(e);t.retryable?(n=!0,o["error"]("[%s] close() method of Sender '%s' with address '%s' was not called. There was an accompanying error an it is retryable. This is a candidate for re-establishing the sender link.",this._context.namespace.connectionId,this.name,this.address)):o["error"]("[%s] close() method of Sender '%s' with address '%s' was not called. There was an accompanying error and it is NOT retryable. Hence NOT re-establishing the sender link.",this._context.namespace.connectionId,this.name,this.address)}else if(t){const n={wasCloseInitiated:t,senderError:e,_sender:this._sender};o["error"]("[%s] Something went wrong. State of sender '%s' with address '%s' is: %O",this._context.namespace.connectionId,this.name,this.address,n)}else n=!0,o["error"]("[%s] close() method of Sender '%s' with address '%s' was not called. There was no accompanying error as well. This is a candidate for re-establishing the sender link.",this._context.namespace.connectionId,this.name,this.address);if(n){const e=this._createSenderOptions({newName:!0}),t={operation:()=>this.open(e),connectionId:this._context.namespace.connectionId,operationType:a["j"].senderLink,times:a["f"].defaultConnectionRetryAttempts,connectionHost:this._context.namespace.config.host,delayInSeconds:15};yield Object(a["o"])(t)}}catch(t){o["error"]("[%s] An error occurred while processing detached() of Sender '%s' with address '%s': %O",this._context.namespace.connectionId,this.name,this.address,t)}}))}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this._sender){o["sender"]("[%s] Closing the Sender for the entity '%s'.",this._context.namespace.connectionId,this._context.entityPath);const e=this._sender;this._deleteFromCache(),yield this._closeLink(e)}}))}isOpen(){const e=this._sender&&this._sender.isOpen();return o["error"]("[%s] Sender '%s' with address '%s' is open? -> %s",this._context.namespace.connectionId,this.name,this.address,e),e}send(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["h"])(this._context.namespace);try{const n=Object(u["g"])(e);let r;n.body=this._context.namespace.dataTransformer.encode(e.body);try{r=c["message"].encode(n)}catch(t){if(t instanceof TypeError||"TypeError"===t.name)throw Object(u["f"])(e)||t;throw t}return o["sender"]("[%s] Sender '%s', trying to send message: %O",this._context.namespace.connectionId,this.name,e),yield this._trySend(r)}catch(n){throw o["error"]("[%s] Sender '%s': An error occurred while sending the message: %O\nError: %O",this._context.namespace.connectionId,this.name,e,n),n}}))}sendBatch(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["h"])(this._context.namespace);try{Array.isArray(e)||(e=[e]),o["sender"]("[%s] Sender '%s', trying to send Message[]: %O",this._context.namespace.connectionId,this.name,e);const n=[],r=[];for(let o=0;o<e.length;o++){const i=Object(u["g"])(e[o]);i.body=this._context.namespace.dataTransformer.encode(e[o].body),n[o]=i;try{r[o]=c["message"].encode(i)}catch(t){if(t instanceof TypeError||"TypeError"===t.name)throw Object(u["f"])(e[o])||t;throw t}}const i={body:c["message"].data_sections(r)};n[0].message_annotations&&(i.message_annotations=n[0].message_annotations),n[0].application_properties&&(i.application_properties=n[0].application_properties);for(const e of c["messageProperties"])n[0][e]&&(i[e]=n[0][e]);const s=c["message"].encode(i);return o["sender"]("[%s]Sender '%s', sending encoded batch message.",this._context.namespace.connectionId,this.name,s),yield this._trySend(s,!0)}catch(n){throw o["error"]("[%s] Sender '%s': An error occurred while sending the messages: %O\nError: %O",this._context.namespace.connectionId,this.name,e,n),n}}))}static create(e){return Object(p["h"])(e.namespace),e.sender||(e.sender=new m(e)),e.sender}}class v{constructor(e){this._isClosed=!1,Object(p["h"])(e.namespace),this._context=e}_throwIfSenderOrConnectionClosed(){if(Object(p["h"])(this._context.namespace),this.isClosed){const e=Object(p["f"])(this._context.entityPath,this._context.clientType,this._context.isClosed),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}}get isClosed(){return this._isClosed||this._context.isClosed}send(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._throwIfSenderOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"message",e);const t=m.create(this._context);return t.send(e)}))}open(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfSenderOrConnectionClosed(),m.create(this._context).open()}))}sendBatch(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._throwIfSenderOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"messages",e),Array.isArray(e)||(e=[e]);const t=m.create(this._context);return t.sendBatch(e)}))}scheduleMessage(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._throwIfSenderOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"scheduledEnqueueTimeUtc",e),Object(p["j"])(this._context.namespace.connectionId,"message",t);const n=[t],r=yield this._context.managementClient.scheduleMessages(e,n);return r[0]}))}scheduleMessages(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfSenderOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"scheduledEnqueueTimeUtc",e),Object(p["j"])(this._context.namespace.connectionId,"messages",t),Array.isArray(t)||(t=[t]),this._context.managementClient.scheduleMessages(e,t)}))}cancelScheduledMessage(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfSenderOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"sequenceNumber",e),Object(p["k"])(this._context.namespace.connectionId,"sequenceNumber",e),this._context.managementClient.cancelScheduledMessages([e])}))}cancelScheduledMessages(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfSenderOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"sequenceNumbers",e),Array.isArray(e)||(e=[e]),Object(p["l"])(this._context.namespace.connectionId,"sequenceNumbers",e),this._context.managementClient.cancelScheduledMessages(e)}))}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{this._isClosed=!0,this._context.namespace.connection&&this._context.namespace.connection.isOpen()&&this._context.sender&&(yield this._context.sender.close())}catch(e){throw o["error"]("[%s] An error occurred while closing the Sender for %s: %O",this._context.namespace.connectionId,this._context.entityPath,e),e}}))}}(function(e){e["batching"]="batching",e["streaming"]="streaming"})(l||(l={}));class _ extends h{constructor(e,t,n){super(e.entityPath,e,{address:e.entityPath,audience:`${e.namespace.config.endpoint}${e.entityPath}`}),this.maxConcurrentCalls=1,this._deliveryDispositionMap=new Map,this._messageRenewLockTimers=new Map,this._isDetaching=!1,n||(n={}),this.wasCloseInitiated=!1,this.receiverType=t,this.receiveMode=n.receiveMode||u["c"].peekLock,"number"===typeof n.maxConcurrentCalls&&n.maxConcurrentCalls>0&&(this.maxConcurrentCalls=n.maxConcurrentCalls),this.resetTimerOnNewMessageReceived=()=>{},this.autoComplete=!1!==n.autoComplete||n.autoComplete,this.maxAutoRenewDurationInSeconds=null!=n.maxMessageAutoRenewLockDurationInSeconds?n.maxMessageAutoRenewLockDurationInSeconds:300,this.autoRenewLock=this.maxAutoRenewDurationInSeconds>0&&this.receiveMode===u["c"].peekLock,this._clearMessageLockRenewTimer=e=>{this._messageRenewLockTimers.has(e)&&(clearTimeout(this._messageRenewLockTimers.get(e)),o["receiver"]("[%s] Cleared the message renew lock timer for message with id '%s'.",this._context.namespace.connectionId,e),this._messageRenewLockTimers.delete(e))},this._clearAllMessageLockRenewTimers=()=>{o["receiver"]("[%s] Clearing message renew lock timers for all the active messages.",this._context.namespace.connectionId);for(const e of this._messageRenewLockTimers.keys())this._clearMessageLockRenewTimer(e)},this._onSettled=e=>{const t=this._context.namespace.connectionId,n=e.delivery;if(n){const e=n.id,r=n.remote_state,i=n.remote_settled;if(o["receiver"]("[%s] Delivery with id %d, remote_settled: %s, remote_state: %o has been received.",t,e,i,r&&r.error?r.error:r),i&&this._deliveryDispositionMap.has(e)){const n=this._deliveryDispositionMap.get(e);clearTimeout(n.timer),o["receiver"]("[%s] Found the delivery with id %d in the map and cleared the timer.",t,e);const i=this._deliveryDispositionMap.delete(e);if(o["receiver"]("[%s] Successfully deleted the delivery with id %d from the map.",t,e,i),r&&r.error&&(r.error.condition||r.error.description)){const e=Object(a["p"])(r.error);return n.reject(e)}return n.resolve()}}},this._onAmqpMessage=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this.receiveMode===u["c"].peekLock&&(!this._receiver||!this._receiver.isOpen()))return void o["error"]("[%s] Not calling the user's message handler for the current message as the receiver '%s' is closed",this._context.namespace.connectionId,this.name);this.resetTimerOnNewMessageReceived();const t=this._context.namespace.connectionId,n=new u["d"](this._context,e.message,e.delivery,!0);if(this.autoRenewLock&&n.lockToken){const e=n.lockToken;this._messageRenewLockTimers.set(n.messageId,void 0),o["receiver"]("[%s] message with id '%s' is locked until %s.",t,n.messageId,n.lockedUntilUtc.toString());const r=Date.now()+1e3*this.maxAutoRenewDurationInSeconds;o["receiver"]("[%s] Total autolockrenew duration for message with id '%s' is: ",t,n.messageId,new Date(r).toString());const s=()=>{if(new Date(r)>n.lockedUntilUtc&&Date.now()<r)if(this._messageRenewLockTimers.has(n.messageId)){const r=Object(d["a"])(n.lockedUntilUtc);o["receiver"]("[%s] Sleeping for %d milliseconds while renewing the lock for message with id '%s' is: ",t,r,n.messageId),this._messageRenewLockTimers.set(n.messageId,setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{o["receiver"]("[%s] Attempting to renew the lock for message with id '%s'.",t,n.messageId),n.lockedUntilUtc=yield this._context.managementClient.renewLock(e),o["receiver"]("[%s] Successfully renewed the lock for message with id '%s'.",t,n.messageId),o["receiver"]("[%s] Calling the autorenewlock task again for message with id '%s'.",t,n.messageId),s()}catch(r){o["error"]("[%s] An error occured while auto renewing the message lock '%s' for message with id '%s': %O.",t,n.lockToken,n.messageId,r),this._onError(r)}})),r))}else o["receiver"]("[%s] Looks like the message lock renew timer has already been cleared for message with id '%s'.",t,n.messageId);else o["receiver"]("[%s] Current time %s exceeds the total autolockrenew duration %s for message with messageId '%s'. Hence we will stop the autoLockRenewTask.",t,new Date(Date.now()).toString(),new Date(r).toString(),n.messageId),this._clearMessageLockRenewTimer(n.messageId)};s()}try{yield this._onMessage(n),this._clearMessageLockRenewTimer(n.messageId)}catch(r){Object(c["isAmqpError"])(r)||(o["error"]("[%s] An error occurred while running user's message handler for the message with id '%s' on the receiver '%s': %O",t,n.messageId,this.name,r),this._onError(r)),this._clearMessageLockRenewTimer(n.messageId);const e=Object(a["p"])(r);if(!n.delivery.remote_settled&&e.name!==a["c"]["com.microsoft:message-lock-lost"]&&this.receiveMode===u["c"].peekLock&&this.isOpen())try{o["error"]("[%s] Abandoning the message with id '%s' on the receiver '%s' since an error occured: %O.",t,n.messageId,this.name,e),yield n.abandon()}catch(s){const e=Object(a["p"])(s);o["error"]("[%s] An error occurred while abandoning the message with id '%s' on the receiver '%s': %O.",t,n.messageId,this.name,e),this._onError(e)}return}finally{this._receiver&&this._receiver.addCredit(1)}if(this.autoComplete&&this.receiveMode===u["c"].peekLock&&!n.delivery.remote_settled)try{o[this.receiverType]("[%s] Auto completing the message with id '%s' on the receiver '%s'.",t,n.messageId,this.name),yield n.complete()}catch(h){const e=Object(a["p"])(h);o["error"]("[%s] An error occurred while completing the message with id '%s' on the receiver '%s': %O.",t,n.messageId,this.name,e),this._onError(e)}})),this._onAmqpError=e=>{const t=this._context.namespace.connectionId,n=this._receiver||e.receiver,r=e.receiver&&e.receiver.error;if(r){const e=Object(a["p"])(r);o["error"]("[%s] An error occurred for Receiver '%s': %O.",t,this.name,e),e.retryable?o["error"]("[%s] Since received error is retryable, we will NOT notify the user's error handler.",t):n&&!n.isItselfClosed()?(o["error"]("[%s] Since the user did not close the receiver and the error is not retryable, we let the user know about it by calling the user's error handler.",t),this._onError(e)):o["error"]("[%s] The received error is not retryable. However, the receiver was closed by the user. Hence not notifying the user's error handler.",t)}this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer)},this._onSessionError=e=>{const t=this._context.namespace.connectionId,n=this._receiver||e.receiver,r=e.session&&e.session.error;if(r){const e=Object(a["p"])(r);o["error"]("[%s] An error occurred on the session for Receiver '%s': %O.",t,this.name,e),!n||n.isSessionItselfClosed()||e.retryable||(o["error"]("[%s] Since the user did not close the receiver and the session error is not retryable, we let the user know about it by calling the user's error handler.",t),this._onError(e))}this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer)},this._onAmqpClose=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._context.namespace.connectionId,n=e.receiver&&e.receiver.error,r=this._receiver||e.receiver;n&&o["error"]("[%s] 'receiver_close' event occurred for receiver '%s' with address '%s'. The associated error is: %O",t,this.name,this.address,n),this._clearAllMessageLockRenewTimers(),r&&!r.isItselfClosed()?this.isConnecting?o["error"]("[%s] 'receiver_close' event occurred on the receiver '%s' with address '%s' and the sdk did not initate this. Moreover the receiver is already re-connecting. Hence not calling detached from the _onAmqpClose() handler.",t,this.name,this.address):(o["error"]("[%s] 'receiver_close' event occurred on the receiver '%s' with address '%s' and the sdk did not initiate this. The receiver is not reconnecting. Hence, calling detached from the _onAmqpClose() handler.",t,this.name,this.address),yield this.onDetached(n)):o["error"]("[%s] 'receiver_close' event occurred on the receiver '%s' with address '%s' because the sdk initiated it. Hence not calling detached from the _onAmqpClose() handler.",t,this.name,this.address)})),this._onSessionClose=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._context.namespace.connectionId,n=this._receiver||e.receiver,r=e.session&&e.session.error;r&&o["error"]("[%s] 'session_close' event occurred for receiver '%s' with address '%s'. The associated error is: %O",t,this.name,this.address,r),this._clearAllMessageLockRenewTimers(),n&&!n.isSessionItselfClosed()?this.isConnecting?o["error"]("[%s] 'session_close' event occurred on the session of receiver '%s' with address '%s' and the sdk did not initiate this. Moreover the receiver is already re-connecting. Hence not calling detached from the _onSessionClose() handler.",t,this.name,this.address):(o["error"]("[%s] 'session_close' event occurred on the session of receiver '%s' with address '%s' and the sdk did not initiate this. Hence calling detached from the _onSessionClose() handler.",t,this.name,this.address),yield this.onDetached(r)):o["error"]("[%s] 'session_close' event occurred on the session of receiver '%s' with address '%s' because the sdk initiated it. Hence not calling detached from the _onSessionClose() handler.",t,this.name,this.address)}))}_createReceiverOptions(e,t){t||(t={onMessage:e=>this._onAmqpMessage(e).catch(()=>{}),onClose:e=>this._onAmqpClose(e).catch(()=>{}),onSessionClose:e=>this._onSessionClose(e).catch(()=>{}),onError:this._onAmqpError,onSessionError:this._onSessionError,onSettled:this._onSettled});const n=Object.assign({name:e?Object(d["e"])(this._context.entityPath):this.name,autoaccept:this.receiveMode===u["c"].receiveAndDelete,rcv_settle_mode:this.receiveMode===u["c"].receiveAndDelete?0:1,snd_settle_mode:this.receiveMode===u["c"].receiveAndDelete?1:0,source:{address:this.address},credit_window:0},t);return n}_init(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._context.namespace.connectionId;try{if(this.isOpen()||this.isConnecting)o["error"]("[%s] The receiver '%s' with address '%s' is open -> %s and is connecting -> %s. Hence not reconnecting.",t,this.name,this.address,this.isOpen(),this.isConnecting);else{if(this.wasCloseInitiated)return;o["error"]("[%s] The receiver '%s' with address '%s' is not open and is not currently establishing itself. Hence let's try to connect.",t,this.name,this.address),e&&e.name&&(this.name=e.name),this.isConnecting=!0,yield this._negotiateClaim(),e||(e=this._createReceiverOptions()),o["error"]("[%s] Trying to create receiver '%s' with options %O",t,this.name,e),this._receiver=yield this._context.namespace.connection.createReceiver(e),this.isConnecting=!1,o["error"]("[%s] Receiver '%s' with address '%s' has established itself.",t,this.name,this.address),o[this.receiverType]("Promise to create the receiver resolved. Created receiver with name: ",this.name),o[this.receiverType]("[%s] Receiver '%s' created with receiver options: %O",t,this.name,e),this.receiverType!==l.streaming||this._context.streamingReceiver?this.receiverType!==l.batching||this._context.batchingReceiver||(this._context.batchingReceiver=this):this._context.streamingReceiver=this,yield this._ensureTokenRenewal()}}catch(n){throw this.isConnecting=!1,n=Object(a["p"])(n),o["error"]("[%s] An error occured while creating the receiver '%s': %O",this._context.namespace.connectionId,this.name,n),n}}))}_deleteFromCache(){this._receiver=void 0,this.receiverType===l.streaming?this._context.streamingReceiver=void 0:this.receiverType===l.batching&&(this._context.batchingReceiver=void 0),o["error"]("[%s] Deleted the receiver '%s' from the client cache.",this._context.namespace.connectionId,this.name)}onDetached(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){const n=this._context.namespace.connectionId;if(!this.wasCloseInitiated)if(this._isDetaching)o["error"](`[${n}] Call to detached on streaming receiver '${this.name}' is already in progress.`);else{this._isDetaching=!0;try{if(yield this._closeLink(this._receiver),this.receiverType===l.batching)return void o["error"]("[%s] Receiver '%s' with address '%s' is a Batching Receiver, so we will not be re-establishing the receiver link.",n,this.name,this.address);const r=e?Object(a["p"])(e):e,s=!r||r.retryable;if(!s&&!t)return void o["error"]("[%s] Encountered a non retryable error on the receiver. Cannot recover receiver '%s' with address '%s' encountered error: %O",n,this.name,this.address,r);if(!s&&t)throw o["error"]("[%s] Encountered a non retryable error on the connection. Cannot recover receiver '%s' with address '%s': %O",n,this.name,this.address,r),r;const c=this._createReceiverOptions(!0),u={operation:()=>this._init(c).then(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){this.wasCloseInitiated?(o["error"]("[%s] close() method of Receiver '%s' with address '%s' was called. by the time the receiver finished getting created. Hence, disallowing messages from being received. ",n,this.name,this.address),yield this.close()):this._receiver&&this.receiverType===l.streaming&&this._receiver.addCredit(this.maxConcurrentCalls)}))),connectionId:n,operationType:a["j"].receiverLink,times:a["f"].defaultConnectionRetryAttempts,connectionHost:this._context.namespace.config.host,delayInSeconds:15};yield Object(a["o"])(u)}catch(r){if(o["error"]("[%s] An error occurred while processing detached() of Receiver '%s': %O ",n,this.name,this.address,r),"function"===typeof this._onError){o["error"]("[%s] Unable to automatically reconnect Receiver '%s' with address '%s'.",n,this.name,this.address);try{this._onError(r)}catch(r){o["error"]("[%s] User-code error in error handler called after disconnect: %O",n,r)}finally{yield this.close().catch(()=>{})}}}finally{this._isDetaching=!1}}}))}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this.wasCloseInitiated=!0,o["receiver"]("[%s] Closing the [%s]Receiver for entity '%s'.",this._context.namespace.connectionId,this.receiverType,this._context.entityPath),this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this._clearAllMessageLockRenewTimers(),this._receiver){const e=this._receiver;this._deleteFromCache(),yield this._closeLink(e)}}))}settleMessage(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return new Promise((r,i)=>{if(n||(n={}),null==t.match(/^(complete|abandon|defer|deadletter)$/))return i(new Error(`operation: '${t}' is not a valid operation.`));this._clearMessageLockRenewTimer(e.messageId);const s=e.delivery,c=setTimeout(()=>{this._deliveryDispositionMap.delete(s.id),o["receiver"]("[%s] Disposition for delivery id: %d, did not complete in %d milliseconds. Hence rejecting the promise with timeout error.",this._context.namespace.connectionId,s.id,1e3*a["f"].defaultOperationTimeoutInSeconds);const e={condition:a["g"].ServiceUnavailableError,description:"Operation to settle the message has timed out. The disposition of the message may or may not be successful"};return i(Object(a["p"])(e))},1e3*a["f"].defaultOperationTimeoutInSeconds);if(this._deliveryDispositionMap.set(s.id,{resolve:r,reject:i,timer:c}),t===u["b"].complete)s.accept();else if(t===u["b"].abandon){const e={undeliverable_here:!1};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),s.modified(e)}else if(t===u["b"].defer){const e={undeliverable_here:!0};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),s.modified(e)}else if(t===u["b"].deadletter){const e={condition:a["f"].deadLetterName,info:Object.assign(Object.assign({},n.propertiesToModify),{DeadLetterReason:n.deadLetterReason,DeadLetterErrorDescription:n.deadLetterDescription})};s.reject(e)}})}))}isOpen(){const e=this._receiver&&this._receiver.isOpen();return o["error"]("[%s] Receiver '%s' with address '%s' is open? -> %s",this._context.namespace.connectionId,this.name,this.address,e),e}}class g extends _{constructor(e,t){super(e,l.streaming,t),this.resetTimerOnNewMessageReceived=()=>{this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this.newMessageWaitTimeoutInSeconds&&(this._newMessageReceivedTimer=setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const e=`StreamingReceiver '${this.name}' did not receive any messages in the last ${this.newMessageWaitTimeoutInSeconds} seconds. Hence ending this receive operation.`;o["error"]("[%s] %s",this._context.namespace.connectionId,e),yield this.close()})),1e3*this.newMessageWaitTimeoutInSeconds))}}receive(e,t){Object(p["h"])(this._context.namespace),this._onMessage=e,this._onError=t,this._receiver&&this._receiver.addCredit(this.maxConcurrentCalls)}static create(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["h"])(e.namespace),t||(t={}),null==t.autoComplete&&(t.autoComplete=!0);const n=new g(e,t);return yield n._init(),e.streamingReceiver=n,n}))}}class y extends _{constructor(e,t){super(e,l.batching,t),this.isReceivingMessages=!1,this.newMessageWaitTimeoutInSeconds=1}onDetached(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){yield this._closeLink(this._receiver),"function"===typeof this._connectionErrorHandler&&(e||(e=new Error("Unknown error occurred on the AMQP connection while receiving messages.")),this._connectionErrorHandler(e))}))}receive(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["h"])(this._context.namespace),null==t&&(t=a["f"].defaultOperationTimeoutInSeconds),this.isReceivingMessages=!0;try{return yield this._receiveImpl(e,t)}catch(n){throw o["error"]("[%s] Receiver '%s': Rejecting receiveMessages() with error %O: ",this._context.namespace.connectionId,this.name,n),n}finally{this.isReceivingMessages=!1,this._connectionErrorHandler=void 0}}))}_receiveImpl(e,t){const n=[];return new Promise((r,s)=>{let d;const h=e=>{const t=this._receiver||e.receiver;t.removeListener(c["ReceiverEvents"].receiverError,_),t.removeListener(c["ReceiverEvents"].message,f),t.removeListener(c["ReceiverEvents"].receiverDrained,m),t.session.removeListener(c["SessionEvents"].sessionError,h);const n=e.session&&e.session.error;let r=new a["h"]("An error occurred while receiving messages.");n&&(r=Object(a["p"])(n),o["error"]("[%s] 'session_close' event occurred for Receiver '%s' received an error:\n%O",this._context.namespace.connectionId,this.name,r)),d&&clearTimeout(d),this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),s(r)};this._connectionErrorHandler=e=>{if(d&&clearTimeout(d),this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this._receiver&&(this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,m),this._receiver.removeListener(c["ReceiverEvents"].receiverError,_),this._receiver.removeListener(c["ReceiverEvents"].message,f),this._receiver.session.removeListener(c["SessionEvents"].sessionError,h)),this.receiveMode===u["c"].receiveAndDelete&&n.length)return o["batching"]("[%s] Receiver '%s': Connection disconnected. Resolving receiveMessages() with %d messages.",this._context.namespace.connectionId,this.name,n.length),r(n);s(Object(a["p"])(e))};const l=()=>{this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),d&&clearTimeout(d),this._receiver&&(this._receiver.removeListener(c["ReceiverEvents"].receiverError,_),this._receiver.removeListener(c["ReceiverEvents"].message,f),this._receiver.session.removeListener(c["SessionEvents"].sessionError,h)),this._receiver&&this._receiver.isOpen()&&this._receiver.credit>0?(o["batching"]("[%s] Receiver '%s': Draining leftover credits(%d).",this._context.namespace.connectionId,this.name,this._receiver.credit),this._receiver.drain=!0,this._receiver.addCredit(1)):(this._receiver&&this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,m),o["batching"]("[%s] Receiver '%s': Resolving receiveMessages() with %d messages.",this._context.namespace.connectionId,this.name,n.length),r(n))},f=t=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){this.resetTimerOnNewMessageReceived();try{const r=new u["d"](this._context,t.message,t.delivery,!0);n.length<e&&n.push(r)}catch(r){const e=r instanceof Error?r:new Error(JSON.stringify(r));o["error"]("[%s] Receiver '%s' received an error while converting AmqpMessage to ServiceBusMessage:\n%O",this._context.namespace.connectionId,this.name,e),s(e)}n.length===e&&l()})),p=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{const t=e.session&&e.session.error;t&&o["error"]("[%s] 'session_close' event occurred for receiver '%s'. The associated error is: %O",this._context.namespace.connectionId,this.name,t)}catch(t){o["error"]("[%s] Receiver '%s' error in onSessionClose handler:\n%O",this._context.namespace.connectionId,this.name,Object(a["p"])(t))}})),m=()=>{this._receiver&&(this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,m),this._receiver.drain=!1),o["batching"]("[%s] Receiver '%s' drained. Resolving receiveMessages() with %d messages.",this._context.namespace.connectionId,this.name,n.length),r(n)},v=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{const t=e.receiver&&e.receiver.error;t&&o["error"]("[%s] 'receiver_close' event occurred. The associated error is: %O",this._context.namespace.connectionId,t)}catch(t){o["error"]("[%s] Receiver '%s' error in onClose handler:\n%O",this._context.namespace.connectionId,this.name,Object(a["p"])(t))}})),_=e=>{const t=this._receiver||e.receiver;t.removeListener(c["ReceiverEvents"].receiverError,_),t.removeListener(c["ReceiverEvents"].message,f),t.removeListener(c["ReceiverEvents"].receiverDrained,m),t.session.removeListener(c["SessionEvents"].sessionError,h);const n=e.receiver&&e.receiver.error;let r=new a["h"]("An error occurred while receiving messages.");n&&(r=Object(a["p"])(n),o["error"]("[%s] Receiver '%s' received an error:\n%O",this._context.namespace.connectionId,this.name,r)),d&&clearTimeout(d),this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),s(r)};this.receiveMode===u["c"].peekLock&&(this.resetTimerOnNewMessageReceived=()=>{this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this.newMessageWaitTimeoutInSeconds&&(this._newMessageReceivedTimer=setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const e=`BatchingReceiver '${this.name}' did not receive any messages in the last `+this.newMessageWaitTimeoutInSeconds+" seconds. Hence ending this batch receive operation.";o["error"]("[%s] %s",this._context.namespace.connectionId,e),l()})),1e3*this.newMessageWaitTimeoutInSeconds))});const g=()=>(o["batching"]("[%s] Batching Receiver '%s'  max wait time in seconds %d over.",this._context.namespace.connectionId,this.name,t),l()),y=e=>{const t=this._context.namespace.connectionId,n=e.delivery;if(n){const e=n.id,r=n.remote_state,i=n.remote_settled;if(o["receiver"]("[%s] Delivery with id %d, remote_settled: %s, remote_state: %o has been received.",t,e,i,r&&r.error?r.error:r),i&&this._deliveryDispositionMap.has(e)){const n=this._deliveryDispositionMap.get(e);clearTimeout(n.timer),o["receiver"]("[%s] Found the delivery with id %d in the map and cleared the timer.",t,e);const i=this._deliveryDispositionMap.delete(e);if(o["receiver"]("[%s] Successfully deleted the delivery with id %d from the map.",t,e,i),r&&r.error&&(r.error.condition||r.error.description)){const e=Object(a["p"])(r.error);return n.reject(e)}return n.resolve()}}},b=n=>{o["batching"]("[%s] Receiver '%s', adding credit for receiving %d messages.",this._context.namespace.connectionId,this.name,e),this._receiver.addCredit(e);let r="[%s] Setting the wait timer for %d seconds for receiver '%s'.";n&&(r+=" Receiver link already present, hence reusing it."),o["batching"](r,this._context.namespace.connectionId,t,this.name),d=setTimeout(g,1e3*t)};if(this.isOpen())b(!0),this._receiver.on(c["ReceiverEvents"].message,f),this._receiver.on(c["ReceiverEvents"].receiverError,_),this._receiver.on(c["ReceiverEvents"].receiverDrained,m),this._receiver.session.on(c["SessionEvents"].sessionError,h);else{o["batching"]("[%s] Receiver '%s', setting max concurrent calls to 0.",this._context.namespace.connectionId,this.name),this.maxConcurrentCalls=0;const e=this._createReceiverOptions(!1,{onMessage:f,onError:_,onSessionError:h,onSettled:y,onClose:v,onSessionClose:p});this._init(e).then(()=>{if(!this._receiver)return r([]);this._receiver.on(c["ReceiverEvents"].receiverDrained,m),b()}).catch(s)}})}static create(e,t){Object(p["h"])(e.namespace);const n=new y(e,t);return e.batchingReceiver=n,n}}(function(e){e["standalone"]="standalone",e["sessionManager"]="sessionManager"})(f||(f={}));class b extends h{constructor(e,t){super(e.entityPath,e,{address:e.entityPath,audience:`${e.namespace.config.endpoint}${e.entityPath}`}),this.maxConcurrentCalls=1,this._deliveryDispositionMap=new Map,this._context.isSessionEnabled=!0,this.isReceivingMessages=!1,t||(t={sessionId:void 0}),this.autoComplete=!1,this.sessionId=t.sessionId,this.receiveMode=t.receiveMode||u["c"].peekLock,this.callee=t.callee||f.standalone,this.maxAutoRenewDurationInSeconds=null!=t.maxSessionAutoRenewLockDurationInSeconds?t.maxSessionAutoRenewLockDurationInSeconds:300,this._totalAutoLockRenewDuration=Date.now()+1e3*this.maxAutoRenewDurationInSeconds,this.autoRenewLock=this.maxAutoRenewDurationInSeconds>0&&this.receiveMode===u["c"].peekLock,this._onSettled=e=>{const t=this._context.namespace.connectionId,n=e.delivery;if(n){const e=n.id,r=n.remote_state,i=n.remote_settled;if(o["receiver"]("[%s] Delivery with id %d, remote_settled: %s, remote_state: %o has been received.",t,e,i,r&&r.error?r.error:r),i&&this._deliveryDispositionMap.has(e)){const n=this._deliveryDispositionMap.get(e);clearTimeout(n.timer),o["receiver"]("[%s] Found the delivery with id %d in the map and cleared the timer.",t,e);const i=this._deliveryDispositionMap.delete(e);if(o["receiver"]("[%s] Successfully deleted the delivery with id %d from the map.",t,e,i),r&&r.error&&(r.error.condition||r.error.description)){const e=Object(a["p"])(r.error);return n.reject(e)}return n.resolve()}}},this._notifyError=e=>{this._onError&&(this._onError(e),o["error"]("[%s] Notified the user's error handler about the error received by the Receiver '%s'.",this._context.namespace.connectionId,this.name))},this._onAmqpError=e=>{const t=this._context.namespace.connectionId,n=e.receiver&&e.receiver.error;if(n){const e=Object(a["p"])(n);"SessionLockLostError"===e.name&&(this._context.expiredMessageSessions[this.sessionId]=!0,e.message=`The session lock has expired on the session with id ${this.sessionId}.`),o["error"]("[%s] An error occurred for Receiver '%s': %O.",t,this.name,e),this._notifyError(e)}},this._onSessionError=e=>{const t=this._context.namespace.connectionId,n=e.session&&e.session.error;if(n){const e=Object(a["p"])(n);o["error"]("[%s] An error occurred on the session for Receiver '%s': %O.",t,this.name,e),this._notifyError(e)}},this._onAmqpClose=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._context.namespace.connectionId,n=e.receiver&&e.receiver.error,r=this._receiver||e.receiver;let i=!1;if(n){const e=Object(a["p"])(n);"SessionLockLostError"===e.name&&(i=!0),o["error"]("[%s] 'receiver_close' event occurred for receiver '%s' for sessionId '%s'. The associated error is: %O",t,this.name,this.sessionId,e)}if(r&&!r.isItselfClosed()){o["error"]("[%s] 'receiver_close' event occurred on the receiver '%s' for sessionId '%s' and the sdk did not initiate this. Hence, let's gracefully close the receiver.",t,this.name,this.sessionId);try{yield this.close(i)}catch(s){o["error"]("[%s] An error occurred while closing the receiver '%s' for sessionId '%s': %O.",t,this.name,this.sessionId,s)}}else o["error"]("[%s] 'receiver_close' event occurred on the receiver '%s' for sessionId '%s' because the sdk initiated it. Hence no need to gracefully close the receiver",t,this.name,this.sessionId)})),this._onSessionClose=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=this._context.namespace.connectionId,n=this._receiver||e.receiver,r=e.session&&e.session.error;if(r){const e=Object(a["p"])(r);o["error"]("[%s] 'session_close' event occurred for receiver '%s' for sessionId '%s'. The associated error is: %O",t,this.name,this.sessionId,e)}if(n&&!n.isSessionItselfClosed()){o["error"]("[%s] 'session_close' event occurred on the receiver '%s' for sessionId '%s' and the sdk did not initiate this. Hence, let's gracefully close the receiver.",t,this.name,this.sessionId);try{yield this.close()}catch(i){o["error"]("[%s] An error occurred while closing the receiver '%s' for sessionId '%s': %O.",t,this.name,this.sessionId,i)}}else o["error"]("[%s] 'session_close' event occurred on the receiver '%s' for sessionId '%s' because the sdk initiated it. Hence no need to gracefully close the receiver",t,this.name,this.sessionId)}))}_ensureSessionLockRenewal(){if(this.autoRenewLock&&new Date(this._totalAutoLockRenewDuration)>this.sessionLockedUntilUtc&&Date.now()<this._totalAutoLockRenewDuration&&this.isOpen()){const e=this._context.namespace.connectionId,t=Object(d["a"])(this.sessionLockedUntilUtc);this._sessionLockRenewalTimer=setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{o["messageSession"]("[%s] Attempting to renew the session lock for MessageSession '%s' with name '%s'.",e,this.sessionId,this.name),this.sessionLockedUntilUtc=yield this._context.managementClient.renewSessionLock(this.sessionId,{delayInSeconds:0,timeoutInSeconds:10,times:4}),o["receiver"]("[%s] Successfully renewed the session lock for MessageSession '%s' with name '%s'.",e,this.sessionId,this.name),o["receiver"]("[%s] Calling _ensureSessionLockRenewal() again for MessageSession '%s'.",e,this.sessionId),this._ensureSessionLockRenewal()}catch(t){o["error"]("[%s] An error occurred while renewing the session lock for MessageSession '%s' with name '%s': %O",this._context.namespace.connectionId,this.sessionId,this.name,t)}})),t),o["messageSession"]("[%s] MessageSession '%s' with name '%s', has next session lock renewal in %d seconds @(%s).",this._context.namespace.connectionId,this.sessionId,this.name,t/1e3,new Date(Date.now()+t).toString())}}_deleteFromCache(){this._receiver=void 0,delete this._context.messageSessions[this.sessionId],o["error"]("[%s] Deleted the receiver '%s' with sessionId '%s' from the client cache.",this._context.namespace.connectionId,this.name,this.sessionId)}_init(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){const e=this._context.namespace.connectionId;try{if(this.isOpen()||this.isConnecting)o["error"]("[%s] The receiver '%s' for sessionId '%s' is open -> %s and is connecting -> %s. Hence not reconnecting.",e,this.name,this.sessionId,this.isOpen(),this.isConnecting);else{o["error"]("[%s] The receiver '%s' with address '%s' is not open and is not currently establishing itself. Hence let's try to connect.",e,this.name,this.address),this.isConnecting=!0,yield this._negotiateClaim();const t=this._createMessageSessionOptions();o["error"]("[%s] Trying to create receiver '%s' with options %O",e,this.name,t),this._receiver=yield this._context.namespace.connection.createReceiver(t),this.isConnecting=!1;const n=this._receiver.source&&this._receiver.source.filter&&this._receiver.source.filter[a["f"].sessionFilterName];let r="";if(null==n&&(r=`Received an incorrect sessionId '${n}' while creating the receiver '${this.name}'.`),null!=this.sessionId&&n!==this.sessionId&&(r=`Received sessionId '${n}' does not match the provided sessionId '${this.sessionId}' while creating the receiver '${this.name}'.`),r){const e=Object(a["p"])({description:r,condition:a["g"].SessionCannotBeLockedError});throw o["error"]("[%s] %O",this._context.namespace.connectionId,e),e}null==this.sessionId&&(this.sessionId=n),this.sessionLockedUntilUtc=Object(d["b"])(this._receiver.properties["com.microsoft:locked-until-utc"]),o["messageSession"]("[%s] Session with id '%s' is locked until: '%s'.",e,this.sessionId,this.sessionLockedUntilUtc.toISOString()),o["error"]("[%s] Receiver '%s' for sessionId '%s' has established itself.",e,this.name,this.sessionId),o["messageSession"]("Promise to create the receiver resolved. Created receiver with name: ",this.name),o["messageSession"]("[%s] Receiver '%s' created with receiver options: %O",e,this.name,t),this._context.messageSessions[this.sessionId]||(this._context.messageSessions[this.sessionId]=this),this._totalAutoLockRenewDuration=Date.now()+1e3*this.maxAutoRenewDurationInSeconds,yield this._ensureTokenRenewal(),yield this._ensureSessionLockRenewal()}}catch(t){this.isConnecting=!1;const e=Object(a["p"])(t);throw o["error"]("[%s] An error occured while creating the receiver '%s': %O",this._context.namespace.connectionId,this.name,e),e}}))}_createMessageSessionOptions(){const e={name:this.name,autoaccept:!1,rcv_settle_mode:this.receiveMode===u["c"].receiveAndDelete?0:1,snd_settle_mode:this.receiveMode===u["c"].receiveAndDelete?1:0,source:{address:this.address,filter:{}},credit_window:0,onClose:e=>this._onAmqpClose(e).catch(()=>{}),onSessionClose:e=>this._onSessionClose(e).catch(()=>{}),onError:this._onAmqpError,onSessionError:this._onSessionError,onSettled:this._onSettled};return e.source.filter[a["f"].sessionFilterName]=this.sessionId,e}close(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{if(o["messageSession"]("[%s] Closing the MessageSession '%s' for queue '%s'.",this._context.namespace.connectionId,this.sessionId,this.name),this.isReceivingMessages=!1,this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this._sessionLockRenewalTimer&&clearTimeout(this._sessionLockRenewalTimer),o["messageSession"]("[%s] Cleared the timers for 'no new message received' task and 'session lock renewal' task.",this._context.namespace.connectionId),e||delete this._context.expiredMessageSessions[this.sessionId],this._receiver){const e=this._receiver;this._deleteFromCache(),yield this._closeLink(e)}}catch(t){o["error"]("[%s] An error occurred while closing the message session with id '%s': %O.",this._context.namespace.connectionId,this.sessionId,t)}}))}isOpen(){const e=this._receiver&&this._receiver.isOpen();return o["messageSession"]("[%s] Receiver '%s' for sessionId '%s' is open? -> %s",this._context.namespace.connectionId,this.name,this.sessionId,e),e}receive(e,t,n){n||(n={}),this.isReceivingMessages=!0,"number"===typeof n.maxConcurrentCalls&&n.maxConcurrentCalls>0&&(this.maxConcurrentCalls=n.maxConcurrentCalls),this.autoComplete=!1!==n.autoComplete||n.autoComplete,this._onMessage=e,this._onError=t;const r=this._context.namespace.connectionId,s=()=>{this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this.newMessageWaitTimeoutInSeconds&&(this._newMessageReceivedTimer=setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const e=`MessageSession '${this.sessionId}' with name '${this.name}' did not receive any messages in the last ${this.newMessageWaitTimeoutInSeconds} seconds. Hence closing it.`;if(o["error"]("[%s] %s",this._context.namespace.connectionId,e),this.callee===f.sessionManager){const t=Object(a["p"])({condition:"com.microsoft:message-wait-timeout",description:e});this._notifyError(Object(a["p"])(t))}yield this.close()})),1e3*this.newMessageWaitTimeoutInSeconds))};if(this._receiver&&this._receiver.isOpen()){const e=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this.receiveMode===u["c"].peekLock&&(!this._receiver||!this._receiver.isOpen()))return void o["error"]("[%s] Not calling the user's message handler for the current message as the receiver '%s' is closed",r,this.name);s();const t=new u["d"](this._context,e.message,e.delivery,!0);try{yield this._onMessage(t)}catch(n){Object(c["isAmqpError"])(n)||(o["error"]("[%s] An error occurred while running user's message handler for the message with id '%s' on the receiver '%s': %O",r,t.messageId,this.name,n),this._onError(n));const e=Object(a["p"])(n);if(!t.delivery.remote_settled&&this.receiveMode===u["c"].peekLock&&this.isOpen())try{o["error"]("[%s] Abandoning the message with id '%s' on the receiver '%s' since an error occured: %O.",r,t.messageId,this.name,e),yield t.abandon()}catch(i){const e=Object(a["p"])(i);o["error"]("[%s] An error occurred while abandoning the message with id '%s' on the receiver '%s': %O.",r,t.messageId,this.name,e),this._notifyError(e)}return}finally{this._receiver&&this._receiver.addCredit(1)}if(this.autoComplete&&this.receiveMode===u["c"].peekLock&&!t.delivery.remote_settled)try{o["messageSession"]("[%s] Auto completing the message with id '%s' on the receiver '%s'.",r,t.messageId,this.name),yield t.complete()}catch(d){const e=Object(a["p"])(d);o["error"]("[%s] An error occurred while completing the message with id '%s' on the receiver '%s': %O.",r,t.messageId,this.name,e),this._notifyError(e)}}));this._receiver.on(c["ReceiverEvents"].message,e),this._receiver.addCredit(this.maxConcurrentCalls)}else{this.isReceivingMessages=!1;const e=`MessageSession with sessionId '${this.sessionId}' and name '${this.name}' has either not been created or is not open.`;o["error"]("[%s] %s",this._context.namespace.connectionId,e),this._notifyError(new Error(e))}}receiveMessages(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){null==t&&(t=a["f"].defaultOperationTimeoutInSeconds);const n=[];return this.isReceivingMessages=!0,new Promise((r,s)=>{let a;const d=e=>{this.newMessageWaitTimeoutInSeconds=e};d(1);const h=()=>{this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,h),this._receiver.drain=!1,this.isReceivingMessages=!1,o["messageSession"]("[%s] Receiver '%s' drained. Resolving receiveMessages() with %d messages.",this._context.namespace.connectionId,this.name,n.length),r(n)},l=()=>(o["batching"]("[%s] Batching Receiver '%s'  max wait time in seconds %d over.",this._context.namespace.connectionId,this.name,t),m()),p=t=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){v();try{const r=new u["d"](this._context,t.message,t.delivery,!0);n.length<e&&n.push(r)}catch(r){this._receiver&&(this._receiver.removeListener(c["ReceiverEvents"].message,p),this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,h)),o["error"]("[%s] Receiver '%s' received an error while converting AmqpMessage to ServiceBusMessage:\n%O",this._context.namespace.connectionId,this.name,r),s(r instanceof Error?r:new Error(JSON.stringify(r)))}n.length===e&&m()}));this._onError=e=>{this.isReceivingMessages=!1,d(),a&&clearTimeout(a),this._receiver&&(this._receiver.removeListener(c["ReceiverEvents"].message,p),this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,h)),s(e)};const m=()=>{this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),a&&clearTimeout(a),d(),this._receiver&&this._receiver.removeListener(c["ReceiverEvents"].message,p),this._receiver&&this._receiver.credit>0?(o["messageSession"]("[%s] Receiver '%s': Draining leftover credits(%d).",this._context.namespace.connectionId,this.name,this._receiver.credit),this._receiver.drain=!0,this._receiver.addCredit(1)):(this._receiver&&this._receiver.removeListener(c["ReceiverEvents"].receiverDrained,h),this.isReceivingMessages=!1,o["messageSession"]("[%s] Receiver '%s': Resolving receiveMessages() with %d messages.",this._context.namespace.connectionId,this.name,n.length),r(n))},v=this.receiveMode===u["c"].peekLock?()=>{this._newMessageReceivedTimer&&clearTimeout(this._newMessageReceivedTimer),this.newMessageWaitTimeoutInSeconds&&(this._newMessageReceivedTimer=setTimeout(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const e=`MessageSession '${this.sessionId}' with name '${this.name}' did not receive any messages in the last ${this.newMessageWaitTimeoutInSeconds} seconds. Hence closing it.`;o["error"]("[%s] %s",this._context.namespace.connectionId,e),m(),this.callee===f.sessionManager&&(yield this.close())})),1e3*this.newMessageWaitTimeoutInSeconds))}:()=>{},_=n=>{o["batching"]("[%s] Receiver '%s', adding credit for receiving %d messages.",this._context.namespace.connectionId,this.name,e),this._receiver.addCredit(e);let r="[%s] Setting the wait timer for %d seconds for receiver '%s'.";n&&(r+=" Receiver link already present, hence reusing it."),o["batching"](r,this._context.namespace.connectionId,t,this.name),a=setTimeout(l,1e3*t)};if(this.isOpen())this._receiver.on(c["ReceiverEvents"].message,p),this._receiver.on(c["ReceiverEvents"].receiverDrained,h),_(!0);else{const e=`MessageSession "${this.name}" with sessionId "${this.sessionId}", is already closed. Hence cannot receive messages in a batch.`;o["error"]("[%s] %s",this._context.namespace.connectionId,e),s(new Error(e))}})}))}settleMessage(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return new Promise((r,i)=>{if(n||(n={}),null==t.match(/^(complete|abandon|defer|deadletter)$/))return i(new Error(`operation: '${t}' is not a valid operation.`));const s=e.delivery,c=setTimeout(()=>{this._deliveryDispositionMap.delete(s.id),o["receiver"]("[%s] Disposition for delivery id: %d, did not complete in %d milliseconds. Hence rejecting the promise with timeout error",this._context.namespace.connectionId,s.id,1e3*a["f"].defaultOperationTimeoutInSeconds);const e={condition:a["g"].ServiceUnavailableError,description:"Operation to settle the message has timed out. The disposition of the message may or may not be successful"};return i(Object(a["p"])(e))},1e3*a["f"].defaultOperationTimeoutInSeconds);if(this._deliveryDispositionMap.set(s.id,{resolve:r,reject:i,timer:c}),t===u["b"].complete)s.accept();else if(t===u["b"].abandon){const e={undeliverable_here:!1};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),s.modified(e)}else if(t===u["b"].defer){const e={undeliverable_here:!0};n.propertiesToModify&&(e.message_annotations=n.propertiesToModify),s.modified(e)}else if(t===u["b"].deadletter){const e={condition:a["f"].deadLetterName,info:Object.assign(Object.assign({},n.propertiesToModify),{DeadLetterReason:n.deadLetterReason,DeadLetterErrorDescription:n.deadLetterDescription})};s.reject(e)}})}))}static create(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["h"])(e.namespace);const n=new b(e,t);return yield n._init(),n}))}}class w{constructor(e,t){this._isClosed=!1,Object(p["h"])(e.namespace),this._context=e,this._receiveMode=t===u["c"].receiveAndDelete?t:u["c"].peekLock}_throwIfAlreadyReceiving(){if(this.isReceivingMessages()){const e=Object(p["a"])(this._context.entityPath),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}}_throwIfReceiverOrConnectionClosed(){if(Object(p["h"])(this._context.namespace),this.isClosed){const e=Object(p["e"])(this._context.entityPath,this._context.clientType,this._context.isClosed),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}}get receiveMode(){return this._receiveMode}get isClosed(){return this._isClosed||this._context.isClosed}registerMessageHandler(e,t,n){this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving();const r=this._context.namespace.connectionId;if(Object(p["j"])(r,"onMessage",e),Object(p["j"])(r,"onError",t),"function"!==typeof e)throw new TypeError("The parameter 'onMessage' must be of type 'function'.");if("function"!==typeof t)throw new TypeError("The parameter 'onError' must be of type 'function'.");g.create(this._context,Object.assign(Object.assign({},n),{receiveMode:this._receiveMode})).then(n=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){n&&(this.isClosed?yield n.close():n.receive(e,t))}))).catch(e=>{t(e)})}receiveMessages(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving(),!this._context.batchingReceiver||!this._context.batchingReceiver.isOpen()){const e={maxConcurrentCalls:0,receiveMode:this._receiveMode};this._context.batchingReceiver=y.create(this._context,e)}return this._context.batchingReceiver.receive(e,t)}))}getMessageIterator(){return Object(i["__asyncGenerator"])(this,arguments,(function*(){while(1){const e=yield Object(i["__await"])(this.receiveMessages(1));yield yield Object(i["__await"])(e[0])}}))}renewMessageLock(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this._throwIfReceiverOrConnectionClosed(),this._receiveMode!==u["c"].peekLock)throw new Error(Object(p["b"])("renew the message lock"));Object(p["j"])(this._context.namespace.connectionId,"lockTokenOrMessage",e);const t=e instanceof u["d"]?String(e.lockToken):String(e),n=yield this._context.managementClient.renewLock(t);return n}))}receiveDeferredMessage(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"sequenceNumber",e),Object(p["k"])(this._context.namespace.connectionId,"sequenceNumber",e);const t=yield this._context.managementClient.receiveDeferredMessages([e],this._receiveMode);return t[0]}))}receiveDeferredMessages(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"sequenceNumbers",e),Array.isArray(e)||(e=[e]),Object(p["l"])(this._context.namespace.connectionId,"sequenceNumbers",e),this._context.managementClient.receiveDeferredMessages(e,this._receiveMode)}))}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{this._isClosed=!0,this._context.namespace.connection&&this._context.namespace.connection.isOpen()&&(this._context.streamingReceiver&&(yield this._context.streamingReceiver.close()),this._context.batchingReceiver&&(yield this._context.batchingReceiver.close()),this._context.requestResponseLockedMessages.clear())}catch(e){throw o["error"]("[%s] An error occurred while closing the Receiver for %s: %O",this._context.namespace.connectionId,this._context.entityPath,e),e}}))}isReceivingMessages(){return!(!this._context.streamingReceiver||!this._context.streamingReceiver.isOpen())||!!(this._context.batchingReceiver&&this._context.batchingReceiver.isOpen()&&this._context.batchingReceiver.isReceivingMessages)}}class C{constructor(e,t,n){if(this._isClosed=!1,Object(p["h"])(e.namespace),this._context=e,this._receiveMode=t===u["c"].receiveAndDelete?t:u["c"].peekLock,this._sessionOptions=n,n.sessionId&&(n.sessionId=String(n.sessionId),this._context.messageSessions[n.sessionId]&&this._context.messageSessions[n.sessionId].isOpen())){const e=Object(p["c"])(this._context.clientType,this._context.entityPath,n.sessionId),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}}_throwIfReceiverOrConnectionClosed(){if(Object(p["h"])(this._context.namespace),this.isClosed){const e=Object(p["e"])(this._context.entityPath,this._context.clientType,this._context.isClosed,this.sessionId),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}}_createMessageSessionIfDoesntExist(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(!this._messageSession){if(this._context.isSessionEnabled=!0,this._messageSession=yield b.create(this._context,{sessionId:this._sessionOptions.sessionId,maxSessionAutoRenewLockDurationInSeconds:this._sessionOptions.maxSessionAutoRenewLockDurationInSeconds,receiveMode:this._receiveMode}),null==this._messageSession.sessionId){const e=new Error("Something went wrong. Cannot lock a session.");throw o["error"](`[${this._context.namespace.connectionId}] %O`,e),e}this._sessionId=this._messageSession.sessionId,delete this._context.expiredMessageSessions[this._messageSession.sessionId]}}))}_throwIfAlreadyReceiving(){if(this.isReceivingMessages()){const e=Object(p["a"])(this._context.entityPath,this.sessionId),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}}get receiveMode(){return this._receiveMode}get isClosed(){return this._isClosed||!!this.sessionId&&!this._context.messageSessions[this.sessionId]}get sessionId(){return this._sessionId}get sessionLockedUntilUtc(){return this._messageSession?this._messageSession.sessionLockedUntilUtc:void 0}renewSessionLock(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),yield this._createMessageSessionIfDoesntExist(),this._messageSession.sessionLockedUntilUtc=yield this._context.managementClient.renewSessionLock(this.sessionId),this._messageSession.sessionLockedUntilUtc}))}setState(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),yield this._createMessageSessionIfDoesntExist(),this._context.managementClient.setSessionState(this.sessionId,e)}))}getState(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),yield this._createMessageSessionIfDoesntExist(),this._context.managementClient.getSessionState(this.sessionId)}))}peek(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),yield this._createMessageSessionIfDoesntExist(),this._context.managementClient.peekMessagesBySession(this.sessionId,e)}))}peekBySequenceNumber(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),yield this._createMessageSessionIfDoesntExist(),this._context.managementClient.peekBySequenceNumber(e,t,this.sessionId)}))}receiveDeferredMessage(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._throwIfReceiverOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"sequenceNumber",e),Object(p["k"])(this._context.namespace.connectionId,"sequenceNumber",e),yield this._createMessageSessionIfDoesntExist();const t=yield this._context.managementClient.receiveDeferredMessages([e],this._receiveMode,this.sessionId);return t[0]}))}receiveDeferredMessages(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),Object(p["j"])(this._context.namespace.connectionId,"sequenceNumbers",e),Array.isArray(e)||(e=[e]),Object(p["l"])(this._context.namespace.connectionId,"sequenceNumbers",e),yield this._createMessageSessionIfDoesntExist(),this._context.managementClient.receiveDeferredMessages(e,this._receiveMode,this.sessionId)}))}receiveMessages(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving(),yield this._createMessageSessionIfDoesntExist(),this._messageSession.receiveMessages(e,t)}))}registerMessageHandler(e,t,n){this._throwIfReceiverOrConnectionClosed(),this._throwIfAlreadyReceiving();const r=this._context.namespace.connectionId;if(Object(p["j"])(r,"onMessage",e),Object(p["j"])(r,"onError",t),"function"!==typeof e)throw new TypeError("The parameter 'onMessage' must be of type 'function'.");if("function"!==typeof t)throw new TypeError("The parameter 'onError' must be of type 'function'.");this._createMessageSessionIfDoesntExist().then(()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._messageSession&&(this._isClosed?yield this._messageSession.close():this._messageSession.receive(e,t,n))}))).catch(e=>{t(e)})}getMessageIterator(){return Object(i["__asyncGenerator"])(this,arguments,(function*(){while(1){const e=yield Object(i["__await"])(this.receiveMessages(1));yield yield Object(i["__await"])(e[0])}}))}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{this._messageSession&&(yield this._messageSession.close(),this._messageSession=void 0)}catch(e){throw o["error"]("[%s] An error occurred while closing the SessionReceiver for session %s in %s: %O",this._context.namespace.connectionId,this.sessionId,this._context.entityPath,e),e}finally{this._isClosed=!0}}))}isReceivingMessages(){return!!this._messageSession&&this._messageSession.isReceivingMessages}}var x=n("da5a"),E=n.n(x),S=n("a3d6"),O=n("b639");const k=["correlationId","messageId","to","replyTo","label","sessionId","replyToSessionId","contentType","userProperties"];class I extends h{constructor(e,t){super(e.entityPath+"/$management",e,{address:t&&t.address?t.address:a["f"].management,audience:t&&t.audience?t.audience:`${e.namespace.config.endpoint}${e.entityPath}/$management`}),this.managementLock=`${a["f"].managementRequestKey}-${Object(c["generate_uuid"])()}`,this.replyTo=Object(c["generate_uuid"])(),this._lastPeekedSequenceNumber=E.a.ZERO,this._context=e,this.entityPath=e.namespace.config.entityPath}_init(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["h"])(this._context.namespace);try{if(!this._isMgmtRequestResponseLinkOpen()){yield this._negotiateClaim();const e={source:{address:this.address},name:this.replyTo,target:{address:this.replyTo},onSessionError:e=>{const t=e.connection.options.id,n=Object(a["p"])(e.session.error);o["error"]("[%s] An error occurred on the session for request/response links for $management: %O",t,n)}},t={target:{address:this.address}};o["mgmt"]("[%s] Creating sender/receiver links on a session for $management endpoint with srOpts: %o, receiverOpts: %O.",this._context.namespace.connectionId,t,e),this._mgmtReqResLink=yield a["i"].create(this._context.namespace.connection,t,e),this._mgmtReqResLink.sender.on(c["SenderEvents"].senderError,e=>{const t=e.connection.options.id,n=Object(a["p"])(e.sender.error);o["error"]("[%s] An error occurred on the $management sender link.. %O",t,n)}),this._mgmtReqResLink.receiver.on(c["ReceiverEvents"].receiverError,e=>{const t=e.connection.options.id,n=Object(a["p"])(e.receiver.error);o["error"]("[%s] An error occurred on the $management receiver link.. %O",t,n)}),o["mgmt"]("[%s] Created sender '%s' and receiver '%s' links for $management endpoint.",this._context.namespace.connectionId,this._mgmtReqResLink.sender.name,this._mgmtReqResLink.receiver.name),yield this._ensureTokenRenewal()}}catch(e){throw e=Object(a["p"])(e),o["error"]("[%s] An error occured while establishing the $management links: %O",this._context.namespace.connectionId,e),e}}))}_isMgmtRequestResponseLinkOpen(){return this._mgmtReqResLink&&this._mgmtReqResLink.isOpen()}_safelyGetTypedValueFromArray(e,t){return Array.isArray(e)&&e.length>t&&e[t]?e[t].value:void 0}_getAssociatedReceiverName(e,t){return void 0!=t&&e.messageSessions[t]?e.messageSessions[t].name:e.batchingReceiver?e.batchingReceiver.name:e.streamingReceiver?e.streamingReceiver.name:void 0}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{if(clearTimeout(this._tokenRenewalTimer),this._isMgmtRequestResponseLinkOpen()){const e=this._mgmtReqResLink;this._mgmtReqResLink=void 0,yield e.close(),o["mgmt"]("Successfully closed the management session.")}}catch(e){throw o["error"]("[%s] An error occurred while closing the management session: %O.",this._context.namespace.connectionId,e),e}}))}peek(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),this.peekBySequenceNumber(this._lastPeekedSequenceNumber.add(1),e)}))}peekMessagesBySession(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),this.peekBySequenceNumber(this._lastPeekedSequenceNumber.add(1),t,e)}))}peekBySequenceNumber(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);const r=this._context.namespace.connectionId;if(Object(p["j"])(r,"fromSequenceNumber",e),Object(p["k"])(r,"fromSequenceNumber",e),void 0!==t){if(Object(p["m"])(r,"maxMessageCount",t,"number"),t<=0)return[]}else t=1;const i=[];try{const r={};r[a["f"].fromSequenceNumber]=c["types"].wrap_long(O["Buffer"].from(e.toBytesBE())),r[a["f"].messageCount]=c["types"].wrap_int(t),void 0!=n&&(r[a["f"].sessionIdMapKey]=n);const s={body:r,message_id:Object(c["generate_uuid"])(),reply_to:this.replyTo,application_properties:{operation:a["f"].operations.peekMessage}},d=this._getAssociatedReceiverName(this._context,n);d&&(s.application_properties[a["f"].associatedLinkName]=d),s.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Peek by sequence number request body: %O.",this._context.namespace.connectionId,s.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const h=yield this._mgmtReqResLink.sendRequest(s);if(204!==h.application_properties.statusCode){const e=h.body.messages;for(const t of e){const e=c["message"].decode(t.message),n=Object(u["e"])(e);n.body=this._context.namespace.dataTransformer.decode(n.body),i.push(n),this._lastPeekedSequenceNumber=n.sequenceNumber}}}catch(s){const e=Object(a["p"])(s);if(o["error"]("An error occurred while sending the request to peek messages to $management endpoint: %O",e),e.name!==a["c"]["com.microsoft:message-not-found"])throw e}return i}))}renewLock(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),t||(t={}),null==t.delayInSeconds&&(t.delayInSeconds=1),null==t.timeoutInSeconds&&(t.timeoutInSeconds=5),null==t.times&&(t.times=5);try{const n={};n[a["f"].lockTokens]=c["types"].wrap_array([Object(c["string_to_uuid"])(e)],152,void 0);const r={body:n,reply_to:this.replyTo,application_properties:{operation:a["f"].operations.renewLock}};r.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])();const i=this._getAssociatedReceiverName(this._context);i&&(r.application_properties[a["f"].associatedLinkName]=i),o["mgmt"]("[%s] Renew message Lock request: %O.",this._context.namespace.connectionId,r),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const s=yield this._mgmtReqResLink.sendRequest(r,t),u=new Date(s.body.expirations[0]);return u}catch(n){const e=Object(a["p"])(n);throw o["error"]("An error occurred while sending the renew lock request to $management endpoint: %O",e),e}}))}scheduleMessages(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);const n=[];for(let i=0;i<t.length;i++){const s=t[i];s.messageId||(s.messageId=Object(c["generate_uuid"])()),s.scheduledEnqueueTimeUtc=e;const d=Object(u["g"])(s);try{const e={message:c["message"].encode(d),"message-id":s.messageId};s.sessionId&&(e[a["f"].sessionIdMapKey]=s.sessionId),s.partitionKey&&(e["partition-key"]=s.partitionKey),s.viaPartitionKey&&(e["via-partition-key"]=s.viaPartitionKey);const t=c["types"].wrap_map(e);n.push(t)}catch(r){let e;throw e=r instanceof TypeError||"TypeError"===r.name?Object(a["p"])(Object(u["f"])(s)||r):Object(a["p"])(r),o["error"]("An error occurred while encoding the item at position %d in the messages array: %O",i,e),e}}try{const e={body:{messages:n},reply_to:this.replyTo,application_properties:{operation:a["f"].operations.scheduleMessage}};this._context.sender&&(e.application_properties[a["f"].associatedLinkName]=this._context.sender.name),e.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Schedule messages request body: %O.",this._context.namespace.connectionId,e.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const t=yield this._mgmtReqResLink.sendRequest(e),r=t.body[a["f"].sequenceNumbers],i=[];for(let n=0;n<r.length;n++)"number"===typeof r[n]?i.push(E.a.fromNumber(r[n])):i.push(E.a.fromBytesBE(r[n]));return i}catch(r){const e=Object(a["p"])(r);throw o["error"]("An error occurred while sending the request to schedule messages to $management endpoint: %O",e),e}}))}cancelScheduledMessages(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);const t={};t[a["f"].sequenceNumbers]=[];for(let r=0;r<e.length;r++){const i=e[r];try{t[a["f"].sequenceNumbers].push(O["Buffer"].from(i.toBytesBE()))}catch(n){const e=Object(a["p"])(n);throw o["error"]("An error occurred while encoding the item at position %d in the sequenceNumbers array: %O",r,e),e}}try{t[a["f"].sequenceNumbers]=c["types"].wrap_array(t[a["f"].sequenceNumbers],129,void 0);const e={body:t,message_id:Object(c["generate_uuid"])(),reply_to:this.replyTo,application_properties:{operation:a["f"].operations.cancelScheduledMessage}};this._context.sender&&(e.application_properties[a["f"].associatedLinkName]=this._context.sender.name),e.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Cancel scheduled messages request body: %O.",this._context.namespace.connectionId,e.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init()),yield this._mgmtReqResLink.sendRequest(e)}catch(n){const e=Object(a["p"])(n);throw o["error"]("An error occurred while sending the request to cancel the scheduled message to $management endpoint: %O",e),e}}))}receiveDeferredMessages(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);const r=[],i={};i[a["f"].sequenceNumbers]=[];for(let t=0;t<e.length;t++){const n=e[t];try{i[a["f"].sequenceNumbers].push(O["Buffer"].from(n.toBytesBE()))}catch(s){const e=Object(a["p"])(s);throw o["error"]("An error occurred while encoding the item at position %d in the sequenceNumbers array: %O",t,e),e}}try{i[a["f"].sequenceNumbers]=c["types"].wrap_array(i[a["f"].sequenceNumbers],129,void 0);const e=t===u["c"].receiveAndDelete?0:1;i[a["f"].receiverSettleMode]=c["types"].wrap_uint(e),null!=n&&(i[a["f"].sessionIdMapKey]=n);const s={body:i,message_id:Object(c["generate_uuid"])(),reply_to:this.replyTo,application_properties:{operation:a["f"].operations.receiveBySequenceNumber}},d=this._getAssociatedReceiverName(this._context,n);d&&(s.application_properties[a["f"].associatedLinkName]=d),s.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Receive deferred messages request body: %O.",this._context.namespace.connectionId,s.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const h=yield this._mgmtReqResLink.sendRequest(s),l=h.body.messages;for(const t of l){const e=c["message"].decode(t.message),n=new u["d"](this._context,e,{tag:t["lock-token"]},!1);n.lockToken&&n.lockedUntilUtc&&this._context.requestResponseLockedMessages.set(n.lockToken,n.lockedUntilUtc),r.push(n)}return r}catch(s){const e=Object(a["p"])(s);throw o["error"]("An error occurred while sending the request to receive deferred messages to $management endpoint: %O",e),e}}))}updateDispositionStatus(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),n||(n={});try{const r={},i=[];i.push(Object(c["string_to_uuid"])(e)),r[a["f"].lockTokens]=c["types"].wrap_array(i,152,void 0),r[a["f"].dispositionStatus]=t,null!=n.deadLetterDescription&&(r[a["f"].deadLetterDescription]=n.deadLetterDescription),null!=n.deadLetterReason&&(r[a["f"].deadLetterReason]=n.deadLetterReason),null!=n.propertiesToModify&&(r[a["f"].propertiesToModify]=n.propertiesToModify),null!=n.sessionId&&(r[a["f"].sessionIdMapKey]=n.sessionId);const s={body:r,message_id:Object(c["generate_uuid"])(),reply_to:this.replyTo,application_properties:{operation:a["f"].operations.updateDisposition}},u=this._getAssociatedReceiverName(this._context,n.sessionId);u&&(s.application_properties[a["f"].associatedLinkName]=u),s.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Update disposition status request body: %O.",this._context.namespace.connectionId,s.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init()),yield this._mgmtReqResLink.sendRequest(s)}catch(r){const e=Object(a["p"])(r);throw o["error"]("An error occurred while sending the request to update disposition status to $management endpoint: %O",e),e}}))}renewSessionLock(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),t||(t={}),null==t.delayInSeconds&&(t.delayInSeconds=1),null==t.timeoutInSeconds&&(t.timeoutInSeconds=5),null==t.times&&(t.times=5);try{const n={};n[a["f"].sessionIdMapKey]=e;const r={body:n,reply_to:this.replyTo,application_properties:{operation:a["f"].operations.renewSessionLock}};r.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])();const i=this._getAssociatedReceiverName(this._context,e);i&&(r.application_properties[a["f"].associatedLinkName]=i),o["mgmt"]("[%s] Renew Session Lock request body: %O.",this._context.namespace.connectionId,r.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const s=yield this._mgmtReqResLink.sendRequest(r,t),u=new Date(s.body.expiration);return o["mgmt"]("[%s] Lock for session '%s' will expire at %s.",this._context.namespace.connectionId,e,u.toString()),u}catch(n){const e=Object(a["p"])(n);throw o["error"]("An error occurred while sending the renew lock request to $management endpoint: %O",e),e}}))}setSessionState(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);try{const n={};n[a["f"].sessionIdMapKey]=e,n["session-state"]=Object(d["h"])(t);const r={body:n,reply_to:this.replyTo,application_properties:{operation:a["f"].operations.setSessionState}},i=this._getAssociatedReceiverName(this._context,e);i&&(r.application_properties[a["f"].associatedLinkName]=i),r.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Set Session state request body: %O.",this._context.namespace.connectionId,r.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init()),yield this._mgmtReqResLink.sendRequest(r)}catch(n){const e=Object(a["p"])(n);throw o["error"]("An error occurred while sending the renew lock request to $management endpoint: %O",e),e}}))}getSessionState(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);try{const t={};t[a["f"].sessionIdMapKey]=e;const n={body:t,reply_to:this.replyTo,application_properties:{operation:a["f"].operations.getSessionState}},r=this._getAssociatedReceiverName(this._context,e);r&&(n.application_properties[a["f"].associatedLinkName]=r),n.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Get session state request body: %O.",this._context.namespace.connectionId,n.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const i=yield this._mgmtReqResLink.sendRequest(n);return i.body["session-state"]?this._context.namespace.dataTransformer.decode(i.body["session-state"]):i.body["session-state"]}catch(t){const e=Object(a["p"])(t);throw o["error"]("An error occurred while sending the renew lock request to $management endpoint: %O",e),e}}))}listMessageSessions(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);const r=2592e5;if("number"!==typeof e)throw new Error("'skip' is a required parameter and must be of type 'number'.");if("number"!==typeof t)throw new Error("'top' is a required parameter and must be of type 'number'.");if(n&&!(n instanceof Date))throw new Error("'lastUpdatedTime' must be of type 'Date'.");n||(n=new Date(Date.now()-r));try{const r={};r["last-updated-time"]=n,r["skip"]=c["types"].wrap_int(e),r["top"]=c["types"].wrap_int(t);const i={body:r,reply_to:this.replyTo,application_properties:{operation:a["f"].operations.enumerateSessions}};i.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] List sessions request body: %O.",this._context.namespace.connectionId,i.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const s=yield this._mgmtReqResLink.sendRequest(i);return s&&s.body&&s.body["sessions-ids"]||[]}catch(i){const e=Object(a["p"])(i);throw o["error"]("An error occurred while sending the renew lock request to $management endpoint: %O",e),e}}))}getRules(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed);try{const e={body:{top:c["types"].wrap_int(S["b"]),skip:c["types"].wrap_int(0)},reply_to:this.replyTo,application_properties:{operation:a["f"].operations.enumerateRules}};e.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Get rules request body: %O.",this._context.namespace.connectionId,e.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init());const t=yield this._mgmtReqResLink.sendRequest(e);if(204===t.application_properties.statusCode||!t.body||!Array.isArray(t.body.rules))return[];const n=t.body.rules||[],r=[];return n.forEach(e=>{const t=e["rule-description"];if(!t||!t.descriptor||t.descriptor.value!==a["f"].descriptorCodes.ruleDescriptionList||!Array.isArray(t.value)||t.value.length<3)return;const n=t.value[0],i=t.value[1],s={name:t.value[2].value};switch(n.descriptor.value){case a["f"].descriptorCodes.trueFilterList:s.filter="1=1";break;case a["f"].descriptorCodes.falseFilterList:s.filter="1=0";break;case a["f"].descriptorCodes.sqlFilterList:s.filter=this._safelyGetTypedValueFromArray(n.value,0);break;case a["f"].descriptorCodes.correlationFilterList:s.filter={correlationId:this._safelyGetTypedValueFromArray(n.value,0),messageId:this._safelyGetTypedValueFromArray(n.value,1),to:this._safelyGetTypedValueFromArray(n.value,2),replyTo:this._safelyGetTypedValueFromArray(n.value,3),label:this._safelyGetTypedValueFromArray(n.value,4),sessionId:this._safelyGetTypedValueFromArray(n.value,5),replyToSessionId:this._safelyGetTypedValueFromArray(n.value,6),contentType:this._safelyGetTypedValueFromArray(n.value,7),userProperties:this._safelyGetTypedValueFromArray(n.value,8)};break;default:o["mgmt"]("Found unexpected descriptor code for the filter: "+n.descriptor.value);break}i.descriptor.value===a["f"].descriptorCodes.sqlRuleActionList&&Array.isArray(i.value)&&i.value.length&&(s.action=this._safelyGetTypedValueFromArray(i.value,0)),r.push(s)}),r}catch(e){const t=Object(a["p"])(e);throw o["error"]("An error occurred while sending the get rules request to $management endpoint: %O",t),t}}))}removeRule(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),Object(p["j"])(this._context.namespace.connectionId,"ruleName",e),e=String(e),Object(p["i"])(this._context.namespace.connectionId,"ruleName",e);try{const t={body:{"rule-name":c["types"].wrap_string(e)},reply_to:this.replyTo,application_properties:{operation:a["f"].operations.removeRule}};t.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Remove Rule request body: %O.",this._context.namespace.connectionId,t.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init()),yield this._mgmtReqResLink.sendRequest(t)}catch(t){const e=Object(a["p"])(t);throw o["error"]("An error occurred while sending the remove rule request to $management endpoint: %O",e),e}}))}addRule(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(Object(p["g"])(this._context.namespace,this._context.entityPath,this._context.isClosed),Object(p["j"])(this._context.namespace.connectionId,"ruleName",e),e=String(e),Object(p["i"])(this._context.namespace.connectionId,"ruleName",e),Object(p["j"])(this._context.namespace.connectionId,"filter",t),"boolean"!==typeof t&&"string"!==typeof t&&!k.some(e=>t.hasOwnProperty(e)))throw new TypeError('The parameter "filter" should be either a boolean, string or implement the CorrelationFilter interface.');try{const r={};switch(typeof t){case"boolean":r["sql-filter"]={expression:t?"1=1":"1=0"};break;case"string":r["sql-filter"]={expression:t};break;default:r["correlation-filter"]={"correlation-id":t.correlationId,"message-id":t.messageId,to:t.to,"reply-to":t.replyTo,label:t.label,"session-id":t.sessionId,"reply-to-session-id":t.replyToSessionId,"content-type":t.contentType,properties:t.userProperties};break}void 0!==n&&(r["sql-rule-action"]={expression:String(n)});const i={body:{"rule-name":c["types"].wrap_string(e),"rule-description":c["types"].wrap_map(r)},reply_to:this.replyTo,application_properties:{operation:a["f"].operations.addRule}};i.application_properties[a["f"].trackingId]=Object(c["generate_uuid"])(),o["mgmt"]("[%s] Add Rule request body: %O.",this._context.namespace.connectionId,i.body),o["mgmt"]("[%s] Acquiring lock to get the management req res link.",this._context.namespace.connectionId),yield a["l"].acquire(this.managementLock,()=>this._init()),yield this._mgmtReqResLink.sendRequest(i)}catch(r){const e=Object(a["p"])(r);throw o["error"]("An error occurred while sending the Add rule request to $management endpoint: %O",e),e}}))}}class A{constructor(e){this._map=new Map,this._cleanupScheduled=!1,this._lockId=Object(c["generate_uuid"])(),this._lockStore=new a["b"]({maxPending:1e6}),e||(e={}),this._delayBetweenCleanupInSeconds=e.delayBetweenCleanupInSeconds||30}_scheduleCleanup(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){this._cleanupScheduled||0===this._map.size||(yield this._lockStore.acquire(this._lockId,()=>{this._cleanupScheduled=!0,this._collectExpiredEntries().catch(e=>{o["error"]("An error occurred while collecting expired entries: %O",e)})}))}))}_collectExpiredEntries(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(0!==this._map.size){yield Object(a["m"])(this._delayBetweenCleanupInSeconds),this._cleanupScheduled=!1;for(const e of this._map.keys())Date.now()>this._map.get(e).getTime()&&(this._map.delete(e),o["map"]("Deleted the key '%s' from the map.",e));this._scheduleCleanup().catch(e=>{o["error"]("An error occurred while scheduling the cleanup, after collecting expired entries: %O",e)})}}))}set(e,t){this._map.set(e,t),this._scheduleCleanup().catch(t=>{o["error"]("An error occurred while scheduling the cleanup, after setting the key: '%s': %O",e,t)})}has(e){const t=this._map.get(e),n=t&&t.getTime()>Date.now();return o["map"]("Key '%s' is present in the map? -> %s",e,n),n}delete(e){return o["map"]("Deleting key '%s' from the map",e),this._map.delete(e)}clear(){o["map"]("Clearing the map of all the entries"),this._map.clear()}}class T{constructor(e){if(this._queue=[],this._used=0,"number"!==typeof e)throw new TypeError("Expected limit to be a number, got "+typeof e);if(e<1)throw new Error("limit cannot be less than 1");this.limit=e}acquire(){return this._used<this.limit?(this._used+=1,Promise.resolve()):new Promise(e=>{this._queue.push(e)})}release(){if(this._queue.length){const e=this._queue.shift();e&&e()}else this._used-=1}use(e){return this.acquire().then(e).then(e=>(this.release(),e)).catch(e=>{throw this.release(),e})}currentLockCount(){return this._used}awaitedTaskCount(){return this._queue.length}}var R,j;(function(e){e["queue"]="Queue",e["subscription"]="Subscription"})(R||(R={}));class L{constructor(e){this._isManagingSessions=!1,this._isCancelRequested=!1,this._context=e,this.maxConcurrentSessions=2e3}set maxConcurrentSessions(e){if(e<=0)throw new Error("'maxConcurrentSessions must be greater than 0.");this._maxConcurrentSessions=e,this.maxConcurrentAcceptSessionRequests=e}get maxConcurrenSessions(){return this._maxConcurrentSessions}set maxConcurrentAcceptSessionRequests(e){this._maxConcurrentAcceptSessionRequests=Math.min(e,Object(d["d"])())}get maxConcurrentAcceptSessionRequests(){return this._maxConcurrentAcceptSessionRequests}_acceptSessionAndReceiveMessages(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){n||(n={});const r=this._context.namespace.connectionId,s=10;while(!this._isCancelRequested)try{yield this._maxConcurrentSessionsSemaphore.acquire(),o["sessionManager"]("[%s] Acquired the semaphore for max concurrent sessions: %d, %d.",r,this._maxConcurrentSessionsSemaphore.currentLockCount(),this._maxConcurrentSessionsSemaphore.awaitedTaskCount()),yield this._maxPendingAcceptSessionsSemaphore.acquire(),o["sessionManager"]("[%s] Acquired the semaphore for max pending accept sessions: %d, %d.",r,this._maxPendingAcceptSessionsSemaphore.currentLockCount(),this._maxPendingAcceptSessionsSemaphore.awaitedTaskCount());const s=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{yield this._maxConcurrentSessionsSemaphore.release(),o["sessionManager"]("[%s] Releasing the semaphore for max concurrent sessions: %d, %d.",r,this._maxConcurrentSessionsSemaphore.currentLockCount(),this._maxConcurrentSessionsSemaphore.awaitedTaskCount()),e.isOpen()&&(yield e.close())}catch(t){o["error"]("[%s] An error occurred while releasing the max concurrent session semaphore or while closing MessageSession with id '%s': %O.",r,e.sessionId,t)}})),c=yield b.create(this._context,Object.assign({sessionId:void 0,callee:f.sessionManager},n));c.newMessageWaitTimeoutInSeconds=n.newMessageWaitTimeoutInSeconds,this._isCancelRequested&&(o["sessionManager"]("[%s] Since cancellation was requested, we will close the messageSession with id '%s'.",r,c.sessionId),yield s(c));const u=c.sessionId;this._context.messageSessions[u]=c,o["sessionManager"]("[%s] Created MessageSession with id '%s'.",r,u);const d=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){o["sessionManager"]("An error ocurred in MessageSession with id '%s': %O. Hence closing it.",r,u,e),yield s(c),e.name!==a["c"]["com.microsoft:message-wait-timeout"]&&t(e)}));c.receive(e,d,n)}catch(c){o["error"]("[%s] An error occurred while accepting a MessageSession: %O",r,c),this._maxConcurrentSessionsSemaphore.release(),o["sessionManager"]("[%s] Releasing the semaphore for max concurrent sessions because an error ocurred: %d, %d.",r,this._maxConcurrentSessionsSemaphore.currentLockCount(),this._maxConcurrentSessionsSemaphore.awaitedTaskCount()),c.name===a["c"]["amqp:operation-timeout"]||c.name===a["c"]["com.microsoft:timeout"]||c.name===a["c"]["com.microsoft:session-cannot-be-locked"]?this._isCancelRequested||(o["sessionManager"]("[%s] Sleeping for %d seconds, since there are no more active MessageSessions on the ServiceBus entity.",r,s),yield Object(a["m"])(1e3*s)):t(c)}finally{this._maxPendingAcceptSessionsSemaphore.release(),o["sessionManager"]("[%s] Releasing the semaphore for max pending accept sessions from the finally block: %d, %d.",r,this._maxPendingAcceptSessionsSemaphore.currentLockCount(),this._maxPendingAcceptSessionsSemaphore.awaitedTaskCount())}}))}manageMessageSessions(e,t,n,r){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(this._isManagingSessions)throw new Error(`${e}Client for "${this._context.namespace.config.entityPath}" is already receiving messages from sessions. Please close this ${e}Client or create a new one and receiveMessages from Sessions.`);this._isManagingSessions=!0,this._isCancelRequested=!1,r||(r={}),r.maxConcurrentSessions&&(this.maxConcurrentSessions=r.maxConcurrentSessions),r.newMessageWaitTimeoutInSeconds||(r.newMessageWaitTimeoutInSeconds=a["f"].defaultOperationTimeoutInSeconds),this._maxConcurrentSessionsSemaphore=new T(this.maxConcurrenSessions),this._maxPendingAcceptSessionsSemaphore=new T(this.maxConcurrentAcceptSessionRequests);for(let e=0;e<this._maxConcurrentAcceptSessionRequests;e++)this._acceptSessionAndReceiveMessages(t,n,r).catch(e=>{o["error"](e)})}))}close(){o["sessionManager"]("[%s] Closing the SessionMaanger for entity '%s'.",this._context.namespace.connectionId,this._context.entityPath),this._isCancelRequested=!0,this._isManagingSessions=!1}}function M(e,t){let n;for(const r of Object.keys(e))if(e[r].entityPath===t){n=e[r].managementClient;break}return n}(function(e){function t(e,t,n,r,s){o["entityCtxt"]("[%s] Creating client entity context for %s: %O",n.connectionId,r),s||(s={});const c={namespace:n,entityPath:e,clientType:t,clientId:r,isClosed:!1,requestResponseLockedMessages:new A,isSessionEnabled:!!s.isSessionEnabled,messageSessions:{},expiredMessageSessions:{}};c.sessionManager=new L(c),c.getReceiver=(e,t)=>{if(void 0!=t&&c.expiredMessageSessions[t]){const n=new Error(`The session lock has expired on the session with id ${t}.`);throw n.name="SessionLockLostError",o["error"]("[%s] Failed to find receiver '%s' as the session with id '%s' is expired",c.namespace.connectionId,e,t),n}if(null!=t&&c.messageSessions[t]&&c.messageSessions[t].name===e)return c.messageSessions[t];if(c.streamingReceiver&&c.streamingReceiver.name===e)return c.streamingReceiver;if(c.batchingReceiver&&c.batchingReceiver.name===e)return c.batchingReceiver;let n="";null!=t&&c.messageSessions[t]?n=c.messageSessions[t].name:(c.streamingReceiver&&(n=c.streamingReceiver.name),c.batchingReceiver&&(n+=(n?", ":"")+c.batchingReceiver.name)),o["error"]("[%s] Failed to find receiver '%s' among existing receivers: %s",c.namespace.connectionId,e,n)},c.onDetached=e=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){const t=c.namespace.connectionId,n=[],r=c.sender;r&&!r.isConnecting&&(o["error"]("[%s] calling detached on sender '%s'.",t,r.name),n.push(r.onDetached().catch(e=>{o["error"]("[%s] An error occurred while calling onDetached() the sender '%s': %O.",t,r.name,e)})));const i=c.batchingReceiver;i&&!i.isConnecting&&(o["error"]("[%s] calling detached on batching receiver '%s'.",t,i.name),n.push(i.onDetached(e).catch(e=>{o["error"]("[%s] An error occurred while calling onDetached() on the batching receiver '%s': %O.",t,i.name,e)})));const s=c.streamingReceiver;if(s&&!s.isConnecting){o["error"]("[%s] calling detached on streaming receiver '%s'.",t,s.name);const r=!0;n.push(s.onDetached(e,r).catch(e=>{o["error"]("[%s] An error occurred while calling onDetached() on the streaming receiver '%s': %O.",t,s.name,e)}))}yield Promise.all(n)}));const a=()=>{for(const e of Object.keys(n.clientContexts))if(n.clientContexts[e].entityPath===c.entityPath&&n.clientContexts[e].clientId!==c.clientId)return!0;return!1};c.close=()=>Object(i["__awaiter"])(this,void 0,void 0,(function*(){if(c.isClosed=!0,n.connection&&n.connection.isOpen()){o["entityCtxt"]("[%s] Closing client entity context for %s: %O",n.connectionId,r),c.sender&&(yield c.sender.close()),c.batchingReceiver&&(yield c.batchingReceiver.close()),c.streamingReceiver&&(yield c.streamingReceiver.close());for(const e of Object.keys(c.messageSessions))yield c.messageSessions[e].close();c.sessionManager&&c.sessionManager.close(),c.requestResponseLockedMessages.clear(),delete n.clientContexts[r],c.managementClient&&!a()&&(yield c.managementClient.close()),o["entityCtxt"]("[%s] Closed client entity context for %s: %O",n.connectionId,r)}}));let u=M(n.clientContexts,e);if(!u){const t={address:s.managementClientAddress||e+"/$management",audience:s.managementClientAudience};u=new I(c,t)}c.managementClient=u;const d=c;return n.clientContexts[c.clientId]=d,o["entityCtxt"]("[%s] Created client entity context for %s: %O",n.connectionId,r),d}e.create=t})(j||(j={}));class P{constructor(e,t){Object(p["h"])(t),this.entityPath=String(e),this.id=`${this.entityPath}/${Object(c["generate_uuid"])()}`,this._context=j.create(this.entityPath,r.QueueClient,t,this.id)}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{yield this._context.close()}catch(e){throw o["error"]("[%s] An error occurred while closing the QueueClient for %s: %O",this._context.namespace.connectionId,this.id,e),e}}))}createSender(){if(Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),!this._currentSender||this._currentSender.isClosed)return this._currentSender=new v(this._context),this._currentSender;const e=Object(p["d"])("QueueClient",this.entityPath),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}createReceiver(e,t){if(Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),!t){if(!this._currentReceiver||this._currentReceiver.isClosed)return this._currentReceiver=new w(this._context,e),this._currentReceiver;const t=Object(p["c"])(r.QueueClient,this.entityPath),n=new Error(t);throw o["error"](`[${this._context.namespace.connectionId}] %O`,n),n}return new C(this._context,e,t)}peek(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.peek(e)}))}peekBySequenceNumber(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.peekBySequenceNumber(e,t)}))}static getDeadLetterQueuePath(e){return e+"/$DeadLetterQueue"}}class q{constructor(e,t){Object(p["h"])(t),this.entityPath=String(e),this.id=`${this.entityPath}/${Object(c["generate_uuid"])()}`,this._context=j.create(this.entityPath,r.TopicClient,t,this.id)}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{yield this._context.close()}catch(e){throw o["error"]("[%s] An error occurred while closing the TopicClient for %s: %O",this._context.namespace.connectionId,this.id,e),e}}))}createSender(){if(Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),!this._currentSender||this._currentSender.isClosed)return this._currentSender=new v(this._context),this._currentSender;const e=Object(p["d"])("TopicClient",this.entityPath),t=new Error(e);throw o["error"](`[${this._context.namespace.connectionId}] %O`,t),t}static getDeadLetterTopicPath(e,t){return`${e}/Subscriptions/${t}/$DeadLetterQueue`}}class F{constructor(e,t,n){this.defaultRuleName="$Default",Object(p["h"])(n),this.topicName=String(e),this.subscriptionName=String(t),this.entityPath=`${e}/Subscriptions/${t}`,this.id=`${this.entityPath}/${Object(c["generate_uuid"])()}`,this._context=j.create(this.entityPath,r.SubscriptionClient,n,this.id)}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{yield this._context.close()}catch(e){throw o["error"]("[%s] An error occurred while closing the SubscriptionClient for %s: %O",this._context.namespace.connectionId,this.id,e),e}}))}createReceiver(e,t){if(Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),!t){if(!this._currentReceiver||this._currentReceiver.isClosed)return this._currentReceiver=new w(this._context,e),this._currentReceiver;const t=Object(p["c"])(r.SubscriptionClient,this.entityPath),n=new Error(t);throw o["error"](`[${this._context.namespace.connectionId}] %O`,n),n}return new C(this._context,e,t)}peek(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.peek(e)}))}peekBySequenceNumber(e,t){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.peekBySequenceNumber(e,t)}))}getRules(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.getRules()}))}removeRule(e){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.removeRule(e)}))}addRule(e,t,n){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){return Object(p["g"])(this._context.namespace,this.entityPath,this._context.isClosed),this._context.managementClient.addRule(e,t,n)}))}}class N{constructor(e,t,n){n||(n={}),this.name=e.endpoint,this._context=s["a"].create(e,t,n)}createQueueClient(e){const t=new P(e,this._context);return o["ns"]("Created the QueueClient for Queue: %s",e),t}createTopicClient(e){const t=new q(e,this._context);return o["ns"]("Created the TopicClient for Topic: %s",e),t}createSubscriptionClient(e,t){const n=new F(e,t,this._context);return o["ns"]("Created the SubscriptionClient for Topic: %s and Subscription: %s",e,t),n}close(){return Object(i["__awaiter"])(this,void 0,void 0,(function*(){try{if(this._context.connection.isOpen()){o["ns"]("Closing the amqp connection '%s' on the client.",this._context.connectionId);for(const e of Object.keys(this._context.clientContexts)){const t=this._context.clientContexts[e];yield t.close()}yield this._context.cbsSession.close(),yield this._context.connection.close(),this._context.wasConnectionCloseCalled=!0,o["ns"]("Closed the amqp connection '%s' on the client.",this._context.connectionId)}}catch(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));throw o["error"](`An error occurred while closing the connection "${this._context.connectionId}":\n${t}`),t}}))}static createFromConnectionString(e,t){const n=a["d"].create(e);n.webSocket=t&&t.webSocket,n.webSocketEndpointPath="$servicebus/websocket",n.webSocketConstructorOptions=t&&t.webSocketConstructorOptions,a["d"].validate(n);const r=new a["k"](n.endpoint,n.sharedAccessKeyName,n.sharedAccessKey);return new N(n,r,t)}static createFromTokenProvider(e,t,n){if(e=String(e),!t)throw new TypeError('Missing parameter "tokenProvider"');e.endsWith("/")||(e+="/");const r=`Endpoint=sb://${e};SharedAccessKeyName=defaultKeyName;SharedAccessKey=defaultKeyValue`,i=a["d"].create(r);return i.webSocket=n&&n.webSocket,i.webSocketEndpointPath="$servicebus/websocket",i.webSocketConstructorOptions=n&&n.webSocketConstructorOptions,a["d"].validate(i),new N(i,t,n)}static createFromAadTokenCredentials(e,t,n){if(!d["f"])throw new Error("`createFromAadTokenCredentials` cannot be used to create ServiceBusClient as AAD support is not present in browser.");e=String(e);const r=new a["a"](t);return N.createFromTokenProvider(e,r,n)}}},be97:function(e,t,n){"use strict";(function(r){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function c(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function u(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:"/asb-client-spa/"}).DEBUG),e}function d(){try{return localStorage}catch(e){}}t.log=c,t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.storage=d(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("d7b0")(t);var h=e.exports.formatters;h.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c3a9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("faa1");class i extends r.EventEmitter{constructor(){super(),this.actionInitiated=0}}t.Entity=i},c430:function(e,t){e.exports=!1},c53e:function(e,t,n){"use strict";var r;(function(i){function o(e,t,n){var r,i,o,s,c,m,v,_,g,y=0,b=[],w=0,C=!1,x=[],E=[],S=!1,O=!1,k=-1;if(n=n||{},r=n.encoding||"UTF8",g=n.numRounds||1,g!==parseInt(g,10)||1>g)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)c=512,m=U,v=D,s=160,_=function(e){return e.slice()};else if(0===e.lastIndexOf("SHA-",0))if(m=function(t,n){return B(t,n,e)},v=function(t,n,r,i){var o,s;if("SHA-224"===e||"SHA-256"===e)o=15+(n+65>>>9<<4),s=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");o=31+(n+129>>>10<<5),s=32}for(;t.length<=o;)t.push(0);for(t[n>>>5]|=128<<24-n%32,n+=r,t[o]=4294967295&n,t[o-1]=n/4294967296|0,r=t.length,n=0;n<r;n+=s)i=B(t.slice(n,n+s),i,e);if("SHA-224"===e)t=[i[0],i[1],i[2],i[3],i[4],i[5],i[6]];else if("SHA-256"===e)t=i;else if("SHA-384"===e)t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b,i[6].a,i[6].b,i[7].a,i[7].b]}return t},_=function(e){return e.slice()},"SHA-224"===e)c=512,s=224;else if("SHA-256"===e)c=512,s=256;else if("SHA-384"===e)c=1024,s=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");c=1024,s=512}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var I=6;if(m=H,_=function(e){var t,n=[];for(t=0;5>t;t+=1)n[t]=e[t].slice();return n},k=1,"SHA3-224"===e)c=1152,s=224;else if("SHA3-256"===e)c=1088,s=256;else if("SHA3-384"===e)c=832,s=384;else if("SHA3-512"===e)c=576,s=512;else if("SHAKE128"===e)c=1344,s=-1,I=31,O=!0;else{if("SHAKE256"!==e)throw Error("Chosen SHA variant is not supported");c=1088,s=-1,I=31,O=!0}v=function(e,t,n,r,i){n=c;var o,s=I,a=[],u=n>>>5,d=0,h=t>>>5;for(o=0;o<h&&t>=n;o+=u)r=H(e.slice(o,o+u),r),t-=n;for(e=e.slice(o),t%=n;e.length<u;)e.push(0);for(o=t>>>3,e[o>>2]^=s<<o%4*8,e[u-1]^=2147483648,r=H(e,r);32*a.length<i;){if(e=r[d%5][d/5|0],a.push(e.b),32*a.length>=i)break;a.push(e.a),d+=1,0===64*d%n&&(H(null,r),d=0)}return a}}o=p(t,r,k),i=$(e),this.setHMACKey=function(t,n,o){var a;if(!0===C)throw Error("HMAC key already set");if(!0===S)throw Error("Cannot set HMAC key after calling update");if(!0===O)throw Error("SHAKE is not supported for HMAC");for(r=(o||{}).encoding||"UTF8",n=p(n,r,k)(t),t=n.binLen,n=n.value,a=c>>>3,o=a/4-1,a<t/8&&(n=v(n,t,0,$(e),s));n.length<=o;)n.push(0);for(t=0;t<=o;t+=1)x[t]=909522486^n[t],E[t]=1549556828^n[t];i=m(x,i),y=c,C=!0},this.update=function(e){var t,n,r,s=0,a=c>>>5;for(t=o(e,b,w),e=t.binLen,n=t.value,t=e>>>5,r=0;r<t;r+=a)s+c<=e&&(i=m(n.slice(r,r+a),i),s+=c);y+=s,b=n.slice(s>>>5),w=e%c,S=!0},this.getHash=function(t,n){var r,o,c,p;if(!0===C)throw Error("Cannot call getHash after setting HMAC key");if(c=f(n),!0===O){if(-1===c.shakeLen)throw Error("shakeLen must be specified in options");s=c.shakeLen}switch(t){case"HEX":r=function(e){return a(e,s,k,c)};break;case"B64":r=function(e){return u(e,s,k,c)};break;case"BYTES":r=function(e){return d(e,s,k)};break;case"ARRAYBUFFER":try{o=new ArrayBuffer(0)}catch(m){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return h(e,s,k)};break;case"UINT8ARRAY":try{o=new Uint8Array(0)}catch(m){throw Error("UINT8ARRAY not supported by this environment")}r=function(e){return l(e,s,k)};break;default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}for(p=v(b.slice(),w,y,_(i),s),o=1;o<g;o+=1)!0===O&&0!==s%32&&(p[p.length-1]&=16777215>>>24-s%32),p=v(p,s,0,$(e),s);return r(p)},this.getHMAC=function(t,n){var r,o,p,g;if(!1===C)throw Error("Cannot call getHMAC without first setting HMAC key");switch(p=f(n),t){case"HEX":r=function(e){return a(e,s,k,p)};break;case"B64":r=function(e){return u(e,s,k,p)};break;case"BYTES":r=function(e){return d(e,s,k)};break;case"ARRAYBUFFER":try{r=new ArrayBuffer(0)}catch(x){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return h(e,s,k)};break;case"UINT8ARRAY":try{r=new Uint8Array(0)}catch(x){throw Error("UINT8ARRAY not supported by this environment")}r=function(e){return l(e,s,k)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return o=v(b.slice(),w,y,_(i),s),g=m(E,$(e)),g=v(o,s,c,g,s),r(g)}}function s(e,t){this.a=e,this.b=t}function c(e,t,n,r){var i,o,s,c,a;for(t=t||[0],n=n||0,o=n>>>3,a=-1===r?3:0,i=0;i<e.length;i+=1)c=i+o,s=c>>>2,t.length<=s&&t.push(0),t[s]|=e[i]<<8*(a+c%4*r);return{value:t,binLen:8*e.length+n}}function a(e,t,n,r){var i,o,s,c="";for(t/=8,s=-1===n?3:0,i=0;i<t;i+=1)o=e[i>>>2]>>>8*(s+i%4*n),c+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return r.outputUpper?c.toUpperCase():c}function u(e,t,n,r){var i,o,s,c,a="",u=t/8;for(c=-1===n?3:0,i=0;i<u;i+=3)for(o=i+1<u?e[i+1>>>2]:0,s=i+2<u?e[i+2>>>2]:0,s=(e[i>>>2]>>>8*(c+i%4*n)&255)<<16|(o>>>8*(c+(i+1)%4*n)&255)<<8|s>>>8*(c+(i+2)%4*n)&255,o=0;4>o;o+=1)a+=8*i+6*o<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>>6*(3-o)&63):r.b64Pad;return a}function d(e,t,n){var r,i,o,s="";for(t/=8,o=-1===n?3:0,r=0;r<t;r+=1)i=e[r>>>2]>>>8*(o+r%4*n)&255,s+=String.fromCharCode(i);return s}function h(e,t,n){t/=8;var r,i,o,s=new ArrayBuffer(t);for(o=new Uint8Array(s),i=-1===n?3:0,r=0;r<t;r+=1)o[r]=e[r>>>2]>>>8*(i+r%4*n)&255;return s}function l(e,t,n){t/=8;var r,i,o=new Uint8Array(t);for(i=-1===n?3:0,r=0;r<t;r+=1)o[r]=e[r>>>2]>>>8*(i+r%4*n)&255;return o}function f(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),!0===e.hasOwnProperty("shakeLen")){if(0!==e.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=e.shakeLen}if("boolean"!==typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!==typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function p(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":e=function(e,t,r){var i,o,s,c,a,u,d=e.length;if(0!==d%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],r=r||0,a=r>>>3,u=-1===n?3:0,i=0;i<d;i+=2){if(o=parseInt(e.substr(i,2),16),isNaN(o))throw Error("String of HEX type contains invalid characters");for(c=(i>>>1)+a,s=c>>>2;t.length<=s;)t.push(0);t[s]|=o<<8*(u+c%4*n)}return{value:t,binLen:4*d+r}};break;case"TEXT":e=function(e,r,i){var o,s,c,a,u,d,h,l,f=0;if(r=r||[0],i=i||0,u=i>>>3,"UTF8"===t)for(l=-1===n?3:0,c=0;c<e.length;c+=1)for(o=e.charCodeAt(c),s=[],128>o?s.push(o):2048>o?(s.push(192|o>>>6),s.push(128|63&o)):55296>o||57344<=o?s.push(224|o>>>12,128|o>>>6&63,128|63&o):(c+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(c)),s.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),a=0;a<s.length;a+=1){for(h=f+u,d=h>>>2;r.length<=d;)r.push(0);r[d]|=s[a]<<8*(l+h%4*n),f+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(l=-1===n?2:0,s="UTF16LE"===t&&1!==n||"UTF16LE"!==t&&1===n,c=0;c<e.length;c+=1){for(o=e.charCodeAt(c),!0===s&&(a=255&o,o=a<<8|o>>>8),h=f+u,d=h>>>2;r.length<=d;)r.push(0);r[d]|=o<<8*(l+h%4*n),f+=2}return{value:r,binLen:8*f+i}};break;case"B64":e=function(e,t,r){var i,o,s,c,a,u,d,h,l=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(o=e.indexOf("="),e=e.replace(/\=/g,""),-1!==o&&o<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],r=r||0,u=r>>>3,h=-1===n?3:0,o=0;o<e.length;o+=4){for(a=e.substr(o,4),s=c=0;s<a.length;s+=1)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(s)),c|=i<<18-6*s;for(s=0;s<a.length-1;s+=1){for(d=l+u,i=d>>>2;t.length<=i;)t.push(0);t[i]|=(c>>>16-8*s&255)<<8*(h+d%4*n),l+=1}}return{value:t,binLen:8*l+r}};break;case"BYTES":e=function(e,t,r){var i,o,s,c,a,u;for(t=t||[0],r=r||0,s=r>>>3,u=-1===n?3:0,o=0;o<e.length;o+=1)i=e.charCodeAt(o),a=o+s,c=a>>>2,t.length<=c&&t.push(0),t[c]|=i<<8*(u+a%4*n);return{value:t,binLen:8*e.length+r}};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(r){throw Error("ARRAYBUFFER not supported by this environment")}e=function(e,t,r){return c(new Uint8Array(e),t,r,n)};break;case"UINT8ARRAY":try{e=new Uint8Array(0)}catch(r){throw Error("UINT8ARRAY not supported by this environment")}e=function(e,t,r){return c(e,t,r,n)};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return e}function m(e,t){return e<<t|e>>>32-t}function v(e,t){return 32<t?(t-=32,new s(e.b<<t|e.a>>>32-t,e.a<<t|e.b>>>32-t)):0!==t?new s(e.a<<t|e.b>>>32-t,e.b<<t|e.a>>>32-t):e}function _(e,t){return e>>>t|e<<32-t}function g(e,t){var n=null;n=new s(e.a,e.b);return 32>=t?new s(n.a>>>t|n.b<<32-t&4294967295,n.b>>>t|n.a<<32-t&4294967295):new s(n.b>>>t-32|n.a<<64-t&4294967295,n.a>>>t-32|n.b<<64-t&4294967295)}function y(e,t){return 32>=t?new s(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new s(0,e.a>>>t-32)}function b(e,t,n){return e&t^~e&n}function w(e,t,n){return new s(e.a&t.a^~e.a&n.a,e.b&t.b^~e.b&n.b)}function C(e,t,n){return e&t^e&n^t&n}function x(e,t,n){return new s(e.a&t.a^e.a&n.a^t.a&n.a,e.b&t.b^e.b&n.b^t.b&n.b)}function E(e){return _(e,2)^_(e,13)^_(e,22)}function S(e){var t=g(e,28),n=g(e,34);return e=g(e,39),new s(t.a^n.a^e.a,t.b^n.b^e.b)}function O(e){return _(e,6)^_(e,11)^_(e,25)}function k(e){var t=g(e,14),n=g(e,18);return e=g(e,41),new s(t.a^n.a^e.a,t.b^n.b^e.b)}function I(e){return _(e,7)^_(e,18)^e>>>3}function A(e){var t=g(e,1),n=g(e,8);return e=y(e,7),new s(t.a^n.a^e.a,t.b^n.b^e.b)}function T(e){return _(e,17)^_(e,19)^e>>>10}function R(e){var t=g(e,19),n=g(e,61);return e=y(e,6),new s(t.a^n.a^e.a,t.b^n.b^e.b)}function j(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function L(e,t,n,r){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)&65535)<<16|65535&i}function M(e,t,n,r,i){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16)&65535)<<16|65535&o}function P(e,t){var n,r,i;return n=(65535&e.b)+(65535&t.b),r=(e.b>>>16)+(t.b>>>16)+(n>>>16),i=(65535&r)<<16|65535&n,n=(65535&e.a)+(65535&t.a)+(r>>>16),r=(e.a>>>16)+(t.a>>>16)+(n>>>16),new s((65535&r)<<16|65535&n,i)}function q(e,t,n,r){var i,o,c;return i=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b),o=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(i>>>16),c=(65535&o)<<16|65535&i,i=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(o>>>16),o=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(i>>>16),new s((65535&o)<<16|65535&i,c)}function F(e,t,n,r,i){var o,c,a;return o=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b)+(65535&i.b),c=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(i.b>>>16)+(o>>>16),a=(65535&c)<<16|65535&o,o=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(65535&i.a)+(c>>>16),c=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(i.a>>>16)+(o>>>16),new s((65535&c)<<16|65535&o,a)}function N(e,t){return new s(e.a^t.a,e.b^t.b)}function $(e){var t,n=[];if("SHA-1"===e)n=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0))switch(n=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":n=t;break;case"SHA-384":n=[new s(3418070365,n[0]),new s(1654270250,n[1]),new s(2438529370,n[2]),new s(355462360,n[3]),new s(1731405415,n[4]),new s(41048885895,n[5]),new s(3675008525,n[6]),new s(1203062813,n[7])];break;case"SHA-512":n=[new s(t[0],4089235720),new s(t[1],2227873595),new s(t[2],4271175723),new s(t[3],1595750129),new s(t[4],2917565137),new s(t[5],725511199),new s(t[6],4215389547),new s(t[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(e=0;5>e;e+=1)n[e]=[new s(0,0),new s(0,0),new s(0,0),new s(0,0),new s(0,0)]}return n}function U(e,t){var n,r,i,o,s,c,a,u=[];for(n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=0;80>a;a+=1)u[a]=16>a?e[a]:m(u[a-3]^u[a-8]^u[a-14]^u[a-16],1),c=20>a?M(m(n,5),r&i^~r&o,s,1518500249,u[a]):40>a?M(m(n,5),r^i^o,s,1859775393,u[a]):60>a?M(m(n,5),C(r,i,o),s,2400959708,u[a]):M(m(n,5),r^i^o,s,3395469782,u[a]),s=o,o=i,i=m(r,30),r=n,n=c;return t[0]=j(n,t[0]),t[1]=j(r,t[1]),t[2]=j(i,t[2]),t[3]=j(o,t[3]),t[4]=j(s,t[4]),t}function D(e,t,n,r){var i;for(i=15+(t+65>>>9<<4);e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[i]=4294967295&t,e[i-1]=t/4294967296|0,t=e.length,i=0;i<t;i+=16)r=U(e.slice(i,i+16),r);return r}function B(e,t,n){var r,i,o,c,a,u,d,h,l,f,p,m,v,_,g,y,N,$,U,D,B,H,K,V=[];if("SHA-224"===n||"SHA-256"===n)f=64,m=1,H=Number,v=j,_=L,g=M,y=I,N=T,$=E,U=O,B=C,D=b,K=z;else{if("SHA-384"!==n&&"SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");f=80,m=2,H=s,v=P,_=q,g=F,y=A,N=R,$=S,U=k,B=x,D=w,K=Y}for(n=t[0],r=t[1],i=t[2],o=t[3],c=t[4],a=t[5],u=t[6],d=t[7],p=0;p<f;p+=1)16>p?(l=p*m,h=e.length<=l?0:e[l],l=e.length<=l+1?0:e[l+1],V[p]=new H(h,l)):V[p]=_(N(V[p-2]),V[p-7],y(V[p-15]),V[p-16]),h=g(d,U(c),D(c,a,u),K[p],V[p]),l=v($(n),B(n,r,i)),d=u,u=a,a=c,c=v(o,h),o=i,i=r,r=n,n=v(h,l);return t[0]=v(n,t[0]),t[1]=v(r,t[1]),t[2]=v(i,t[2]),t[3]=v(o,t[3]),t[4]=v(c,t[4]),t[5]=v(a,t[5]),t[6]=v(u,t[6]),t[7]=v(d,t[7]),t}function H(e,t){var n,r,i,o,c=[],a=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=N(t[(r>>>1)%5][(r>>>1)/5|0],new s(e[r+1],e[r]));for(n=0;24>n;n+=1){for(o=$("SHA3-"),r=0;5>r;r+=1){i=t[r][0];var u=t[r][1],d=t[r][2],h=t[r][3],l=t[r][4];c[r]=new s(i.a^u.a^d.a^h.a^l.a,i.b^u.b^d.b^h.b^l.b)}for(r=0;5>r;r+=1)a[r]=N(c[(r+4)%5],v(c[(r+1)%5],1));for(r=0;5>r;r+=1)for(i=0;5>i;i+=1)t[r][i]=N(t[r][i],a[r]);for(r=0;5>r;r+=1)for(i=0;5>i;i+=1)o[i][(2*r+3*i)%5]=v(t[r][i],K[r][i]);for(r=0;5>r;r+=1)for(i=0;5>i;i+=1)t[r][i]=N(o[r][i],new s(~o[(r+1)%5][i].a&o[(r+2)%5][i].a,~o[(r+1)%5][i].b&o[(r+2)%5][i].b));t[0][0]=N(t[0][0],V[n])}return t}var z,Y,K,V;z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Y=[new s(z[0],3609767458),new s(z[1],602891725),new s(z[2],3964484399),new s(z[3],2173295548),new s(z[4],4081628472),new s(z[5],3053834265),new s(z[6],2937671579),new s(z[7],3664609560),new s(z[8],2734883394),new s(z[9],1164996542),new s(z[10],1323610764),new s(z[11],3590304994),new s(z[12],4068182383),new s(z[13],991336113),new s(z[14],633803317),new s(z[15],3479774868),new s(z[16],2666613458),new s(z[17],944711139),new s(z[18],2341262773),new s(z[19],2007800933),new s(z[20],1495990901),new s(z[21],1856431235),new s(z[22],3175218132),new s(z[23],2198950837),new s(z[24],3999719339),new s(z[25],766784016),new s(z[26],2566594879),new s(z[27],3203337956),new s(z[28],1034457026),new s(z[29],2466948901),new s(z[30],3758326383),new s(z[31],168717936),new s(z[32],1188179964),new s(z[33],1546045734),new s(z[34],1522805485),new s(z[35],2643833823),new s(z[36],2343527390),new s(z[37],1014477480),new s(z[38],1206759142),new s(z[39],344077627),new s(z[40],1290863460),new s(z[41],3158454273),new s(z[42],3505952657),new s(z[43],106217008),new s(z[44],3606008344),new s(z[45],1432725776),new s(z[46],1467031594),new s(z[47],851169720),new s(z[48],3100823752),new s(z[49],1363258195),new s(z[50],3750685593),new s(z[51],3785050280),new s(z[52],3318307427),new s(z[53],3812723403),new s(z[54],2003034995),new s(z[55],3602036899),new s(z[56],1575990012),new s(z[57],1125592928),new s(z[58],2716904306),new s(z[59],442776044),new s(z[60],593698344),new s(z[61],3733110249),new s(z[62],2999351573),new s(z[63],3815920427),new s(3391569614,3928383900),new s(3515267271,566280711),new s(3940187606,3454069534),new s(4118630271,4000239992),new s(116418474,1914138554),new s(174292421,2731055270),new s(289380356,3203993006),new s(460393269,320620315),new s(685471733,587496836),new s(852142971,1086792851),new s(1017036298,365543100),new s(1126000580,2618297676),new s(1288033470,3409855158),new s(1501505948,4234509866),new s(1607167915,987167468),new s(1816402316,1246189591)],V=[new s(0,1),new s(0,32898),new s(2147483648,32906),new s(2147483648,2147516416),new s(0,32907),new s(0,2147483649),new s(2147483648,2147516545),new s(2147483648,32777),new s(0,138),new s(0,136),new s(0,2147516425),new s(0,2147483658),new s(0,2147516555),new s(2147483648,139),new s(2147483648,32905),new s(2147483648,32771),new s(2147483648,32770),new s(2147483648,128),new s(0,32778),new s(2147483648,2147483658),new s(2147483648,2147516545),new s(2147483648,32896),new s(0,2147483649),new s(2147483648,2147516424)],K=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],r=function(){return o}.call(t,n,t,e),void 0===r||(e.exports=r)})()},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOperationTimeoutInSeconds=60},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c8d2:function(e,t,n){var r=n("d039"),i=n("5899"),o="";e.exports=function(e){return r((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,c=i(e),a=0,u=[];for(n in c)!r(s,n)&&r(c,n)&&u.push(n);while(t.length>a)r(c,n=t[a++])&&(~o(u,n)||u.push(n));return u}},cadb:function(e,t,n){"use strict";(function(t){var r=n("a991"),i={allocate_buffer:function(e){return t.alloc?t.alloc(e):new t(e)},generate_uuid:function(){return i.uuid_to_string(i.uuid4())},uuid4:function(){for(var e=i.allocate_buffer(16),t=0;t<e.length;t++)e[t]=255*Math.random()|0;return e[7]&=15,e[7]|=64,e[8]&=63,e[8]|=128,e},uuid_to_string:function(e){if(16===e.length){var t=[e.slice(0,4),e.slice(4,6),e.slice(6,8),e.slice(8,10),e.slice(10,16)];return t.map((function(e){return e.toString("hex")})).join("-")}throw new r.TypeError("Not a UUID, expecting 16 byte buffer")}},o=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;i.string_to_uuid=function(e){var n=o.exec(e.toLowerCase());if(n)return t.from(n.slice(1).join(""),"hex");throw new r.TypeError("Not a valid UUID string: "+e)},i.clone=function(e){for(var t=Object.create(e.prototype||{}),n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},i.and=function(e,t){return void 0===t?e:function(n){return e(n)&&t(n)}},i.is_sender=function(e){return e.is_sender()},i.is_receiver=function(e){return e.is_receiver()},i.sender_filter=function(e){return i.and(i.is_sender,e)},i.receiver_filter=function(e){return i.and(i.is_receiver,e)},i.is_defined=function(e){return void 0!==e&&null!==e},e.exports=i}).call(this,n("b639").Buffer)},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d0c8:function(e,t,n){"use strict";n.d(t,"i",(function(){return r["a"]})),n.d(t,"o",(function(){return i["b"]})),n.d(t,"j",(function(){return i["a"]})),n.d(t,"k",(function(){return o["a"]})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return a["a"]})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m["a"]})),n.d(t,"h",(function(){return v["d"]})),n.d(t,"g",(function(){return v["c"]})),n.d(t,"c",(function(){return v["a"]})),n.d(t,"p",(function(){return v["e"]})),n.d(t,"m",(function(){return d["c"]})),n.d(t,"l",(function(){return d["b"]})),n.d(t,"n",(function(){return d["f"]})),n.d(t,"b",(function(){return d["a"]}));var r=n("0efd"),i=n("bb0f"),o=(n("bae7"),n("6346"),n("281e"));n("9ab4"),n("b639");o["a"];const s=void 0;var c,a=n("eaed");(function(e){function t(e,t){const r=a["a"].create(e,t);if(!r.entityPath)throw new TypeError(`Either provide "path" or the "connectionString": "${e}", must contain EntityPath="<path-to-the-entity>".`);return n(r)}function n(e){return a["a"].validate(e,{isEntityPathRequired:!0}),e.getManagementAudience=()=>`${e.endpoint}${e.entityPath}/$management`,e.getManagementAddress=()=>e.entityPath+"/$management",e.getSenderAudience=t=>void 0!=t?`${e.endpoint}${e.entityPath}/Partitions/${t}`:`${e.endpoint}${e.entityPath}`,e.getSenderAddress=t=>void 0!=t?`${e.entityPath}/Partitions/${t}`:""+e.entityPath,e.getReceiverAudience=(t,n)=>(n||(n="$default"),`${e.endpoint}${e.entityPath}/ConsumerGroups/${n}/Partitions/`+t),e.getReceiverAddress=(t,n)=>(n||(n="$default"),`${e.entityPath}/ConsumerGroups/${n}/Partitions/${t}`),e}function r(e){return a["a"].validate(e,{isEntityPathRequired:!0})}e.create=t,e.createFromConnectionConfig=n,e.validate=r})(c||(c={}));var u,d=n("58f2");(function(e){function t(e,t){e=String(e);const n=Object(d["e"])(e);t||(t="messages/events");const r={connectionString:e,hostName:n.HostName,host:n&&n.HostName?n.HostName.split(".")[0]:"",entityPath:t,sharedAccessKeyName:n.SharedAccessKeyName,sharedAccessKey:n.SharedAccessKey,deviceId:n.DeviceId};return r}function n(e){if(!e)throw new TypeError("Missing configuration");if(!e.hostName)throw new TypeError("Missing 'hostName' in configuration");if(e.hostName=String(e.hostName),!e.entityPath)throw new TypeError("Missing 'entityPath' in configuration");if(e.entityPath=String(e.entityPath),!e.sharedAccessKeyName)throw new TypeError("Missing 'sharedAccessKeyName' in configuration");if(e.sharedAccessKeyName=String(e.sharedAccessKeyName),!e.sharedAccessKey)throw new TypeError("Missing 'sharedAccessKey' in configuration");e.sharedAccessKey=String(e.sharedAccessKey),e.deviceId&&(e.deviceId=String(e.deviceId))}function r(e){n(e);const t={sharedAccessKey:e.sharedAccessKey,sharedAccessKeyName:e.sharedAccessKeyName,entityPath:e.entityPath,host:e.hostName,endpoint:`sb://${e.hostName}/`,connectionString:e.connectionString};return c.createFromConnectionConfig(t)}e.create=t,e.validate=n,e.convertToEventHubConnectionConfig=r})(u||(u={}));n("6163");var h,l,f=n("4c8d"),p=n("39ea");(function(e){function t(e){const t={};return void 0!=e.deliveryCount&&(t.delivery_count=e.deliveryCount),void 0!=e.durable&&(t.durable=e.durable),void 0!=e.firstAcquirer&&(t.first_acquirer=e.firstAcquirer),void 0!=e.priority&&(t.priority=e.priority),void 0!=e.ttl&&(t.ttl=e.ttl),p["c"]("To AmqpMessageHeader: %O",t),t}function n(e){const t={};return void 0!=e.delivery_count&&(t.deliveryCount=e.delivery_count),void 0!=e.durable&&(t.durable=e.durable),void 0!=e.first_acquirer&&(t.firstAcquirer=e.first_acquirer),void 0!=e.priority&&(t.priority=e.priority),void 0!=e.ttl&&(t.ttl=e.ttl),p["c"]("From AmqpMessageHeader: %O",t),t}e.toAmqpMessageHeader=t,e.fromAmqpMessageHeader=n})(h||(h={})),function(e){function t(e){const t={};return void 0!=e.absoluteExpiryTime&&(t.absolute_expiry_time=e.absoluteExpiryTime),void 0!=e.contentEncoding&&(t.content_encoding=e.contentEncoding),void 0!=e.contentType&&(t.content_type=e.contentType),void 0!=e.correlationId&&(t.correlation_id=e.correlationId),void 0!=e.creationTime&&(t.creation_time=e.creationTime),void 0!=e.groupId&&(t.group_id=e.groupId),void 0!=e.groupSequence&&(t.group_sequence=e.groupSequence),void 0!=e.messageId&&(t.message_id=e.messageId),void 0!=e.replyTo&&(t.reply_to=e.replyTo),void 0!=e.replyToGroupId&&(t.reply_to_group_id=e.replyToGroupId),void 0!=e.subject&&(t.subject=e.subject),void 0!=e.to&&(t.to=e.to),void 0!=e.userId&&(t.user_id=e.userId),p["d"]("To AmqpMessageProperties: %O",t),t}function n(e){const t={};return void 0!=e.absolute_expiry_time&&(t.absoluteExpiryTime=e.absolute_expiry_time),void 0!=e.content_encoding&&(t.contentEncoding=e.content_encoding),void 0!=e.content_type&&(t.contentType=e.content_type),void 0!=e.correlation_id&&(t.correlationId=e.correlation_id),void 0!=e.creation_time&&(t.creationTime=e.creation_time),void 0!=e.group_id&&(t.groupId=e.group_id),void 0!=e.group_sequence&&(t.groupSequence=e.group_sequence),void 0!=e.message_id&&(t.messageId=e.message_id),void 0!=e.reply_to&&(t.replyTo=e.reply_to),void 0!=e.reply_to_group_id&&(t.replyToGroupId=e.reply_to_group_id),void 0!=e.subject&&(t.subject=e.subject),void 0!=e.to&&(t.to=e.to),void 0!=e.user_id&&(t.userId=e.user_id),p["d"]("From AmqpMessageProperties: %O",t),t}e.toAmqpMessageProperties=t,e.fromAmqpMessageProperties=n}(l||(l={}));var m=n("231b"),v=(n("3b1f"),n("5f8b"))},d1bc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("2f9e"),i=n("ac86"),o=n("305b"),s=n("371b"),c=n("1d38"),a=n("c3a9"),u=n("b60c");class d extends a.Entity{constructor(e,t){super(),this._connection=e,this._session=t,this._initializeEventListeners()}get connection(){return this._connection}get outgoing(){return this._session.outgoing}get error(){return this._session.error}isOpen(){let e=!1;return this._connection.isOpen()&&this._session.is_open()&&(e=!0),e}isClosed(){return this._session.is_closed()}isItselfClosed(){return this._session.is_itself_closed()}remove(){this._session&&(this.removeAllListeners(),this._session.removeAllListeners(),this._session.remove())}begin(){this._session&&this._session.begin()}close(){return this.removeAllListeners(),new Promise((e,t)=>{if(r.error("[%s] The session is open ? -> %s",this.connection.id,this.isOpen()),!this.isOpen())return e();{let n,i,o;const c=()=>{clearTimeout(o),this.actionInitiated--,this._session.removeListener(s.SessionEvents.sessionError,n),this._session.removeListener(s.SessionEvents.sessionClose,i)};i=t=>(c(),r.session("[%s] Resolving the promise as the amqp session has been closed.",this.connection.id),e()),n=e=>{c(),r.error("[%s] Error occurred while closing amqp session.",this.connection.id,e.session.error),t(e.session.error)};const a=()=>{c();const e="Unable to close the amqp session due to operation timeout.";r.error("[%s] %s",this.connection.id,e),t(new u.OperationTimeoutError(e))};this._session.once(s.SessionEvents.sessionClose,i),this._session.once(s.SessionEvents.sessionError,n),r.session("[%s] Calling session.close()",this.connection.id),o=setTimeout(a,1e3*this.connection.options.operationTimeoutInSeconds),this._session.close(),this.actionInitiated++}})}createReceiver(e){return new Promise((t,n)=>{if(e&&(e.onMessage&&!e.onError||e.onError&&!e.onMessage)&&0!==e.credit_window)return n(new Error("Either provide both 'onMessage' and 'onError' handlers, or please set the credit_window to 0, if you want to provide only the 'onError' handler. This ensures no messages are lost between the receiver getting created  and the 'onMessage' handler being added."));e&&e.onSessionError&&(this.on(s.SessionEvents.sessionError,e.onSessionError),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session', while creating the 'receiver'.",this.connection.id,s.SessionEvents.sessionError)),e&&e.onSessionClose&&(this.on(s.SessionEvents.sessionClose,e.onSessionClose),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session',  while creating the 'receiver'.",this.connection.id,s.SessionEvents.sessionClose));const o=this._session.attach_receiver(e),c=new i.Receiver(this,o,e);let a,d,h;c.actionInitiated++,e&&e.onMessage&&(c.on(s.ReceiverEvents.message,e.onMessage),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.message)),e&&e.onError&&(c.on(s.ReceiverEvents.receiverError,e.onError),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.receiverError)),e&&e.onClose&&(c.on(s.ReceiverEvents.receiverClose,e.onClose),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.receiverClose)),e&&e.onSettled&&(c.on(s.ReceiverEvents.settled,e.onSettled),r.receiver("[%s] Added event handler for event '%s' on rhea-promise 'receiver'.",this.connection.id,s.ReceiverEvents.settled));const l=()=>{clearTimeout(h),c.actionInitiated--,o.removeListener(s.ReceiverEvents.receiverOpen,a),o.removeListener(s.ReceiverEvents.receiverClose,d)};a=e=>(l(),r.receiver("[%s] Resolving the promise with amqp receiver '%s'.",this.connection.id,c.name),t(c)),d=e=>(l(),r.error("[%s] Error occurred while creating a receiver over amqp connection: %O.",this.connection.id,e.receiver.error),n(e.receiver.error));const f=()=>{l();const e=`Unable to create the amqp receiver ${c.name} due to operation timeout.`;return r.error("[%s] %s",this.connection.id,e),n(new u.OperationTimeoutError(e))};o.once(s.ReceiverEvents.receiverOpen,a),o.once(s.ReceiverEvents.receiverClose,d),h=setTimeout(f,1e3*this.connection.options.operationTimeoutInSeconds)})}createSender(e){return new Promise((t,n)=>{e&&e.onSessionError&&(this.on(s.SessionEvents.sessionError,e.onSessionError),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session', while creating the sender.",this.connection.id,s.SessionEvents.sessionError)),e&&e.onSessionClose&&(this.on(s.SessionEvents.sessionClose,e.onSessionClose),r.session("[%s] Added event handler for event '%s' on rhea-promise 'session', while creating the sender.",this.connection.id,s.SessionEvents.sessionClose));const i=this._session.attach_sender(e),c=new o.Sender(this,i,e);let a,d,h;c.actionInitiated++,e&&(e.onError&&c.on(s.SenderEvents.senderError,e.onError),e.onClose&&c.on(s.SenderEvents.senderClose,e.onClose),e.onAccepted&&c.on(s.SenderEvents.accepted,e.onAccepted),e.onRejected&&c.on(s.SenderEvents.rejected,e.onRejected),e.onReleased&&c.on(s.SenderEvents.released,e.onReleased),e.onModified&&c.on(s.SenderEvents.modified,e.onModified));const l=()=>{clearTimeout(h),c.actionInitiated--,i.removeListener(s.SenderEvents.senderOpen,a),i.removeListener(s.SenderEvents.senderClose,d)};a=e=>(l(),r.sender("[%s] Resolving the promise with amqp sender '%s'.",this.connection.id,c.name),t(c)),d=e=>(l(),r.error("[%s] Error occurred while creating a sender over amqp connection: %O.",this.connection.id,e.sender.error),n(e.sender.error));const f=()=>{l();const e=`Unable to create the amqp sender ${c.name} due to operation timeout.`;return r.error("[%s] %s",this.connection.id,e),n(new u.OperationTimeoutError(e))};i.once(s.SenderEvents.sendable,a),i.once(s.SenderEvents.senderClose,d),h=setTimeout(f,1e3*this.connection.options.operationTimeoutInSeconds)})}_initializeEventListeners(){for(const e in s.SessionEvents)this._session.on(s.SessionEvents[e],t=>{const n={rheaContext:t,emitter:this,eventName:s.SessionEvents[e],emitterType:"session",connectionId:this.connection.id};c.emitEvent(n)});this._session.on(s.SenderEvents.senderError,e=>{const t={rheaContext:e,emitter:this,eventName:s.SenderEvents.senderError,emitterType:"session",connectionId:this.connection.id};c.emitEvent(t)}),this._session.on(s.SenderEvents.senderClose,e=>{const t={rheaContext:e,emitter:this,eventName:s.SenderEvents.senderClose,emitterType:"session",connectionId:this.connection.id};c.emitEvent(t)}),this._session.on(s.ReceiverEvents.receiverError,e=>{const t={rheaContext:e,emitter:this,eventName:s.ReceiverEvents.receiverError,emitterType:"session",connectionId:this.connection.id};c.emitEvent(t)}),this._session.on(s.ReceiverEvents.receiverClose,e=>{const t={rheaContext:e,emitter:this,eventName:s.ReceiverEvents.receiverClose,emitterType:"session",connectionId:this.connection.id};c.emitEvent(t)}),"function"===typeof this._session.eventNames&&r.eventHandler("[%s] rhea-promise 'session' object is listening for events: %o emitted by rhea's 'session' object.",this.connection.id,this._session.eventNames())}}t.Session=d},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9263"),c=n("9112"),a=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),l=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var p=o(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[a]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!v||"replace"===e&&(!u||!d||l)||"split"===e&&!f){var _=/./[p],g=n(p,""[e],(function(e,t,n,r,i){return t.exec===s?m&&!i?{done:!0,value:_.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),y=g[0],b=g[1];r(String.prototype,e,y),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}h&&c(RegExp.prototype[p],"sham",!0)}},d7b0:function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,c=Number(new Date),a=c-(n||c);o.diff=a,o.prev=n,o.curr=c,n=c,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var i=r.formatters[n];if("function"===typeof i){var s=t[u];e=i.call(o,s),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var d=o.log||r.log;d.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function c(){r.enable("")}function a(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=u,r.disable=c,r.enable=s,r.enabled=a,r.humanize=n("1468"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),c=o("map"),a=s("map");r({target:"Array",proto:!0,forced:!c||!a},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da5a:function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(I){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e["__isLong__"])}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},s={};function c(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=s[e],r)?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=o[e],r)?r:(n=u(e,e<0?-1:0,!1),i&&(o[e]=n),n))}function a(e,t){if(isNaN(e))return t?b:y;if(t){if(e<0)return b;if(e>=v)return S}else{if(e<=-_)return O;if(e+1>=_)return E}return e<0?a(-e,t).neg():u(e%m|0,e/m|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=c,r.fromNumber=a,r.fromBits=u;var d=Math.pow;function h(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return h(e.substring(1),t,n).neg();for(var i=a(d(n,8)),o=y,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+c),n);if(c<8){var l=a(d(n,c));o=o.mul(l).add(a(u))}else o=o.mul(i),o=o.add(a(u))}return o.unsigned=t,o}function l(e,t){return"number"===typeof e?a(e,t):"string"===typeof e?h(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=h,r.fromValue=l;var f=65536,p=1<<24,m=f*f,v=m*m,_=v/2,g=c(p),y=c(0);r.ZERO=y;var b=c(0,!0);r.UZERO=b;var w=c(1);r.ONE=w;var C=c(1,!0);r.UONE=C;var x=c(-1);r.NEG_ONE=x;var E=u(-1,2147483647,!1);r.MAX_VALUE=E;var S=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var O=u(0,-2147483648,!1);r.MIN_VALUE=O;var k=r.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},k.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}var i=a(d(e,6),this.unsigned),o=this,s="";while(1){var c=o.div(i),u=o.sub(c.mul(i)).toInt()>>>0,h=u.toString(e);if(o=c,o.isZero())return h+s;while(h.length<6)h="0"+h;s=""+h+s}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1===(1&this.low)},k.isEven=function(){return 0===(1&this.low)},k.equals=function(e){return i(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(i(e)||(e=l(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(w)},k.neg=k.negate,k.add=function(e){i(e)||(e=l(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,c=65535&e.high,a=e.low>>>16,d=65535&e.low,h=0,f=0,p=0,m=0;return m+=o+d,p+=m>>>16,m&=65535,p+=r+a,f+=p>>>16,p&=65535,f+=n+c,h+=f>>>16,f&=65535,h+=t+s,h&=65535,u(p<<16|m,h<<16|f,this.unsigned)},k.subtract=function(e){return i(e)||(e=l(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return y;if(i(e)||(e=l(e)),n){var t=n.mul(this.low,this.high,e.low,e.high);return u(t,n.get_high(),this.unsigned)}if(e.isZero())return y;if(this.eq(O))return e.isOdd()?O:y;if(e.eq(O))return this.isOdd()?O:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,s=this.low>>>16,c=65535&this.low,d=e.high>>>16,h=65535&e.high,f=e.low>>>16,p=65535&e.low,m=0,v=0,_=0,b=0;return b+=c*p,_+=b>>>16,b&=65535,_+=s*p,v+=_>>>16,_&=65535,_+=c*f,v+=_>>>16,_&=65535,v+=o*p,m+=v>>>16,v&=65535,v+=s*f,m+=v>>>16,v&=65535,v+=c*h,m+=v>>>16,v&=65535,m+=r*p+o*f+s*h+c*d,m&=65535,u(_<<16|b,m<<16|v,this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(i(e)||(e=l(e)),e.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;var t=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high);return u(t,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?b:y;var r,o,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return C;s=b}else{if(this.eq(O)){if(e.eq(w)||e.eq(x))return O;if(e.eq(O))return w;var c=this.shr(1);return r=c.div(e).shl(1),r.eq(y)?e.isNegative()?w:x:(o=this.sub(e.mul(r)),s=r.add(o.div(e)),s)}if(e.eq(O))return this.unsigned?b:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=y}o=this;while(o.gte(e)){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));var h=Math.ceil(Math.log(r)/Math.LN2),f=h<=48?1:d(2,h-48),p=a(r),m=p.mul(e);while(m.isNegative()||m.gt(o))r-=f,p=a(r,this.unsigned),m=p.mul(e);p.isZero()&&(p=w),s=s.add(p),o=o.sub(m)}return s},k.div=k.divide,k.modulo=function(e){if(i(e)||(e=l(e)),n){var t=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high);return u(t,n.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return u(~this.low,~this.high,this.unsigned)},k.and=function(e){return i(e)||(e=l(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return i(e)||(e=l(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return i(e)||(e=l(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),e&=63,0===e)return this;var t=this.high;if(e<32){var n=this.low;return u(n>>>e|t<<32-e,t>>>e,this.unsigned)}return u(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},da72:function(e,t,n){"use strict";n.r(t),n.d(t,"link",(function(){return o})),n.d(t,"error",(function(){return s})),n.d(t,"warning",(function(){return c})),n.d(t,"mgmt",(function(){return a})),n.d(t,"sender",(function(){return u})),n.d(t,"receiver",(function(){return d})),n.d(t,"batching",(function(){return h})),n.d(t,"streaming",(function(){return l})),n.d(t,"connectionCtxt",(function(){return f})),n.d(t,"entityCtxt",(function(){return p})),n.d(t,"ns",(function(){return m})),n.d(t,"message",(function(){return v})),n.d(t,"map",(function(){return _})),n.d(t,"utils",(function(){return g})),n.d(t,"messageSession",(function(){return y})),n.d(t,"semaphore",(function(){return b})),n.d(t,"sessionManager",(function(){return w})),n.d(t,"httpAtomXml",(function(){return C}));var r=n("34eb"),i=n.n(r);const o=i()("azure:service-bus:linkEntity"),s=i()("azure:service-bus:error"),c=i()("azure:service-bus:warning"),a=i()("azure:service-bus:management"),u=i()("azure:service-bus:sender"),d=i()("azure:service-bus:receiver"),h=i()("azure:service-bus:receiverbatching"),l=i()("azure:service-bus:receiverstreaming"),f=i()("azure:service-bus:connectionContext"),p=i()("azure:service-bus:clientEntityContext"),m=i()("azure:service-bus:namespace"),v=i()("azure:service-bus:servicebusMessage"),_=i()("azure:service-bus:concurrentMap"),g=i()("azure:service-bus:utils"),y=i()("azure:service-bus:messageSession"),b=i()("azure:service-bus:semaphore"),w=i()("azure:service-bus:sessionManager"),C=i()("azure:service-bus:atom-xml")},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc90:function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;c++;const o=r.formatters[i];if("function"===typeof o){const r=e[c];n=o.call(t,r),e.splice(c,1),c--}return n}),r.formatArgs.call(t,e);const a=t.log||r.log;a.apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function s(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}}function c(){const e=[...r.names.map(u),...r.skips.map(u).map(e=>"-"+e)].join(",");return r.enable(""),e}function a(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function d(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=d,r.disable=c,r.enable=s,r.enabled=a,r.humanize=n("1468"),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),c=s,a=0;a<s;a++)if(i[a]!==o[a]){c=a;break}var u=[];for(a=c;a<i.length;a++)u.push("..");return u=u.concat(o.slice(c)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===r&&(i=!1,r=s+1),46===c?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e144:function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return g})),n.d(t,"v3",(function(){return $})),n.d(t,"v4",(function(){return D})),n.d(t,"v5",(function(){return V})),n.d(t,"NIL",(function(){return W})),n.d(t,"version",(function(){return J})),n.d(t,"validate",(function(){return a})),n.d(t,"stringify",(function(){return p})),n.d(t,"parse",(function(){return b}));var r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function c(e){return"string"===typeof e&&s.test(e)}for(var a=c,u=[],d=0;d<256;++d)u.push((d+256).toString(16).substr(1));function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}var l,f,p=h,m=0,v=0;function _(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var s=e.node||l,c=void 0!==e.clockseq?e.clockseq:f;if(null==s||null==c){var a=e.random||(e.rng||o)();null==s&&(s=l=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==c&&(c=f=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:v+1,h=u-m+(d-v)/1e4;if(h<0&&void 0===e.clockseq&&(c=c+1&16383),(h<0||u>m)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=u,v=d,f=c,u+=122192928e5;var _=(1e4*(268435455&u)+d)%4294967296;i[r++]=_>>>24&255,i[r++]=_>>>16&255,i[r++]=_>>>8&255,i[r++]=255&_;var g=u/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=255&g,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=c>>>8|128,i[r++]=255&c;for(var y=0;y<6;++y)i[r+y]=s[y];return t||p(i)}var g=_;function y(e){if(!a(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var b=y;function w(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var C="6ba7b810-9dad-11d1-80b4-00c04fd430c8",x="6ba7b811-9dad-11d1-80b4-00c04fd430c8",E=function(e,t,n){function r(e,r,i,o){if("string"===typeof e&&(e=w(e)),"string"===typeof r&&(r=b(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),s=n(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var c=0;c<16;++c)i[o+c]=s[c];return i}return p(s)}try{r.name=e}catch(i){}return r.DNS=C,r.URL=x,r};function S(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return O(I(A(e),8*e.length))}function O(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t}function k(e){return 14+(e+64>>>9<<4)+1}function I(e,t){e[t>>5]|=128<<t%32,e[k(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var c=n,a=r,u=i,d=o;n=L(n,r,i,o,e[s],7,-680876936),o=L(o,n,r,i,e[s+1],12,-389564586),i=L(i,o,n,r,e[s+2],17,606105819),r=L(r,i,o,n,e[s+3],22,-1044525330),n=L(n,r,i,o,e[s+4],7,-176418897),o=L(o,n,r,i,e[s+5],12,1200080426),i=L(i,o,n,r,e[s+6],17,-1473231341),r=L(r,i,o,n,e[s+7],22,-45705983),n=L(n,r,i,o,e[s+8],7,1770035416),o=L(o,n,r,i,e[s+9],12,-1958414417),i=L(i,o,n,r,e[s+10],17,-42063),r=L(r,i,o,n,e[s+11],22,-1990404162),n=L(n,r,i,o,e[s+12],7,1804603682),o=L(o,n,r,i,e[s+13],12,-40341101),i=L(i,o,n,r,e[s+14],17,-1502002290),r=L(r,i,o,n,e[s+15],22,1236535329),n=M(n,r,i,o,e[s+1],5,-165796510),o=M(o,n,r,i,e[s+6],9,-1069501632),i=M(i,o,n,r,e[s+11],14,643717713),r=M(r,i,o,n,e[s],20,-373897302),n=M(n,r,i,o,e[s+5],5,-701558691),o=M(o,n,r,i,e[s+10],9,38016083),i=M(i,o,n,r,e[s+15],14,-660478335),r=M(r,i,o,n,e[s+4],20,-405537848),n=M(n,r,i,o,e[s+9],5,568446438),o=M(o,n,r,i,e[s+14],9,-1019803690),i=M(i,o,n,r,e[s+3],14,-187363961),r=M(r,i,o,n,e[s+8],20,1163531501),n=M(n,r,i,o,e[s+13],5,-1444681467),o=M(o,n,r,i,e[s+2],9,-51403784),i=M(i,o,n,r,e[s+7],14,1735328473),r=M(r,i,o,n,e[s+12],20,-1926607734),n=P(n,r,i,o,e[s+5],4,-378558),o=P(o,n,r,i,e[s+8],11,-2022574463),i=P(i,o,n,r,e[s+11],16,1839030562),r=P(r,i,o,n,e[s+14],23,-35309556),n=P(n,r,i,o,e[s+1],4,-1530992060),o=P(o,n,r,i,e[s+4],11,1272893353),i=P(i,o,n,r,e[s+7],16,-155497632),r=P(r,i,o,n,e[s+10],23,-1094730640),n=P(n,r,i,o,e[s+13],4,681279174),o=P(o,n,r,i,e[s],11,-358537222),i=P(i,o,n,r,e[s+3],16,-722521979),r=P(r,i,o,n,e[s+6],23,76029189),n=P(n,r,i,o,e[s+9],4,-640364487),o=P(o,n,r,i,e[s+12],11,-421815835),i=P(i,o,n,r,e[s+15],16,530742520),r=P(r,i,o,n,e[s+2],23,-995338651),n=q(n,r,i,o,e[s],6,-198630844),o=q(o,n,r,i,e[s+7],10,1126891415),i=q(i,o,n,r,e[s+14],15,-1416354905),r=q(r,i,o,n,e[s+5],21,-57434055),n=q(n,r,i,o,e[s+12],6,1700485571),o=q(o,n,r,i,e[s+3],10,-1894986606),i=q(i,o,n,r,e[s+10],15,-1051523),r=q(r,i,o,n,e[s+1],21,-2054922799),n=q(n,r,i,o,e[s+8],6,1873313359),o=q(o,n,r,i,e[s+15],10,-30611744),i=q(i,o,n,r,e[s+6],15,-1560198380),r=q(r,i,o,n,e[s+13],21,1309151649),n=q(n,r,i,o,e[s+4],6,-145523070),o=q(o,n,r,i,e[s+11],10,-1120210379),i=q(i,o,n,r,e[s+2],15,718787259),r=q(r,i,o,n,e[s+9],21,-343485551),n=T(n,c),r=T(r,a),i=T(i,u),o=T(o,d)}return[n,r,i,o]}function A(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(k(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}function T(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function R(e,t){return e<<t|e>>>32-t}function j(e,t,n,r,i,o){return T(R(T(T(t,e),T(r,o)),i),n)}function L(e,t,n,r,i,o,s){return j(t&n|~t&r,e,t,i,o,s)}function M(e,t,n,r,i,o,s){return j(t&r|n&~r,e,t,i,o,s)}function P(e,t,n,r,i,o,s){return j(t^n^r,e,t,i,o,s)}function q(e,t,n,r,i,o,s){return j(n^(t|~r),e,t,i,o,s)}var F=S,N=E("v3",48,F),$=N;function U(e,t,n){e=e||{};var r=e.random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return p(r)}var D=U;function B(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function H(e,t){return e<<t|e>>>32-t}function z(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),c=new Array(s),a=0;a<s;++a){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*a+4*d]<<24|e[64*a+4*d+1]<<16|e[64*a+4*d+2]<<8|e[64*a+4*d+3];c[a]=u}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<s;++h){for(var l=new Uint32Array(80),f=0;f<16;++f)l[f]=c[h][f];for(var p=16;p<80;++p)l[p]=H(l[p-3]^l[p-8]^l[p-14]^l[p-16],1);for(var m=n[0],v=n[1],_=n[2],g=n[3],y=n[4],b=0;b<80;++b){var w=Math.floor(b/20),C=H(m,5)+B(w,v,_,g)+y+t[w]+l[b]>>>0;y=g,g=_,_=H(v,30)>>>0,v=m,m=C}n[0]=n[0]+m>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+_>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}var Y=z,K=E("v5",80,Y),V=K,W="00000000-0000-0000-0000-000000000000";function G(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var J=G},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),c=o("IE_PROTO"),a=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),c=n("7dd0"),a="Array Iterator",u=s.set,d=s.getterFor(a);e.exports=c(Array,"Array",(function(e,t){u(this,{type:a,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,c=n("23e7"),a=n("c430"),u=n("da84"),d=n("d066"),h=n("fea9"),l=n("6eeb"),f=n("e2cc"),p=n("d44e"),m=n("2626"),v=n("861d"),_=n("1c0b"),g=n("19aa"),y=n("8925"),b=n("2266"),w=n("1c7e"),C=n("4840"),x=n("2cf4").set,E=n("b575"),S=n("cdf9"),O=n("44de"),k=n("f069"),I=n("e667"),A=n("69f3"),T=n("94ca"),R=n("b622"),j=n("605d"),L=n("2d00"),M=R("species"),P="Promise",q=A.get,F=A.set,N=A.getterFor(P),$=h,U=u.TypeError,D=u.document,B=u.process,H=d("fetch"),z=k.f,Y=z,K=!!(D&&D.createEvent&&u.dispatchEvent),V="function"==typeof PromiseRejectionEvent,W="unhandledrejection",G="rejectionhandled",J=0,Q=1,X=2,Z=1,ee=2,te=T(P,(function(){var e=y($)!==String($);if(!e){if(66===L)return!0;if(!j&&!V)return!0}if(a&&!$.prototype["finally"])return!0;if(L>=51&&/native code/.test($))return!1;var t=$.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[M]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){$.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){var r=e.value,i=e.state==Q,o=0;while(n.length>o){var s,c,a,u=n[o++],d=i?u.ok:u.fail,h=u.resolve,l=u.reject,f=u.domain;try{d?(i||(e.rejection===ee&&ae(e),e.rejection=Z),!0===d?s=r:(f&&f.enter(),s=d(r),f&&(f.exit(),a=!0)),s===u.promise?l(U("Promise-chain cycle")):(c=re(s))?c.call(s,h,l):h(s)):l(r)}catch(p){f&&!a&&f.exit(),l(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},oe=function(e,t,n){var r,i;K?(r=D.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!V&&(i=u["on"+e])?i(r):e===W&&O("Unhandled promise rejection",n)},se=function(e){x.call(u,(function(){var t,n=e.facade,r=e.value,i=ce(e);if(i&&(t=I((function(){j?B.emit("unhandledRejection",r,n):oe(W,n,r)})),e.rejection=j||ce(e)?ee:Z,t.error))throw t.value}))},ce=function(e){return e.rejection!==Z&&!e.parent},ae=function(e){x.call(u,(function(){var t=e.facade;j?B.emit("rejectionHandled",t):oe(G,t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},de=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=X,ie(e,!0))},he=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var r=re(t);r?E((function(){var n={done:!1};try{r.call(t,ue(he,n,e),ue(de,n,e))}catch(i){de(n,i,e)}})):(e.value=t,e.state=Q,ie(e,!1))}catch(i){de({done:!1},i,e)}}};te&&($=function(e){g(this,$,P),_(e),r.call(this);var t=q(this);try{e(ue(he,t),ue(de,t))}catch(n){de(t,n)}},r=function(e){F(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},r.prototype=f($.prototype,{then:function(e,t){var n=N(this),r=z(C(this,$));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=j?B.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=J&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=q(e);this.promise=e,this.resolve=ue(he,t),this.reject=ue(de,t)},k.f=z=function(e){return e===$||e===o?new i(e):Y(e)},a||"function"!=typeof h||(s=h.prototype.then,l(h.prototype,"then",(function(e,t){var n=this;return new $((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S($,H.apply(u,arguments))}}))),c({global:!0,wrap:!0,forced:te},{Promise:$}),p($,P,!1,!0),m(P),o=d(P),c({target:P,stat:!0,forced:te},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),c({target:P,stat:!0,forced:a||te},{resolve:function(e){return S(a&&this===o?$:this,e)}}),c({target:P,stat:!0,forced:ne},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,o=I((function(){var n=_(t.resolve),o=[],s=0,c=1;b(e,(function(e){var a=s++,u=!1;o.push(void 0),c++,n.call(t,e).then((function(e){u||(u=!0,o[a]=e,--c||r(o))}),i)})),--c||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=I((function(){var i=_(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),c=s.f,a=o.f,u=0;u<n.length;u++){var d=n[u];r(e,d)||c(e,d,a(t,d))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},eaed:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("58f2");(function(e){function t(e,t){e=String(e);const n=Object(i["e"])(e);if(!n.Endpoint)throw new TypeError("Missing Endpoint in Connection String.");n.Endpoint.endsWith("/")||(n.Endpoint+="/");const r={connectionString:e,endpoint:n.Endpoint,host:n&&n.Endpoint?(n.Endpoint.match(".*://([^/]*)")||[])[1]:"",sharedAccessKeyName:n.SharedAccessKeyName,sharedAccessKey:n.SharedAccessKey};return(t||n.EntityPath)&&(r.entityPath=t||n.EntityPath),r}function n(e,t){if(t||(t={}),!e)throw new TypeError("Missing configuration");if(!e.endpoint)throw new TypeError("Missing 'endpoint' in configuration");if(e.endpoint=String(e.endpoint),!e.host)throw new TypeError("Missing 'host' in configuration");if(e.host=String(e.host),t.isEntityPathRequired&&!e.entityPath)throw new TypeError("Missing 'entityPath' in configuration");if(e.entityPath=String(e.entityPath),!e.sharedAccessKeyName)throw new TypeError("Missing 'sharedAccessKeyName' in configuration");if(e.sharedAccessKeyName=String(e.sharedAccessKeyName),!e.sharedAccessKey)throw new TypeError("Missing 'sharedAccessKey' in configuration");e.sharedAccessKey=String(e.sharedAccessKey)}e.create=t,e.validate=n})(r||(r={}))},eb69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9ab4"),i=n("371b"),o=n("faa1"),s=n("ab8d");class c extends o.EventEmitter{constructor(e){e||(e={}),super(),e.createdInstance?(this._container=e.createdInstance,delete e.createdInstance):this._container=i.create_container(e),this.options=this._container.options}get id(){return this._container.id}get filter(){return this._container.filter}get types(){return this._container.types}get message(){return this._container.message}get sasl(){return this._container.sasl}get saslServerMechanisms(){return this._container.sasl_server_mechanisms}createConnection(e){const t=this._container.create_connection(e);return new s.Connection({rheaConnection:t,container:this})}connect(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.createConnection(e).open()}))}listen(e){return this._container.listen(e)}generateUUid(){return this._container.generate_uuid()}stringToUuid(e){return this._container.string_to_uuid(e)}uuidToString(e){return this._container.uuid_to_string(e)}websocketAccept(e,t){return this._container.websocket_accept(e,t)}websocketConnect(e){return this._container.websocket_connect(e)}static create(e){return new c(e)}static copyFromContainerInstance(e){return new c({createdInstance:e})}}t.Container=c},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f27a:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"h",(function(){return g}));var r=n("da5a"),i=n.n(r),o=n("da72"),s=n("3b1f"),c=n("9f19"),a=n.n(c),u=n("b639"),d=(n("a3d6"),n("a893"));const h="undefined"===typeof navigator&&"undefined"!==typeof e;function l(e){return`${e}-${Object(s["generate_uuid"])()}`}function f(e){return e&&u["Buffer"].isBuffer(e)?u["Buffer"].from([e[3],e[2],e[1],e[0],e[5],e[4],e[7],e[6],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]):e}function p(e){const t=Date.now(),n=e.getTime(),r=n-t;if(o["utils"]("Locked until utc  : %d",n),o["utils"]("Current time is   : %d",t),o["utils"]("Remaining time is : %d",r),r<1e3)return 0;const i=Math.min(r/2,1e4),s=r-i;return o["utils"]("Renew after       : %d",s),s}function m(e){return e===d["a"].abandoned?d["b"].abandon:e===d["a"].completed?d["b"].complete:e===d["a"].defered?d["b"].defer:e===d["a"].suspended?d["b"].deadletter:void 0}function v(e){const t=621355968e9,n=i.a.fromBytesBE(e),r=n.sub(t).div(1e4).toNumber(),s=new Date(r);return o["utils"]("The converted date is: %s",s.toString()),s}function _(){if(h){const e=n("3c43");return e.cpus().length}return navigator.hardwareConcurrency||1}function g(e){let t;if(o["utils"]("[utils.toBuffer] The given message body that needs to be converted to buffer is: ",e),a()(e))t=e;else{void 0===e&&(e=null);try{const n=JSON.stringify(e);t=u["Buffer"].from(n,"utf8")}catch(n){const t="An error occurred while executing JSON.stringify() on the given input "+e+(n instanceof Error?n.stack:JSON.stringify(n));throw o["error"]("[utils.toBuffer] "+t),n instanceof Error?n:new Error(t)}}return o["utils"]("[utils.toBuffer] The converted buffer is: %O.",t),t}}).call(this,n("4362"))},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),c="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),s))?n:c?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},faa1:function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function s(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=b,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function d(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,c;if(d(n),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),c=o[t]),void 0===c)c=o[t]=n,++e._eventsCount;else if("function"===typeof c?c=o[t]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),i=h(e),i>0&&c.length>i&&!c.warned){c.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=c.length,s(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function m(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?y(i):_(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function b(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var a=i[e];if(void 0===a)return!1;if("function"===typeof a)o(a,this,t);else{var u=a.length,d=_(a,u);for(n=0;n<u;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return d(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(d(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():g(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.88ee6ef9.js.map